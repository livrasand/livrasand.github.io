var app,wolConstants=(!function(e,l,o){function t(e,t,n){var i,a=n[0],r=e===s;return n[0]=function(){a&&(a.apply(l,arguments),r||(delete t[i],a=null))},i=e.apply(l,n),t[i]={args:n,created:Date.now(),cb:a,id:i},i}function n(e,t,n,i){var a,r,o=n[i];o&&(a=e===s,t(o.id),a||(t=o.args[1],r=Date.now()-o.created,o.args[1]=t=(t-=r=r<0?0:r)<0?0:t),o.args[0]=function(){o.cb&&(o.cb.apply(l,arguments),a||(delete n[i],o.cb=null))},o.created=Date.now(),o.id=e.apply(l,o.args))}var i,a,r,s,u,c;o.getElementsByClassName||(o.getElementsByClassName=function(e){var t,n,i,a=o.getElementsByTagName("*"),r=[];for(t=0,n=a.length;t<n;t++)!function(e,t){if(e)for(var n=e.split(" "),i=0;i<n.length;i++)if(n[i]===t)return 1}((i=a[t]).className,e)||r.push(i);return r}),Modernizr.localstorage||(l.localStorage=function(){var n={};return{setItem:function(e,t){n[e]=t},getItem:function(e){return n[e]},removeItem:function(e){delete n[e]},clear:function(){n={}}}}),Array.prototype.indexOf||(Array.prototype.indexOf=e.inArray),navigator.userAgent.match(/(iPad|iPhone|iPod);.*?6_\d/i)&&(i={},a={},r=l.setTimeout,s=l.setInterval,u=l.clearTimeout,c=l.clearInterval,l.setTimeout=function(){return t(r,i,arguments)},l.setInterval=function(){return t(s,a,arguments)},l.clearTimeout=function(e){var t=i[e];t&&(delete i[e],u(t.id))},l.clearInterval=function(e){var t=a[e];t&&(delete a[e],c(t.id))},l.addEventListener("scroll",function(){for(var e in i)n(r,u,i,e);for(e in a)n(s,c,a,e)}))}(jQuery,window,document,app=app||{}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return null!==this&&null!==e&&this.slice(0,e.length)===e}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return null!==this&&null!==e&&this.slice(-e.length)===e}),"function"!=typeof String.prototype.replaceToken&&(String.prototype.replaceToken=function(e,t){return null!==this&&null!==e?(e=new RegExp("{"+e+"}","g"),this.replace(e,t)):this}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<n;){var r=t[a];if(e.call(i,r,a,t))return r;a++}},configurable:!0,writable:!0}),"function"!=typeof jQuery.cachedScript&&(jQuery.cachedScript=function(e,t){"use strict";return t=$.extend(t||{},{dataType:"script",cache:!0,url:e}),jQuery.ajax(t)}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<n;){var r=t[a];if(e.call(i,r,a,t))return a;a++}return-1}}),Math.trunc||(Math.trunc=function(e){return(e=+e)-e%1||(isFinite(e)&&0!==e?e<0?-0:0:e)}),$.settle||($.settle=function(e){"use strict";e=Array.isArray(e)?e:Array.prototype.slice.call(arguments);return $.when.apply($,e.map(function(e){return(e=e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then?e:$.Deferred().resolve(e)).then(function(e){return e},function(e){return $.Deferred().resolve(new Error(e.status+" "+e.statusText+"\n"+e.responseText))})})).then(function(){return Array.prototype.slice.call(arguments)})}),{TOKENS_BibleBookName:"BibleBookName",TOKENS_BibleBookNameAndChapter:"BibleBookNameAndChapter",TOKENS_BibleChapter:"BibleChapter",TOKENS_StartingBibleChapter:"StartingBibleChapter",TOKENS_EndingBibleChapter:"EndingBibleChapter",TOKENS_BibleVerse:"BibleVerse",TOKENS_StartingBibleVerse:"StartingBibleVerse",TOKENS_EndingBibleVerse:"EndingBibleVerse",TOKENS_DateTime:"DateTime",TOKENS_LanguageCount:"LanguageCount",TOKENS_LanguageName:"LanguageName",TOKENS_LibraryName:"LibraryName",TOKENS_AlternateSuggestion:"AlternateSuggestion",TOKENS_LanguageLink:"LanguageLink",TOKENS_Link:"Link",TOKENS_URL:"URL",TOKENS_TotalLanguages:"TotalLanguages",TOKENS_PublicationSymbol:"PublicationSymbol",TOKENS_PageNumber:"PageNumber",TOKENS_StartingPageNumber:"StartingPageNumber",TOKENS_EndingPageNumber:"EndingPageNumber",TOKENS_ResultsCount:"ResultsCount",TOKENS_ResultsPageCount:"ResultsPageCount",TOKENS_ResultsPageNumber:"ResultsPageNumber",TOKENS_SearchCategory:"SearchCategory",TOKENS_Proximity:"Proximity",TOKENS_DocumentAbbreviation:"DocumentAbbreviation",QUERY_Bible:"bible",QUERY_BibleChapter:"bible-chapter",QUERY_BibleVerse:"bible-verse",QUERY_EndBibleChapter:"end-bible-chapter",QUERY_EndBibleVerse:"end-bible-verse",QUERY_Paragraph:"paragraph",QUERY_EndParagraph:"end-paragraph",QUERY_Par:"par",QUERY_Date:"date",QUERY_SEARCH_TRIGGER_FieldSubmit:"a",QUERY_SEARCH_TRIGGER_ButtonSubmit:"b",QUERY_SEARCH_TRIGGER_NavWithLink:"c",QUERY_SEARCH_TRIGGER_NavWithoutLink:"d",QUERY_SEARCH_TRIGGER_ChangeFilter:"e",QUERY_SEARCH_TRIGGER_ChangeSort:"f",QUERY_SEARCH_TRIGGER_PaginationLink:"g",SHARETYPE_Bible:"bible-chapter",SHARETYPE_Document:"document",SHARETYPE_DailyText:"daily-text"}),wolLib,wolLib,app,BoundaryWidthLarge=((()=>{var n={211:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ClientEvents:()=>o,CookieDataTypes:()=>l,DefaultCookieSettingsStorageProvider:()=>u,LegalNoticesClient:()=>s});i=[function(e,t,n){var i;n.d(t,"a",function(){return i}),(n=i=i||{}).STRICTLY_NECESSARY="STRICTLY_NECESSARY",n.FUNCTIONAL="FUNCTIONAL",n.DIAGNOSTIC="DIAGNOSTIC",n.USAGE="USAGE"},function(e,t,n){function i(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}n.d(t,"a",function(){return i})},function(e,t,n){var i=n(18),a=(n.o(i,"ClientEvents")&&n.d(t,"ClientEvents",function(){return i.ClientEvents}),n.o(i,"LegalNoticesClient")&&n.d(t,"LegalNoticesClient",function(){return i.LegalNoticesClient}),n(10)),r=(n.d(t,"ClientEvents",function(){return a.a}),n(0)),o=(n.d(t,"CookieDataTypes",function(){return r.a}),n(40)),l=(n.d(t,"LegalNoticesClient",function(){return o.a}),n(16));n.d(t,"DefaultCookieSettingsStorageProvider",function(){return l.a})},function(e,t,n){function i(e){return Array.isArray(e)}n.d(t,"a",function(){return i})},function(e,t,n){n(19);var i=n(20),a=(n.o(i,"isArray")&&n.d(t,"isArray",function(){return i.isArray}),n.o(i,"isEnumValue")&&n.d(t,"isEnumValue",function(){return i.isEnumValue}),n.o(i,"isString")&&n.d(t,"isString",function(){return i.isString}),n.o(i,"isUndefined")&&n.d(t,"isUndefined",function(){return i.isUndefined}),n.o(i,"makeTemplate")&&n.d(t,"makeTemplate",function(){return i.makeTemplate}),n(21)),r=(n.o(a,"isArray")&&n.d(t,"isArray",function(){return a.isArray}),n.o(a,"isEnumValue")&&n.d(t,"isEnumValue",function(){return a.isEnumValue}),n.o(a,"isString")&&n.d(t,"isString",function(){return a.isString}),n.o(a,"isUndefined")&&n.d(t,"isUndefined",function(){return a.isUndefined}),n.o(a,"makeTemplate")&&n.d(t,"makeTemplate",function(){return a.makeTemplate}),n(22)),o=(n.o(r,"isArray")&&n.d(t,"isArray",function(){return r.isArray}),n.o(r,"isEnumValue")&&n.d(t,"isEnumValue",function(){return r.isEnumValue}),n.o(r,"isString")&&n.d(t,"isString",function(){return r.isString}),n.o(r,"isUndefined")&&n.d(t,"isUndefined",function(){return r.isUndefined}),n.o(r,"makeTemplate")&&n.d(t,"makeTemplate",function(){return r.makeTemplate}),n(23)),l=(n.o(o,"isArray")&&n.d(t,"isArray",function(){return o.isArray}),n.o(o,"isEnumValue")&&n.d(t,"isEnumValue",function(){return o.isEnumValue}),n.o(o,"isString")&&n.d(t,"isString",function(){return o.isString}),n.o(o,"isUndefined")&&n.d(t,"isUndefined",function(){return o.isUndefined}),n.o(o,"makeTemplate")&&n.d(t,"makeTemplate",function(){return o.makeTemplate}),n(24)),s=(n.o(l,"isArray")&&n.d(t,"isArray",function(){return l.isArray}),n.o(l,"isEnumValue")&&n.d(t,"isEnumValue",function(){return l.isEnumValue}),n.o(l,"isString")&&n.d(t,"isString",function(){return l.isString}),n.o(l,"isUndefined")&&n.d(t,"isUndefined",function(){return l.isUndefined}),n.o(l,"makeTemplate")&&n.d(t,"makeTemplate",function(){return l.makeTemplate}),n(25),n(26),n(11),n(27)),u=(n.o(s,"isArray")&&n.d(t,"isArray",function(){return s.isArray}),n.o(s,"isEnumValue")&&n.d(t,"isEnumValue",function(){return s.isEnumValue}),n.o(s,"isString")&&n.d(t,"isString",function(){return s.isString}),n.o(s,"isUndefined")&&n.d(t,"isUndefined",function(){return s.isUndefined}),n.o(s,"makeTemplate")&&n.d(t,"makeTemplate",function(){return s.makeTemplate}),n(28),n(5),n(3)),c=(n.d(t,"isArray",function(){return u.a}),n(9),n(29),n(30)),d=(n.d(t,"isEnumValue",function(){return c.a}),n(31),n(32),n(1),n(12),n(33),n(6)),p=(n.d(t,"isString",function(){return d.a}),n(8)),h=(n.d(t,"isUndefined",function(){return p.a}),n(13),n(34),n(35),n(36),n(37),n(38),n(14),n(15),n(39));n.d(t,"makeTemplate",function(){return h.a})},function(e,t,n){n.d(t,"a",function(){return a});var i=n(7);function a(e){return"[object Arguments]"===Object(i.a)(e)}},function(e,t,n){n.d(t,"a",function(){return r});var i=n(1),a=n(7);function r(e){return"string"==typeof e||Object(i.a)(e)&&"[object String]"===Object(a.a)(e)}},function(e,t,n){function i(e){return Object.prototype.toString.call(e)}n.d(t,"a",function(){return i})},function(e,t,n){function i(e){return void 0===e}n.d(t,"a",function(){return i})},function(e,t,n){n.d(t,"a",function(){return r});var i=n(3),a=n(6);function r(e){if(!Object(i.a)(e))return!1;for(var t of e)if(!Object(a.a)(t))return!1;return!0}},function(e,t,n){var i;n.d(t,"a",function(){return i}),(n=i=i||{}).FIRST_RUN_POPUP_SHOWN="first-run-popup-shown",n.FIRST_RUN_POPUP_CLOSED="first-run-popup-closed",n.SETTINGS_SHOWN="settings-shown",n.SETTINGS_CLOSED="settings-closed",n.SETTINGS_CHANGED="settings-changed",n.ACCEPT_ALL="accept-all",n.DECLINE_ALL="decline-all",n.ERROR="error"},function(e,t,n){n.d(t,"a",function(){return o});var i=n(1),a=n(3),r=n(5);function o(e){return Object(i.a)(e)&&!Object(a.a)(e)&&!Object(r.a)(e)}},function(e,t,n){n.d(t,"a",function(){return r});var i=n(1),a=n(7);function r(e){return Object(i.a)(e)&&"[object Promise]"===Object(a.a)(e)}},function(e,t,n){function i(e){return null===e}n.d(t,"a",function(){return i})},function(e,t,n){n.d(t,"a",function(){return a});var i=n(7),s=n(1);function u(e){var t=typeof e;return"symbol"==t||"object"==t&&null!=e&&"[object Symbol]"===Object(i.a)(e)}const c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,p=".".charCodeAt(0),h=/\\(\\)?/g,g=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g");function a(e,t,n){if(!Object(s.a)(e))return n;var i,a=function(e,t){if(Array.isArray(e))return e;if(function(e,t){var n;if(!Array.isArray(e))return n=typeof e,"number"==n||"boolean"==n||null==e||u(e)||d.test(e)||!c.test(e)||null!=t&&e in Object(t)}(e,t))return[e];{const r=[];return(t=e).charCodeAt(0)===p&&r.push(""),t.replace(g,(e,t,n,i)=>{let a=e;return n?a=i.replace(h,"$1"):t&&(a=t),r.push(a),""}),r}}(t,e),r=a.length;let o=0,l=e;for(;null!=l&&o<r;)l=l["string"==typeof(i=a[o])||u(i)?i:Object.is(i,-0)?"-0":""+i],o+=1;t=0<o&&o===r?l:void 0;return void 0===t?n:t}},function(e,t,n){n.d(t,"a",function(){return s});var i=n(6);const a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(a).join("|")+")",o=new RegExp(r),l=new RegExp(r,"g");function s(e){return Object(i.a)(e)&&o.test(e)?e.replace(l,e=>a[e]):e}},function(e,t,n){n.d(t,"a",function(){return l});var t=n(17),i=n.n(t),a=n(0);function r(e){return"cookieConsent-"+e}function o(e){e=i.a.get(r(e));return"true"===e||"false"!==e&&void 0}class l{async get(){return{STRICTLY_NECESSARY:!0,FUNCTIONAL:o(a.a.FUNCTIONAL),DIAGNOSTIC:o(a.a.DIAGNOSTIC),USAGE:o(a.a.USAGE)}}async set(e){for(const n of Object.keys(e)){var t=e[n];void 0!==t&&(n===a.a.STRICTLY_NECESSARY?i.a.set(r(n),"true",{expires:365}):i.a.set(r(n),""+t,{expires:365}))}}}},function(e,t,n){function o(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)e[n]=i[n]}return e}e.exports=function t(l,r){function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=o({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i,a="";for(i in n)n[i]&&(a+="; "+i,!0!==n[i]&&(a+="="+n[i].split(";")[0]));return document.cookie=e+"="+l.write(t,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},i=0;i<t.length;i++){var a=t[i].split("="),r=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(n[o]=l.read(r,o),e===o)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",o({},t,{expires:-1}))},withAttributes:function(e){return t(this.converter,o({},this.attributes,e))},withConverter:function(e){return t(o({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(l)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},function(e,t){},function(e,t,n){n(1),n(3),n(5),n(9),n(6)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(5),n(9),n(1),n(3)},function(e,t,n){n(1),n(3),n(5),n(6)},function(e,t){},function(e,t,n){n(8)},function(e,t,n){n(3),n(6),n(5),n(8)},function(e,t,n){function i(t,n){return Object.keys(t).map(e=>t[e]).some(e=>e===n)}n.d(t,"a",function(){return i})},function(e,t,n){n(11)},function(e,t,n){n(7),n(1)},function(e,t,n){n(12),n(1)},function(e,t,n){n(13),n(8)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n.d(t,"a",function(){return a});var i=n(14),l=n(15);const s={escape:/<%-([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};function u(e,t){return Object(i.a)(t,(e||"").trim(),"")}function a(a,e){let t,n,r=[],o=0,i=Object.assign({},s,e||{});return t=[i.escape.source,i.interpolate.source],n=new RegExp(t.join("|")+"|$","g"),a.replace(n,(e,t,n,i)=>(r.push(a.slice(o,i)),o=i+e.length,t?r.push(e=>Object(l.a)(u(t,e))):n&&r.push(u.bind(null,n)),"")),n=>r.reduce((e,t)=>e+("function"==typeof t?""+t(n):t),"")}},function(F,e,t){t.d(e,"a",function(){return ne});var a=t(4),r=t(0);const M={firstRunPopupChromeTemplate:'<div class="<%- cssClasses %>">\n   <%= content %>\n</div>\n',firstRunPopupContentTemplate:'<div class="<%- cssClasses %> lnc-languageBoundary"\n   lang="<%- languageSummary.locale %>"\n   xml:lang="<%- languageSummary.locale %>"\n   dir="<%- languageSummary.direction %>">\n\n   <h3><%= translations.privacyBannerHeading %></h3>\n   <p><%= translations.privacyBannerMessage %></p>\n\n   <div class="lnc-actionButtons">\n      <button class="lnc-button lnc-button--primary lnc-acceptCookiesButton"><%= translations.acceptCookiesButton %></button>\n      <button class="lnc-button lnc-button--primary lnc-declineCookiesButton"><%= translations.declineCookiesButton %></button>\n      <button class="lnc-button lnc-button--secondary lnc-customizeCookiesButton"><%= translations.customizeCookiesButton %></button>\n   </div>\n</div>\n',settingsContentTemplate:'<div class="<%- cssClasses %> lnc-languageBoundary"\n   lang="<%- languageSummary.locale %>"\n   xml:lang="<%- languageSummary.locale %>"\n   dir="<%- languageSummary.direction %>">\n\n   <p><%= translations.privacySettingsMessage %></p>\n\n   <div class="lnc-actionButtons">\n      <button class="lnc-button lnc-button--primary lnc-allowAllButton"><%= translations.allowAllCookiesButton %></button>\n      <button class="lnc-button lnc-button--primary lnc-declineAllButton"><%= translations.declineAllCookiesButton %></button>\n   </div>\n\n   <p><%= translations.privacySettingsSecondaryMessage %></p>\n\n   <h2 class="lnc-sectionSeparator"><%= translations.customizePrivacySettingsHeading %></h2>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--strictlyNecessary" name="lnc-setting--strictlyNecessary" data-cookie-type="STRICTLY_NECESSARY" disabled />\n      <label class="lnc-setting-label" for="lnc-setting--strictlyNecessary"><%= translations.strictlyNecessaryCookiesLabel %></label>\n   </div>\n   <p><%= translations.strictlyNecessaryCookiesMessage %></p>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--functional" name="lnc-setting--functional" data-cookie-type="FUNCTIONAL" />\n      <label class="lnc-setting-label" for="lnc-setting--functional"><%= translations.functionalCookiesLabel %></label>\n   </div>\n   <p><%= translations.functionalCookiesMessage %></p>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--diagnostic" name="lnc-setting--diagnostic" data-cookie-type="DIAGNOSTIC" />\n      <label class="lnc-setting-label" for="lnc-setting--diagnostic"><%= translations.diagnosticCookiesLabel %></label>\n   </div>\n   <p><%= translations.diagnosticCookiesMessage %></p>\n\n   <div class="lnc-setting lnc-checkbox">\n      <input type="checkbox" id="lnc-setting--usage" name="lnc-setting--usage" data-cookie-type="USAGE" />\n      <label class="lnc-setting-label" for="lnc-setting--usage"><%= translations.usageCookiesLabel %></label>\n   </div>\n   <p><%= translations.usageCookiesMessage %></p>\n\n   <div class="lnc-actionButtons">\n      <button class="lnc-button lnc-button--primary lnc-confirmButton"><%= translations.confirmCookieSettingsButton %></button>\n   </div>\n</div>\n',modalTemplate:'<div class="lnc-modal-overlay">\n   <div class="lnc-modal lnc-languageBoundary"\n      role="dialog"\n      aria-role="dialog"\n      aria-modal="true"\n      aria-labelledby="lnc-modal-header-heading">\n      <div class="lnc-modal-header">\n         <h1 tabindex="0" id="lnc-modal-header-heading" class="lnc-modal-header-heading"></h1>\n         <button class="lnc-modal-header-closeButton">\n            <span class="lnc-screenReaderOnly"></span>\n            <span class="lnc-modal-header-closeButton-icon" aria-hidden="true">\n               <%= closeIconSVG %>\n            </span>\n         </button>\n      </div>\n      <div class="lnc-modal-body">\n         <div class="lnc-loadingIndicator"></div>\n      </div>\n   </div>\n</div>\n'};let n={};function i(e){return n[e]||(n[e]=Object(a.makeTemplate)(M[e])),n[e]}function C(e,t,n){var i=Array.prototype.slice.apply(e.querySelectorAll(o));return t&&l.call(e,o)&&i.unshift(e),i.filter(n)}function U(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function w(e,t){if(t=t||{},e)return!1!==l.call(e,o)&&x(t,e);throw new Error("No node provided")}function S(e,t){if(t=t||{},e)return!1!==l.call(e,B)&&A(t,e);throw new Error("No node provided")}var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],o=e.join(","),l="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,k=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?"true"!==e.contentEditable&&("AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex"))?e.tabIndex:0:t},s=function(e){return"INPUT"===e.tagName},A=function(e,t){return!(t.disabled||s(n=t)&&"hidden"===n.type||function(e,t){if("hidden"===getComputedStyle(e).visibility)return 1;var n=l.call(e,"details>summary:first-of-type")?e.parentElement:e;if(l.call(n,"details:not([open]) *"))return 1;if(t&&"full"!==t){if("non-zero-area"===t)return t=(n=e.getBoundingClientRect()).width,n=n.height,0===t&&0===n}else for(;e;){if("none"===getComputedStyle(e).display)return 1;e=e.parentElement}}(t,e.displayCheck)||"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some(function(e){return"SUMMARY"===e.tagName})||function(e){if(s(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"BUTTON"===e.tagName)for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if("LEGEND"===i.tagName)return!i.contains(e)}return 1}t=t.parentElement}}(t));var n},x=function(e,t){return!(!A(e,t)||s(n=e=t)&&"radio"===n.type&&!function(e){if(!e.name)return 1;function t(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')}var n=e.form||e.ownerDocument;if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)i=t(window.CSS.escape(e.name));else try{i=t(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),0}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(i,e.form);return!i||i===e}(e)||k(t)<0);var n},B=e.concat("iframe").join(",");function T(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function H(e){return setTimeout(e,0)}function E(e,n){var i=-1;return e.every(function(e,t){return!n(e)||(i=t,!1)}),i}function P(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"==typeof e?e.apply(void 0,n):e}function I(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target}u=[];var u,V={activateTrap:function(e){0<u.length&&((t=u[u.length-1])!==e&&t.pause());var t=u.indexOf(e);-1!==t&&u.splice(t,1),u.push(e)},deactivateTrap:function(e){e=u.indexOf(e);-1!==e&&u.splice(e,1),0<u.length&&u[u.length-1].unpause()}};function c(e){const t=document.createElement("div");return t.innerHTML=e,t.children[0]}class j{constructor(){this._eventListeners=[]}add(e,t,n){e().addEventListener(t,n),this._eventListeners.push({getTarget:e,fn:n,eventName:t})}removeAll(){for(const e of this._eventListeners){const t=e.getTarget();t&&t.removeEventListener(e.eventName,e.fn)}}}var q=t(41);function d(){class e{}return Object.assign(e.prototype,q.EventEmitterMixin),e}var p=!1;"undefined"!=typeof window&&(window.addEventListener("testPassive",null,e={get passive(){p=!0}}),window.removeEventListener("testPassive",null,e));function z(t){return f.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})}function h(e){return e=e||window.event,!!z(e.target)||1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1)}var L,g,m="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),f=[],y=!1,v=-1,b=void 0,_=void 0,O=void 0;(e=L=L||{}).FADE_IN="fadeIn",e.FADE_OUT="fadeOut",e.SLIDE_UP="slideUp",e.SLIDE_DOWN="slideDown";const R={[L.FADE_IN]:200,[L.FADE_OUT]:200,[L.SLIDE_UP]:600,[L.SLIDE_DOWN]:400};class Q{trigger(e,t){if(e){const n=`lnc-transition--${t}-start`,i=`lnc-transition--${t}-end`;e.classList.add(n),e.style.transitionDuration=R[t]+"ms",setTimeout(()=>{e&&(e.classList.remove(n),e.classList.add(i))},0),setTimeout(()=>{e&&(e.classList.remove(i),e.style.transitionDuration="")},R[t])}}}(g=g||{}).CLOSED="modal-closed";class $ extends d(){constructor(e){super(),this._transition=new Q,this._globalListeners=new j,this._closeInProgress=!1,this._languageClasses=[],this._options=e||{}}show(){if(!this._overlayEl){let e=this._render();this._overlayEl=e,this._modalEl=e.querySelector(".lnc-modal"),this._focusTrap=(t=this._modalEl,l=(null==(m={allowOutsideClick:!0})?void 0:m.document)||document,s=function(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach(function(e){var t,n;t=i,n=a[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},m),u={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},i=function(t){return!(!t||!u.containers.some(function(e){return e.contains(t)}))},c=function(e){var t=s[e];if("function"==typeof t){for(var n=arguments.length,i=new Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t=t.apply(void 0,i)}if(!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var r=t;if("string"!=typeof t||(r=l.querySelector(t)))return r;throw new Error("`".concat(e,"` as selector refers to no known node"))},a=function(){var e,t=c("initialFocus");if(!1===t)return!1;if(t=void 0===t?i(l.activeElement)?l.activeElement:(e=u.tabbableGroups[0])&&e.firstTabbableNode||c("fallbackFocus"):t)return t;throw new Error("Your focus-trap needs to have at least one focusable element")},d=function(){if(u.tabbableGroups=u.containers.map(function(e){i=[],a=[],C(e,(n={}).includeContainer,x.bind(null,n)).forEach(function(e,t){var n=k(e);0===n?i.push(e):a.push({documentOrder:t,tabIndex:n,node:e})});var i,a,t,n=a.sort(U).map(function(e){return e.node}).concat(i),r=C(e,(t={}).includeContainer,A.bind(null,t));if(0<n.length)return{container:e,firstTabbableNode:n[0],lastTabbableNode:n[n.length-1],nextTabbableNode:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=r.findIndex(function(e){return e===t});return e?r.slice(n+1).find(function(e){return w(e)}):r.slice(0,n).reverse().find(function(e){return w(e)})}}}).filter(function(e){return!!e}),u.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},p=function e(t){var n;!1!==t&&t!==l.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!s.preventScroll}),u.mostRecentlyFocusedNode=t,(n=t).tagName&&"input"===n.tagName.toLowerCase()&&"function"==typeof n.select&&t.select()):e(a()))},n=function(e){var t=I(e);i(t)||(P(s.clickOutsideDeactivates,e)?o.deactivate({returnFocus:s.returnFocusOnDeactivate&&!S(t)}):P(s.allowOutsideClick,e)||e.preventDefault())},r=function(e){var t=I(e),n=i(t);n||t instanceof Document?n&&(u.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),p(u.mostRecentlyFocusedNode||a()))},h=function(e){if(("Escape"===e.key||"Esc"===e.key||27===e.keyCode)&&!1!==P(s.escapeDeactivates,e))return e.preventDefault(),void o.deactivate();var t,n,i,a,r;"Tab"!==e.key&&9!==e.keyCode||(a=I(e=e),d(),r=null,0<u.tabbableGroups.length?(i=0<=(t=E(u.tabbableGroups,function(e){return e.container.contains(a)}))?u.tabbableGroups[t]:void 0,t<0?r=e.shiftKey?u.tabbableGroups[u.tabbableGroups.length-1].lastTabbableNode:u.tabbableGroups[0].firstTabbableNode:e.shiftKey?0<=(n=(n=E(u.tabbableGroups,function(e){e=e.firstTabbableNode;return a===e}))<0&&(i.container===a||S(a)&&!w(a)&&!i.nextTabbableNode(a,!1))?t:n)&&(n=0===n?u.tabbableGroups.length-1:n-1,r=u.tabbableGroups[n].lastTabbableNode):0<=(n=(n=E(u.tabbableGroups,function(e){e=e.lastTabbableNode;return a===e}))<0&&(i.container===a||S(a)&&!w(a)&&!i.nextTabbableNode(a))?t:n)&&(i=n===u.tabbableGroups.length-1?0:n+1,r=u.tabbableGroups[i].firstTabbableNode)):r=c("fallbackFocus"),r&&(e.preventDefault(),p(r)))},g=function(e){var t;P(s.clickOutsideDeactivates,e)||(t=I(e),i(t)||P(s.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation()))},(o={activate:function(e){if(u.active)return this;function t(){a&&d(),v(),i&&i()}var n=f(e,"onActivate"),i=f(e,"onPostActivate"),a=f(e,"checkCanFocusTrap");a||d(),u.active=!0,u.paused=!1,u.nodeFocusedBeforeActivation=l.activeElement,n&&n();return a?a(u.containers.concat()).then(t,t):t(),this},deactivate:function(e){if(!u.active)return this;clearTimeout(u.delayInitialFocusTimer),u.delayInitialFocusTimer=void 0,b(),u.active=!1,u.paused=!1,V.deactivateTrap(o);function t(){H(function(){r&&p(y(u.nodeFocusedBeforeActivation)),i&&i()})}var n=f(e,"onDeactivate"),i=f(e,"onPostDeactivate"),a=f(e,"checkCanReturnFocus"),r=(n&&n(),f(e,"returnFocus","returnFocusOnDeactivate"));return r&&a?a(y(u.nodeFocusedBeforeActivation)).then(t,t):t(),this},pause:function(){return!u.paused&&u.active&&(u.paused=!0,b()),this},unpause:function(){return u.paused&&u.active&&(u.paused=!1,d(),v()),this},updateContainerElements:function(e){e=[].concat(e).filter(Boolean);return u.containers=e.map(function(e){return"string"==typeof e?l.querySelector(e):e}),u.active&&d(),this}}).updateContainerElements(t),o),(this._options.cssClasses||[]).forEach(e=>{this._modalEl&&this._modalEl.classList.add(e)}),this._transition.trigger(this._overlayEl,L.FADE_IN),window.document.body.appendChild(this._overlayEl),this._listenForGlobalEventsThatCloseModal(),this._listenForEvents(e),this._focusTrap.activate();var t,o,l,s,u,i,c,a,d,p,n,r,h,g,m=e.querySelector(".lnc-modal-body");if(!m)throw new Error('Expected the modal to contain a ".lnc-modal-body" element, but it did not.');function f(e,t,n){return e&&void 0!==e[t]?e[t]:s[n||t]}function y(e){var t=c("setReturnFocus",e);return t||!1!==t&&e}function v(){if(u.active)V.activateTrap(o),u.delayInitialFocusTimer=s.delayInitialFocus?H(function(){p(a())}):p(a()),l.addEventListener("focusin",r,!0),l.addEventListener("mousedown",n,{capture:!0,passive:!1}),l.addEventListener("touchstart",n,{capture:!0,passive:!1}),l.addEventListener("click",g,{capture:!0,passive:!1}),l.addEventListener("keydown",h,{capture:!0,passive:!1})}function b(){if(u.active)l.removeEventListener("focusin",r,!0),l.removeEventListener("mousedown",n,!0),l.removeEventListener("touchstart",n,!0),l.removeEventListener("click",g,!0),l.removeEventListener("keydown",h,!0)}this._lockBodyScrolling(m)}}close(){this._overlayEl&&!this._closeInProgress&&(this._closeInProgress=!0,this._transition.trigger(this._overlayEl,L.FADE_OUT),setTimeout(()=>{this._overlayEl&&this._overlayEl.parentNode&&this._modalEl&&(this._unlockBodyScrolling(),this._overlayEl.parentNode.removeChild(this._overlayEl),this._overlayEl=void 0,this._modalEl=void 0,this._closeInProgress=!1,this._focusTrap&&this._focusTrap.deactivate(),this.emit(g.CLOSED))},R[L.FADE_OUT]),this._globalListeners.removeAll())}setContent(e){var t;const n=null==(t=this._overlayEl)?void 0:t.querySelector(".lnc-modal-body");n&&("string"==typeof e?n.innerHTML=e:(n.innerHTML="",n.appendChild(e)))}setLanguageAttributes(e){if(this._overlayEl){const t=this._overlayEl.querySelector(".lnc-modal");t&&(t.setAttribute("lang",e.locale),t.setAttribute("xml:lang",e.locale),t.setAttribute("dir",e.direction))}}setLanguageClasses(e){this._modalEl&&(this._languageClasses.forEach(e=>{this._modalEl&&this._modalEl.classList.remove(e)}),e.forEach(e=>{this._modalEl&&this._modalEl.classList.add(e)}),this._languageClasses=e)}setTitle(e){if(this._modalEl){const t=this._modalEl.querySelector(".lnc-modal-header-heading");t&&(t.innerHTML=e)}}setCloseButtonARIALabel(e){if(this._modalEl){const t=this._modalEl.querySelector(".lnc-modal-header-closeButton > .lnc-screenReaderOnly");t&&(t.innerHTML=e)}}_render(){var e;return c((e={closeIconSVG:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" focusable="false" role="img" aria-hidden="true">\n   <path fill="currentColor" d="M41.001 10.303L39.698 9 25 23.698 10.304 9l-1.303 1.303L23.697 25 9.001 39.695l1.303 1.302 14.695-14.694L39.694 41l1.303-1.303L26.302 25z"/>\n</svg>\n'},i("modalTemplate")(e)))}_listenForEvents(e){const t=e.querySelector(".lnc-modal-header-closeButton"),n=e.classList.contains("lnc-modal-overlay")?e:null;t&&t.addEventListener("click",()=>{this.close()}),n&&n.addEventListener("click",e=>{e=e.target;n&&e&&n.isSameNode(e)&&this.close()})}_listenForGlobalEventsThatCloseModal(){this._globalListeners.add(()=>window,"keyup",e=>{"Escape"===e.key&&this.close()})}_lockBodyScrolling(e){var i;this._lastKnownBodyRightValue=window.document.body.style.right,window.document.body.style.right="0px",(i=e)?f.some(function(e){return e.targetElement===i})||(e={targetElement:i,options:{}},f=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(f),[e]),m?window.requestAnimationFrame(function(){var e,t,n,i;void 0===_&&(_={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left},e=window,t=e.scrollY,n=e.scrollX,i=e.innerHeight,document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=i-window.innerHeight;e&&i<=t&&(document.body.style.top=-(t+e))})},300))}):(void 0===O&&(window.innerWidth,document.documentElement.clientWidth),void 0===b&&(b=document.body.style.overflow,document.body.style.overflow="hidden")),m&&(i.ontouchstart=function(e){1===e.targetTouches.length&&(v=e.targetTouches[0].clientY)},i.ontouchmove=function(e){var t,n;1===e.targetTouches.length&&(t=i,n=(e=e).targetTouches[0].clientY-v,z(e.target)||(t&&0===t.scrollTop&&0<n||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?h(e):e.stopPropagation()))},y||(document.addEventListener("touchmove",h,p?{passive:!1}:void 0),y=!0))):console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices."),window.requestAnimationFrame(()=>{"fixed"!==window.document.body.style.position&&(window.document.body.style.right="")})}_unlockBodyScrolling(){let e=window.document.body.style.position;var t,n;m&&(f.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),y&&(document.removeEventListener("touchmove",h,p?{passive:!1}:void 0),y=!1),v=-1),m?void 0!==_&&(t=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10),document.body.style.position=_.position,document.body.style.top=_.top,document.body.style.left=_.left,window.scrollTo(n,t),_=void 0):(void 0!==O&&(document.body.style.paddingRight=O,O=void 0),void 0!==b&&(document.body.style.overflow=b,b=void 0)),f=[],window.requestAnimationFrame(()=>{"fixed"===e&&(window.document.body.style.right=this._lastKnownBodyRightValue||"")})}}var N,D=t(2);function W(e,n){"https://www.jw.org/finder"!==n&&e.querySelectorAll("a").forEach(e=>{const t=e.getAttribute("href")||"";0<=t.indexOf("https://www.jw.org/finder")&&e.setAttribute("href",t.replace("https://www.jw.org/finder",n))})}function K(e){const t=Object.keys(e);let n=!1;for(const i of t){const t=e[i];if(!Object(a.isUndefined)(t)&&i!==r.a.STRICTLY_NECESSARY){n=!0;break}}return n}const G={[r.a.STRICTLY_NECESSARY]:!0,[r.a.FUNCTIONAL]:!1,[r.a.DIAGNOSTIC]:!1,[r.a.USAGE]:!1};class Y{constructor(e){this._clientConfig=e.clientConfig,this._eventEmitter=e.eventEmitter,this._chromeOverrideOptions=e.chromeOverrideOptions,this._templateDataProvider=e.templateDataProvider,this._modal=new $({cssClasses:["lnc-settings"]}),this._modal.on(g.CLOSED,()=>{this._eventEmitter.emit(D.ClientEvents.SETTINGS_CLOSED)})}show(){this._chromeOverrideOptions||this._modal.show(),(async()=>{var e=function(e){let t={};var n=Object.keys(r.a);for(const r of n)t[r]=(Object(a.isUndefined)(e[r])?G:e)[r];return t}(await this._clientConfig.storage.get()),t=await this._templateDataProvider.fetch(this._clientConfig),n=c(this._renderContent(t));this._cookieSettings=e,this._contentEl=n,this._chromeOverrideOptions?(this._chromeOverrideOptions.el.innerHTML="",this._chromeOverrideOptions.el.appendChild(this._contentEl)):(this._updateModalWithLoadedData(t),this._modal.setContent(this._contentEl)),this._clientConfig.finderURL&&W(this._contentEl,this._clientConfig.finderURL),this._synchronizeCheckboxUI(e),this._listenForEvents(this._contentEl),this._eventEmitter.emit(D.ClientEvents.SETTINGS_SHOWN,e)})().catch(e=>{this._eventEmitter.emit(D.ClientEvents.ERROR,e)})}close(){this._contentEl=void 0,this._chromeOverrideOptions?(this._chromeOverrideOptions.close(),this._eventEmitter.emit(D.ClientEvents.SETTINGS_CLOSED)):this._modal.close()}_listenForEvents(e){const t=e.querySelector(".lnc-allowAllButton"),n=e.querySelector(".lnc-declineAllButton"),i=e.querySelector(".lnc-confirmButton");t&&t.addEventListener("click",()=>{this._updateCookieSettings({[r.a.STRICTLY_NECESSARY]:!0,[r.a.FUNCTIONAL]:!0,[r.a.DIAGNOSTIC]:!0,[r.a.USAGE]:!0}),this.close()}),n&&n.addEventListener("click",()=>{this._updateCookieSettings({[r.a.STRICTLY_NECESSARY]:!0,[r.a.FUNCTIONAL]:!1,[r.a.DIAGNOSTIC]:!1,[r.a.USAGE]:!1}),this.close()}),i&&i.addEventListener("click",async()=>{K(await this._clientConfig.storage.get())||this._updateCookieSettings(G),this.close()}),e.addEventListener("change",e=>{var t=e.target;if(t&&"checkbox"===t.type){e=t.dataset.cookieType;if(Object(a.isEnumValue)(r.a,e))this._updateCookieSettings({...this._cookieSettings,[e]:t.checked});else{const e=Object.keys(r.a).map(e=>r.a[e]);this._eventEmitter.emit(D.ClientEvents.ERROR,new Error(`A settings modal checkbox is implemented incorrectly in the legal notices client library. The data-cookie-type property on the checkbox element is ${t.dataset.cookieType}, which is not a valid cookie type. Valid types are: ${e.join(", ")}.`))}}})}_updateCookieSettings(e){this._pendingSettingsUpdate||(this._pendingSettingsUpdate=Promise.resolve()),this._pendingSettingsUpdate=this._pendingSettingsUpdate.finally(async()=>(this._cookieSettings=e,this._clientConfig.storage.set(e))).then(()=>{this._eventEmitter.emit(D.ClientEvents.SETTINGS_CHANGED,this._cookieSettings)}).catch(async e=>{var t=await this._clientConfig.storage.get();this._cookieSettings=t,this._synchronizeCheckboxUI(t),e&&this._eventEmitter.emit(D.ClientEvents.ERROR,e)})}_synchronizeCheckboxUI(i){document.querySelectorAll(".lnc-checkbox input[type=checkbox]").forEach(e=>{const t=e,n=t.dataset.cookieType;Object(a.isEnumValue)(r.a,n)&&t.checked!==i[n]&&(t.checked=!!i[n])})}_renderContent(e){return e={...e,cssClasses:"lnc-settings-content "+e.cssClasses},i("settingsContentTemplate")(e)}_updateModalWithLoadedData(e){this._modal.setTitle(e.translations.privacySettingsHeading),this._modal.setCloseButtonARIALabel(e.translations.closeButtonLabel),this._modal.setLanguageAttributes(e.languageSummary),this._modal.setLanguageClasses((this._clientConfig.languageClassesMaker(e.languageSummary)||"").split(" "))}}const Z={languageCode:"E",languageClassesMaker:e=>`ml-${e.languageCode} ms-${e.script} dir-`+e.direction,storage:new(t(16).a),i18nURL:"https://b.jw-cdn.org/apis/i18n",finderURL:"https://www.jw.org/open"};function J(e){return Object(a.isArray)(e)&&0!==e.length&&"string"==typeof e[0].title&&"number"==typeof e[0].status}class X{async fetch(e){const t=await this._getTranslationsCollection(e);if(J(t))throw new Error(t.reduce((e,t)=>`${e}
${t.title}: `+t.detail,""));return{translations:t.translations,languageSummary:t.language,cssClasses:e.languageClassesMaker(t.language)}}async _getTranslationsCollection(e){if(this._cachedTranslations&&e.languageCode===this._cachedTranslations.language.languageCode)return this._cachedTranslations;e=this._buildURL(e.i18nURL,"translation-collections","legal-notices-v2",e.languageCode);let t=await fetch(e);if(this._is5xxResponse(t)&&(t=await fetch(e),this._is5xxResponse(t)))throw new Error("Sorry, there was a server error. Please try again later.");e=await t.json();if(J(e))return e;const n=e;return"undefined"!=typeof window&&void 0!==window.Proxy&&(n.translations=new Proxy(n.translations,{get:(e,t,n)=>Reflect.get(e,t,n)||""})),this._cachedTranslations=n}_is5xxResponse(e){return 500<=e.status&&e.status<=599}_buildURL(...e){let t="";for(const n of e)t+=n,"/"!==t[t.length-1]&&(t+="/");return t.substring(0,t.length-1)}}(N=N||{}).SETTINGS_REQUESTED="settings-requested";class ee extends d(){constructor(e){var t;super(),this._transition=new Q,this._closeInProgress=!1,this._clientConfig=e.clientConfig,this._eventEmitter=e.eventEmitter,this._popupOverrideOptions=null==(t=e.uiOverrideOptions)?void 0:t.popup,this._modalChromeOverrideOptions=null==(t=e.uiOverrideOptions)?void 0:t.modal,this._templateDataProvider=e.templateDataProvider}show(){this._templateDataProvider.fetch(this._clientConfig).then(e=>{var t=this._renderContent(e);if(this._popupOverrideOptions){const e=this._updatePrivacySettingsLink(c(t));this._popupOverrideOptions.el.innerHTML="",this._popupOverrideOptions.el.appendChild(e),this._el=e}else{t=this._renderChrome(t,e);this._el=t,document.body.prepend(t),this._transition.trigger(this._el,L.SLIDE_UP)}this._clientConfig.finderURL&&W(this._el,this._clientConfig.finderURL),this._listenForEvents(this._el),this._eventEmitter.emit(D.ClientEvents.FIRST_RUN_POPUP_SHOWN)}).catch(e=>{this._eventEmitter.emit(D.ClientEvents.ERROR,e)})}close(){this._el&&!this._closeInProgress&&(this._closeInProgress=!0,this._popupOverrideOptions?(this._popupOverrideOptions.close(),this._closeInProgress=!1,this._eventEmitter.emit(D.ClientEvents.FIRST_RUN_POPUP_CLOSED)):(this._transition.trigger(this._el,L.SLIDE_DOWN),setTimeout(()=>{this._el&&this._el.parentNode&&(this._el.parentNode.removeChild(this._el),this._el=void 0,this._closeInProgress=!1,this._eventEmitter.emit(D.ClientEvents.SETTINGS_CLOSED))},R[L.SLIDE_DOWN])))}_renderChrome(e,t){t={...t,cssClasses:"lnc-firstRunPopup",content:e};e=i("firstRunPopupChromeTemplate")(t);return this._updatePrivacySettingsLink(c(e))}_renderContent(e){return e={...e,cssClasses:"lnc-firstRunPopup-content "+e.cssClasses},i("firstRunPopupContentTemplate")(e)}_listenForEvents(e){const t=e.querySelector(".lnc-acceptCookiesButton"),n=e.querySelector(".lnc-declineCookiesButton"),i=e.querySelector(".lnc-customizeCookiesButton");t&&t.addEventListener("click",()=>{this._updateCookieSettings({[r.a.STRICTLY_NECESSARY]:!0,[r.a.FUNCTIONAL]:!0,[r.a.DIAGNOSTIC]:!0,[r.a.USAGE]:!0}),this.close()}),n&&n.addEventListener("click",()=>{this._updateCookieSettings({[r.a.STRICTLY_NECESSARY]:!0,[r.a.FUNCTIONAL]:!1,[r.a.DIAGNOSTIC]:!1,[r.a.USAGE]:!1}),this.close()}),i&&i.addEventListener("click",()=>{this.close(),this.emit(N.SETTINGS_REQUESTED)}),this._el&&this._el.addEventListener("click",e=>{const t=e.target,n=t&&"a"===t.tagName.toLowerCase(),i=t&&n&&t.getAttribute("href")||"";n&&i.endsWith("#privacy-settings")&&(e.preventDefault(),this.close(),this.emit(N.SETTINGS_REQUESTED))})}_updateCookieSettings(e){this._clientConfig.storage.set(e).then(()=>{this._eventEmitter.emit(D.ClientEvents.SETTINGS_CHANGED,e)}).catch(e=>{e&&this._eventEmitter.emit(D.ClientEvents.ERROR,e)})}_updatePrivacySettingsLink(e){return e.querySelectorAll("a").forEach(e=>{e.href&&e.href.endsWith("#privacy-settings")&&(e.href="#privacy-settings")}),e}}var te=t(10);class ne extends d(){constructor(e){super(),this._isShowingFirstRunPopup=!1,this._isShowingSettingsModal=!1,this._templateDataProvider=new X,this._config=Object.assign({},Z,e||{})}run(n,i){this._validateChromeOverrideOptions(n),this._validateChromeOverrideOptions(i),this._shouldShowFirstRunPopup().then(e=>{if(e){const t=new ee({eventEmitter:this,clientConfig:this._config,uiOverrideOptions:{popup:n,modal:i},templateDataProvider:this._templateDataProvider});t.show(),t.on(N.SETTINGS_REQUESTED,()=>{i&&i.onBeforeOpenSettingsModal&&i.onBeforeOpenSettingsModal(),this.showSettings(i)}),this._isShowingFirstRunPopup=!n}}).catch(e=>{this.emit(te.a.ERROR,e)})}showSettings(e){this._isShowingSettingsModal||(this._validateChromeOverrideOptions(e),new Y({eventEmitter:this,clientConfig:this._config,chromeOverrideOptions:e,templateDataProvider:this._templateDataProvider}).show(),e||(this._isShowingSettingsModal=!0,this.once(te.a.SETTINGS_CLOSED,()=>{this._isShowingSettingsModal=!1})))}async canPersistType(e){return(await this._config.storage.get())[e]}setLanguageCode(e){this._config.languageCode=e}async callIfAllowed(e,t,n){e=await this.canPersistType(e);return e?{returnValue:await Promise.resolve().then(()=>t()),isAllowed:e}:Object(a.isUndefined)(n)?{returnValue:void 0,isAllowed:!1}:{returnValue:n,isAllowed:!1}}async _shouldShowFirstRunPopup(){return!this._isShowingFirstRunPopup&&!K(await this._config.storage.get())}_validateChromeOverrideOptions(e){if(e){if("function"!=typeof e.close)throw new Error("chromeOverrideOptions.close is required and should be a function, but was: "+typeof e.close);if(!e.el||!Object(a.isString)(e.el.nodeName))throw new Error("chromeOverrideOptions.el is required and should be a HTMLElement, but was: "+typeof e.el)}}}},function(e,t,n){var i=n(43),a=n(44),r=n(45);e.exports.EventEmitterMixin={_ensureListenersHashExists:function(){this._eventListeners||(this._eventListeners={})},on:function(e,t,n){if("string"!=typeof e&&!r(e))throw new Error("the eventNames parameter must be a string or an array of strings, but was: "+e);if("function"!=typeof t)throw new Error("the listener parameter must be a function, but was: "+typeof t);return(e=Array.isArray(e)?e:[e]).forEach(function(e){this._removeEventListener(e,t,n)}.bind(this)),e.forEach(function(e){this._addEventListener(e,t,n)}.bind(this)),this},_addEventListener:function(e,t,n,i){this._ensureListenersHashExists(),this._eventListeners[e]=this._eventListeners[e]||[],this._findEventListener(e,t,n)||this._eventListeners[e].push({callback:"function"==typeof i?i:t,listener:t,context:n})},_findEventListener:function(e,t,n){return i(this._eventListeners[e],function(e){return e.listener===t&&e.context===n})},once:function(t,n,i){var a=this;if("string"!=typeof t)throw new Error("the eventName parameter must be a string, but was: "+typeof t);if("function"!=typeof n)throw new Error("the listener parameter must be a function, but was: "+typeof n);return this._addEventListener(t,n,i,function(){var e=Array.prototype.slice.call(arguments);a._findEventListener(t,n,i)&&(n.apply(this,e),a._removeEventListener(t,n,i))}),this},off:function(e,t,n){return e?(Array.isArray(e)?e:[e]).forEach(function(e){this._removeEventListener(e,t,n)}.bind(this)):this._eventListeners={},this},_removeEventListener:function(e,t,n){this._ensureListenersHashExists(),this._eventListeners[e]=t?a(this._eventListeners[e],function(e){return e.listener===t&&(void 0===n||e.context===n)}):[]},emit:function(e){var t=Array.prototype.slice.apply(arguments).slice(1);if("string"==typeof e||r(e))return(Array.isArray(e)?e:[e]).forEach(function(e){this._emitEvent(e,t)}.bind(this)),this;throw new Error("the eventNames parameter must be a string or an array of strings, but was: "+e)},_emitEvent:function(e,t){this._ensureListenersHashExists(),this._eventListeners[e]&&this._eventListeners[e].forEach(function(e){Promise.resolve().then(function(){e.callback.apply(e.context,t)})})}}},function(e,t,n){n.r(t);var i=n(2);n.d(t,"ClientEvents",function(){return i.ClientEvents}),n.d(t,"CookieDataTypes",function(){return i.CookieDataTypes}),n.d(t,"LegalNoticesClient",function(){return i.LegalNoticesClient}),n.d(t,"DefaultCookieSettingsStorageProvider",function(){return i.DefaultCookieSettingsStorageProvider})},function(e,t,n){e.exports=function(e,t){var n;if(Array.isArray(e)&&t&&"function"==typeof t)for(n=0;n<e.length;n++)if(t(e[n]))return e[n]}},function(e,t,n){e.exports=function(e,t){e=e||[];return Array.isArray(e)&&"function"==typeof t?e.filter(function(e){return!t(e)}):[]}},function(e,t,n){e.exports=function(e){return Array.isArray(e)&&0<e.length&&e.reduce(function(e,t){return e&&"string"==typeof t},!0)}}],a={},r.m=i,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i,a,n=r(r.s=42);function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}void 0===n&&console.error("esm-webpack-plugin: nothing exported!");const o=n.ClientEvents,l=n.CookieDataTypes,s=n.LegalNoticesClient,u=n.DefaultCookieSettingsStorageProvider},808:(e,t,n)=>{var i,a;void 0!==(n="function"==typeof(i=a=function(){function l(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(s){function o(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=l({path:"/"},o.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=s.write?s.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a,r="";for(a in n)n[a]&&(r+="; "+a,!0!==n[a]&&(r+="="+n[a].split(";")[0]));return document.cookie=e+"="+t+r}}function t(e,t){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var r=i[a].split("="),o=r.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var l=u(r[0]),o=(s.read||s)(o,l)||u(o);if(t)try{o=JSON.parse(o)}catch(e){}if(n[l]=o,e===l)break}catch(e){}}return e?n[e]:n}}return o.set=n,o.get=function(e){return t(e,!1)},o.getJSON=function(e){return t(e,!0)},o.remove=function(e,t){n(e,"",l(t,{expires:-1}))},o.defaults={},o.withConverter=e,o}(function(){})})?i.call(t,n,t,e):i)&&(e.exports=n),e.exports=a()},362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppState=void 0,t.AppState=class{constructor(){this.isActivelyPrintingScreen=!1}}},520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookieManager=void 0;const i=n(211);t.CookieManager=class{constructor(e){this.storage=e,this.lnc=new i.LegalNoticesClient}init(e){this.lnc.setLanguageCode(e),this.lnc.run(),this.lnc.on(i.ClientEvents.SETTINGS_CHANGED,e=>{this.storage.setUserCookieSettings(e)})}showSettings(){this.lnc.showSettings()}async canPersistType(e){return this.lnc.canPersistType(e)}}},470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalApp=void 0;const i=n(362),a=n(300),r=n(163),o=n(415),l=n(40);t.GlobalApp=class{constructor(){this.state=new i.AppState,this.page=new a.PageHelper,this.utilities=new o.UtilitiesHelper(this.page),this.url=new r.UrlHelper(this.state,this.utilities),this.web=new l.WebHelper}}},198:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(520),t),a(n(901),t),a(n(542),t),a(n(163),t),a(n(415),t),a(n(40),t),a(n(300),t),a(n(247),t),a(n(470),t)},901:(e,t)=>{"use strict";var n,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.getCookieType=t.WolPreference=t.CookieDataTypes=void 0,(a=n=t.CookieDataTypes||(t.CookieDataTypes={})).DIAGNOSTIC="DIAGNOSTIC",a.FUNCTIONAL="FUNCTIONAL",a.STRICTLY_NECESSARY="STRICTLY_NECESSARY",a.USAGE="USAGE",(a=i=t.WolPreference||(t.WolPreference={})).rsconf="rsconf",a.lib="lib",a.lang="lang",a.locale="locale",a.ckLang="ckLang",a.script="script",a.dir="dir",a.title="title",a.privileged="privileged",a.syncrsconf="syncrsconf",a.synclib="synclib",a.synclang="synclang",a.synclocale="synclocale",a.synclangsym="synclangsym",a.synclangscript="synclangscript",a.syncdir="syncdir",a.rb="rb",a.fontScale="fontScale",a.audioPlayer="audioPlayer",a.audioContinuousPlay="audioContinuousPlay",a.prox="prox",a.rank="rank",a.glossaryFilter="glossaryFilter",a.audioLanguage="audioLanguage",a.audioLanguageName="audioLanguageName",a.showStudy="showStudy",a.binavview="binavview",a.preferredVideoResolution="preferredVideoResolution",a.mru="mru",a.jwt="jwt",a.hasJwt="hasJwt",a.id="id",a.hasUser="hasUser",t.getCookieType=function(e){switch(e){case i.jwt:case i.hasJwt:case i.id:case i.hasUser:return n.STRICTLY_NECESSARY;default:return n.FUNCTIONAL}}},83:()=>{},247:function(e,l,t){"use strict";var s,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l,"__esModule",{value:!0}),l.MultiSegmentHighlightManager=l.insertedHighlightContainerClassName=l.highlightClassName=l.dimmedClassName=l.ElementRelativePosition=void 0,t(83);const r=n(t(998));(n=s=l.ElementRelativePosition||(l.ElementRelativePosition={})).adjacent="ADJACENT",n.edgeBottom="EDGE_BOTTOM",n.edgeTop="EDGE_TOP",n.distant="DISTANT",l.dimmedClassName="dimmed",l.highlightClassName="hl",l.insertedHighlightContainerClassName="inserted",l.MultiSegmentHighlightManager=class{constructor(e){this.app=e,this.enabled=!0,this.startTag=`<span class="${l.dimmedClassName} ${l.insertedHighlightContainerClassName}">`,this.endTag="</span>",this.elementsList=[],this.firstHighlightedIndex=-1,this.lastHighlightedIndex=-1}get article(){return this.app.page.getArticle()}setDimming(){this.article.addClass(l.dimmedClassName)}removeDimming(){this.article.removeClass(l.dimmedClassName),this.article.find("."+l.dimmedClassName).removeClass(l.dimmedClassName)}setupHighlightDismiss(){this.article.closest("#content").on("click",e=>{$(e.target).closest("[data-pid]").data("pid")||this.removeHighlight()})}getHighlightedElements(){return this.article.find("."+l.highlightClassName)}setupElementsList(){let e;this.elementsList=[],this.app.utilities.isBibleDocument()?(e=this.article.find("[id^=v].v")).each((e,t)=>{t=this.app.utilities.getVerseNumberFromIDAttribute(t.id);null!==t&&-1===this.elementsList.indexOf(t)&&this.elementsList.push(t)}):(e=this.article.find("[id^=p]")).each((e,t)=>{t=this.getParagraphID($(t));null!==t&&-1===this.elementsList.indexOf(t)&&this.elementsList.push(t)})}getHighlightedVerses(){var e=this.getHighlightedElements().closest(".v").add(this.getHighlightedElements().find(".v")).map((e,t)=>$(t).hasClass(l.dimmedClassName)||0!==$(t).find("."+l.dimmedClassName).length?null:$(t)).get();return $(e)}getFirstHighlightedId(e=!1){return this.app.utilities.getFirstActionableIdInScope(e,this.getHighlightedElements())}getFirstHighlightedIdNumber(e=!1){const t=$("#"+this.getFirstHighlightedId(e));return 0<t.length?this.app.utilities.isBibleDocument()&&!e?this.app.utilities.getVerseNumberFromIDAttribute(t.attr("id")):this.app.utilities.getParagraphIDFromIDAttribute(t.attr("id")):null}getHighlightedVerseNumbers(){return this.getHighlightedElements().closest(".v").add(this.getHighlightedElements().find(".v")).map((e,t)=>`${this.app.utilities.getBookNumberFromIDAttribute(t.id)}:${this.app.utilities.getChapterNumberFromIDAttribute(t.id)}:`+this.app.utilities.getVerseNumberFromIDAttribute(t.id)).get()}getHighlightedParagraphNumbers(){return this.getHighlightedElements().closest("[data-pid]").map((e,t)=>this.app.utilities.getParagraphIDFromIDAttribute(t.id)).get()}getHighlightUrlFragment(t=!1){if(this.getFirstHighlightedIdNumber(t)){let e;if(this.app.utilities.isBibleDocument()&&!t){const t=this.getHighlightedVerseNumbers();e="v="+t[0],1<t.length&&(e+="-"+t.pop())}else{const t=this.getHighlightedParagraphNumbers();e="h="+t[0],1<t.length&&(e+="-"+t.pop())}return e}return null}highlight(e,t){let n;if(e.constructor===String&&-1!==e.indexOf("=")){const t=(0,r.default)("#"+e.replace(/^#*/,"")),n=this.app.url.getHighlightTextRangeFromUrl(t);if(n)this.highlightParagraphTextRange(n.stPar,n.stOff,n.edPar,n.edOff,null,!0);else{const e=this.app.url.getVersesFromUrl(t);0<e.length&&this.highlightElems(e,null)}}else if(this.enabled){const t=this.getElement(e),i=t.closest("[id^=v]"),r=t.closest("[data-pid]");if(0<i.length){const e=i.attr("id"),r=this.app.utilities.getAllVerseSegmentsFromIDAttribute(e);n=this.highlightElemTextRange(r,0,Number.MAX_VALUE,t,!0)}else{const e=r.data("pid"),a=this.article.find("#p"+e);n=this.highlightElemTextRange(a,0,Number.MAX_VALUE,t,!0)}}this.setDimming(),t&&t(),n&&$(this.app.page.getDocument()).trigger(n)}toggleHighlight(e){const t=this.getElement(e),n=t.attr("id");0===this.elementsList.length&&this.setupElementsList();let i=$(),a=$();var r=-1!==(null==n?void 0:n.indexOf("v"));if(this.hasHighlight()){const l=this.app.page.getWindowLocation()["hash"];if(-1!==l.indexOf("h")&&r){const e=this.getHighlightedVerses();this.removeHighlight(),this.highlightElems(e,t,!0),this.matchUrlToHighlight()}var o=this.getElementPosition(e,r);switch(o){case s.adjacent:if(r)i=this.app.utilities.getAllVerseSegmentsFromIDAttribute(n);else{const e=this.elementsList[this.firstHighlightedIndex],n=this.elementsList[this.lastHighlightedIndex];this.highlightParagraphTextRange(e,0,n,Number.MAX_VALUE,t)}break;case s.edgeBottom:case s.edgeTop:if((a=r?this.app.utilities.getAllVerseSegmentsFromIDAttribute(n):t).each((e,t)=>{this.removeElementHighlight($(t),!0)}),this.hasHighlight())this.onShrinkSelection(o);else{this.removeDimming();const e=$.Event("textunhighlighted");e.$items=a,$(this.app.page.getDocument()).trigger(e)}break;case s.distant:this.removeHighlight()}}else{let e;i=r?(e=this.elementsList.indexOf(this.app.utilities.getVerseNumberFromIDAttribute(t.attr("id"))),this.app.utilities.getAllVerseSegmentsFromIDAttribute(n)):(e=this.elementsList.indexOf(this.getParagraphID(t)),t),this.firstHighlightedIndex=e,this.lastHighlightedIndex=e}0<i.length&&this.highlightElems(i,t)}highlightBibleVerseAsync(e,t){var n="b"===this.app.utilities.getCommand(),n=`/wol/bvr/${n?this.app.page.getRsConfigSymbol():this.app.page.getContentRsConfigSymbol()}/${n?this.app.page.getLibrarySymbol():this.app.page.getContentLibrarySymbol()}/${this.app.page.getPubSym()}/${this.app.page.getBookNumber()}/${this.app.page.getChapterNumber()}/`+e;this.app.web.getJSON(n).done(e=>{this.removeHighlight(),this.highlightParagraphTextRange(e.beginParagraphId,e.beginTextOffset,e.endParagraphId,e.endTextOffset,null),t&&t()})}highlightUrlFragment(){this.app.url.convertPFragmentToHFragment();const e=this.app.url.getHighlightTextRangeFromUrl();e?(e.stPar>e.edPar&&e.edPar--,e.stOff+e.edOff===0&&(this.setupElementsList(),this.firstHighlightedIndex=this.elementsList.indexOf(e.stPar),this.lastHighlightedIndex=this.elementsList.indexOf(e.edPar-1)),this.highlightParagraphTextRange(e.stPar,e.stOff,e.edPar,e.edOff,null,!0),this.getFirstHighlightedId()||this.app.url.removeUrlFragmentByKey("h",null,!0,!1)):this.app.url.removeUrlFragmentByKey("h",null,!0,!1);var t=this.app.page.getWindowLocation()["hash"];if(0<t.length){const e=this.app.utilities.getVerseNumberFromIDAttribute(t);e&&this.highlightElems(this.app.utilities.getFirstIdMatchingVerseNumber(e),null,!0)}t=this.app.url.getVersesFromUrl();0<t.length?(this.highlightElems(t,null,!0),this.getFirstHighlightedId()||this.app.url.removeUrlFragmentByKey("v",null,!0,!1)):this.app.url.removeUrlFragmentByKey("v",null,!0,!1)}highlightParagraphTextRange(i,e,t,n,a,r=!1){const o=this.article.find("[data-pid]");let l=e,s=n,u=t,c=(i<t&&0===n&&(u--,s=Number.MAX_VALUE),0===o.filter(`[data-pid=${i}]`).length&&(l=0),0===o.filter(`[data-pid=${u}]`).length&&(s=Number.MAX_VALUE),!1),d=$();o.each((e,t)=>{var n=$(t).data("pid");if((c=n===i?!0:c)&&(d=d.add(t)),n===u)return!1});e=d.filter((e,t)=>0===$(t).parent().closest("[data-pid]").length);return this.highlightElemTextRange(e,l,s,a,r)}highlightElemTextRange(e,t,n,i,a=!1){const r=$(e);if(r.length){0<t&&r.first().insertTag(0,t,this.startTag,this.endTag,l.dimmedClassName),0<n&&n!==Number.MAX_VALUE&&r.last().insertTag(n,Number.MAX_VALUE,this.startTag,this.endTag,l.dimmedClassName),r.each((e,t)=>{$(t).addClass(l.highlightClassName)}),this.setDimming();const o=this.getHighlightedElements();if(0<o.length){const e=$.Event("texthighlighted");if(e.$items=o,e.$lastSelectedElement=null!=i?i:o.first(),a)return e;$(this.app.page.getDocument()).trigger(e)}}}highlightElems(e,t,n=!1){this.highlightElemTextRange(e,0,Number.MAX_VALUE,t,n)}removeHighlight(e){if(this.enabled){const t=this.article.find(`.${l.dimmedClassName} .`+l.insertedHighlightContainerClassName),n=(t.contents().unwrap(),this.article.find("."+l.highlightClassName));if(n.removeClass(l.highlightClassName),(0<t.length||0<n.length)&&!e){const e=$.Event("textunhighlighted");e.$items=t.add(n),$(this.app.page.getDocument()).trigger(e)}this.removeDimming(),this.firstHighlightedIndex=-1,this.lastHighlightedIndex=-1}}removeElementHighlight(e,t){if(this.enabled){const n=this.getElement(e);if(n.parents("."+l.highlightClassName),n.find(`.${l.dimmedClassName}${l.dimmedClassName} .`+l.insertedHighlightContainerClassName).contents().unwrap(),n.removeClass(l.highlightClassName),n.parents("."+l.highlightClassName).removeClass(l.highlightClassName),!t){const e=$.Event("textunhighlighted");e.$items=n,$(this.app.page.getDocument()).trigger(e)}}}onShrinkSelection(e){const t=$.Event("texthighlighted");t.$items=this.getHighlightedElements();e=e===s.edgeTop?t.$items.first():t.$items.last();t.$lastSelectedElement=e,$(this.app.page.getDocument()).trigger(t)}getElement(t){if(t instanceof jQuery)return t;if(t){let e=$("body").find(t);if(0<e.length)return e;if("string"==typeof t||"number"==typeof t){if(0<(e=this.article.find(`[data-pid='${t}']`)).length)return e;if(0<(e=this.article.find("#"+t)).length)return e}}return $()}getParagraphID(e){return Number(e.closest("[data-pid]").data("pid"))}getElementPosition(e,t){const n=this.getHighlightedElements();if(0===n.length)return s.distant;const i=this.getElement(e);let a,r,o,l;l=(o=t?(a=this.app.utilities.getVerseNumberFromIDAttribute(n.first().closest("[id^=v].v").attr("id")),r=this.app.utilities.getVerseNumberFromIDAttribute(n.last().closest("[id^=v].v").attr("id")),this.app.utilities.getVerseNumberFromIDAttribute(i.attr("id"))):(a=this.getParagraphID(n.first()),r=this.getParagraphID(n.last()),this.getParagraphID(i)),this.elementsList.indexOf(o));e=this.elementsList.indexOf(a);if(-1===e)return!1;t=this.elementsList.indexOf(r);return-1!==t&&(e-1===l||a-1===o?(this.firstHighlightedIndex>l&&(this.firstHighlightedIndex=l),s.adjacent):t+1===l||r+1===o?(this.lastHighlightedIndex<l&&(this.lastHighlightedIndex=l),s.adjacent):e===l?(this.firstHighlightedIndex=l+1,s.edgeTop):t===l?(this.lastHighlightedIndex=l-1,s.edgeBottom):s.distant)}hasHighlight(){return null!==this.getFirstHighlightedId()}isHighlighted(e){const t=this.getElement(e);return 0<t.closest("."+l.highlightClassName).length+t.find("."+l.highlightClassName).length}matchUrlToHighlight(){const e=this.app.url.getFragmentObject().h;let t=this.getHighlightUrlFragment(null==e?void 0:e.length);if(null==e||!e.startsWith(t)){let n=window.location.href;$("[id]").each((e,t)=>{n=this.app.url.removeUrlFragmentByKey(t.id,n,!0,!0)}),n=this.app.url.removeUrlFragmentByKey("h",n,!0,!0),n=this.app.url.removeUrlFragmentByKey("v",n,!0,!0);var i=null!=(t=null!=(t=this.getHighlightUrlFragment())&&t.startsWith("h=")&&e.split("-")[0].split(":")[0]===t.split("-")[0].split(":")[0]&&-1!==t.indexOf("-")?e.split("-")[0]+"-"+t.split("-")[1]:t)?t.split("=",2):["",""],a=i[0],i=i[1]||"";this.app.url.setUrlFragmentByKey(n,a,i,!0,!1)}}}},300:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PageHelper=void 0;const a=i(n(311)),r=i(n(998));t.PageHelper=class{isSignLanguage(){return"false"!==(0,a.default)("#contentLibLangIsSignLanguage").val()}getUILanguage(){return(0,a.default)("#locale").val()}getRsConfigSymbol(){return(0,a.default)("#rsconf").val()}getLibrarySymbol(){return(0,a.default)("#lib").val()}getLibraryLanguageSymbol(){return(0,a.default)("#libLangSym").val()}getLibraryLanguageScript(){return(0,a.default)("#libLangScript").val()}getLibraryDir(){return(0,a.default)("#libDir").val()}isLibraryRTL(){return"rtl"===this.getLibraryDir()}getLibraryLanguageName(){return(0,a.default)("#libLang").val()}getLibraryLocale(){return(0,a.default)("#libraryLocale").val()}getLibraryTitle(){return(0,a.default)("#libTitle").val()}getLibraryIsPrivileged(){return(0,a.default)("#libIsPrivileged").val()}getContentUILanguage(){return(0,a.default)("#contentLocale").val()}getContentRsConfigSymbol(){return(0,a.default)("#contentRsconf").val()}getContentLibrarySymbol(){return(0,a.default)("#contentLib").val()}getContentLibraryLanguageSymbol(){return(0,a.default)("#contentLibLangSym").val()}getContentLibraryLanguageScript(){return(0,a.default)("#contentLibLangScript").val()}getContentLibraryDir(){return(0,a.default)("#contentLibDir").val()}isContentLibraryRTL(){return"rtl"===this.getContentLibraryDir()}isContentLibraryHTML5(){return 0<(0,a.default)(".html5").length}getDID(){return(0,a.default)("#docId").val()}getDocumentDescription(){return(0,a.default)("#documentDescription").val()}getDocumentDescriptionSubstitute(){return(0,a.default)("#documentDescriptionSubstitute").val()}getPubMediaServer(){return(0,a.default)("#pubMediaServer").val()||(new r.default).host}getInsightApiUrl(){return(0,a.default)("#insightApi").val()}getShareBaseUrl(){return(0,a.default)("#shareBaseUrl").val()}getShareType(){return(0,a.default)("#shareType").val()}getContentTitle(){return this.getArticleValue("#contentTitle")}getContentParentTitle(){return this.getArticleValue("#parentTitle")}getContentThumbnailUrl(){return this.getArticleValue("#contentThumbnail")}getSourcePreferredBible(){return this.getArticleValue("#sourcePreferredBible")}getPubSym(){return this.getArticleValue("#englishSym")}getAudioPubSym(){return this.getArticleValue("#audioPubSym")}getPubYear(){return this.getArticleValue("#pubYear")}getLangSym(){return this.getArticleValue("#langSym")}getIssue(){return this.getArticleValue("#issue")}getIssueDate(){return this.getArticleValue("#issueDate")}getIssueSymbol(){return this.getArticleValue("#issueSymbol")}getBookNumber(){return this.getArticleValue("#bookNo")}getChapterNumber(){return this.getArticleValue("#chapNo")}getTodayDate(){return this.getArticleValue("#todayDate")}getTodayWeek(){return this.getArticleValue("#todayWeek")}getArticle(){return(0,a.default)("#article")}getDocument(){return document}getWindowLocation(){return window.location}getArticleValue(e){return this.getArticle().find(e).val()}}},542:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageProvider=void 0;const a=i(n(808)),r=n(901),o={[r.CookieDataTypes.STRICTLY_NECESSARY]:!0,[r.CookieDataTypes.FUNCTIONAL]:!1,[r.CookieDataTypes.DIAGNOSTIC]:!1,[r.CookieDataTypes.USAGE]:!1};t.StorageProvider=class{constructor(e){this.userCookieSettings=this.initCookieSettings(),this.domain=e}initCookieSettings(){const e=o;return"true"===a.default.get("cookieConsent-STRICTLY_NECESSARY")&&(e[r.CookieDataTypes.STRICTLY_NECESSARY]=!0),"true"===a.default.get("cookieConsent-FUNCTIONAL")&&(e[r.CookieDataTypes.FUNCTIONAL]=!0),"true"===a.default.get("cookieConsent-DIAGNOSTIC")&&(e[r.CookieDataTypes.DIAGNOSTIC]=!0),"true"===a.default.get("cookieConsent-USAGE")&&(e[r.CookieDataTypes.USAGE]=!0),e}setUserCookieSettings(e){this.userCookieSettings=e}setCookie(e,t){var n=(0,r.getCookieType)(e);this.userCookieSettings[n]&&a.default.set(e,t,{expires:365,domain:this.domain})}getCookie(e){var t=(0,r.getCookieType)(e);return this.userCookieSettings[t]?a.default.get(e):null}removeCookie(e){a.default.remove(e,{domain:this.domain})}trySetCookie(e,t){return!this.getCookie(e)&&(this.setCookie(e,t),!0)}setLocalStorage(e,t){var n=(0,r.getCookieType)(e);window.localStorage&&this.userCookieSettings[n]&&window.localStorage.setItem(e,t)}getLocalStorage(e){var t=(0,r.getCookieType)(e);return window.localStorage&&this.userCookieSettings[t]?window.localStorage.getItem(e):null}removeLocalStorage(e){window.localStorage&&window.localStorage.removeItem(e)}}},163:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlHelper=void 0;const l=i(n(998)),s=i(n(135));function o(e){return parseInt(e,10)}t.UrlHelper=class{constructor(e,t){this.state=e,this.utilities=t}setUrlFragmentByKey(e,t,n,i,a){const r=this.getFragmentObject(e);return r[t]=n,this.setFragmentObject(r,e,i,a)}getUrlFragmentValueByKey(e,t){return this.getFragmentObject(e)[t]}getParagraphRangeFromUrl(){const e=this.getHighlightTextRangeFromUrl();return e&&0===e.edOff&&--e.edPar,e}getVersesFromUrl(i){let e=this.getFragmentObject(i)["v"],t=$();if(null!=e)if(-1!==e.indexOf("-")){1===(e=e.split("-",2)).length&&(e[1]=e[0]);const i=e[0].split(":").map(o),a=e[1].split(":").map(o),n=$("[id^=v].v").map((e,t)=>[t.id.replace("v","").split("-")]),r=$.grep(n,e=>{e=e.map(o);if(e[0]<i[0]||e[0]>a[0])return!1;var t=a[0]>e[0]?Number.MAX_VALUE:a[1],n=i[0]<e[0]?Number.MIN_VALUE:i[1];if(e[1]<n||e[1]>t)return!1;t=t>e[1]?Number.MAX_VALUE:a[2],n=n<e[1]?Number.MIN_VALUE:i[2];return!(e[2]<n||e[2]>t)});t=$.map(r,e=>{e=`#v${e[0]}-${e[1]}-${e[2]}-`+e[3];return $(e)})}else t=this.utilities.getAllVerseSegmentsFromIDAttribute("v"+e.replace(/:/g,"-"));return t}removeUrlFragmentByKey(e,t,n,i){const a=this.getFragmentObject(t||"");return delete a[e],this.setFragmentObject(a,t||"",n,i)}removeUrlFragment(e,t,n,i){return t=t||window.location.href,e===(0,l.default)(t).fragment()?this.setFragmentObject({},t,n,i):t}getHighlightTextRangeFromUrl(e){var e=this.getFragmentObject(e),t=/(\d+):*(\d*)-*(\d*):*(\d*)/.exec(e.h);if(t){const e={stPar:parseInt(t[1],10),stOff:parseInt(t[2],10),edPar:parseInt(t[3],10),edOff:parseInt(t[4],10)};return isNaN(e.stOff)&&(e.stOff=0),isNaN(e.edPar)?(e.edPar=e.stPar+1,e.edOff=0):isNaN(e.edOff)&&(e.edPar+=1,e.edOff=0),e}return null}convertPFragmentToHFragment(){Object.keys((0,l.default)().fragment()).forEach(e=>{var t;e.startsWith("p")&&(t=e.split("p"))[1]&&Number(t[1])&&(this.removeUrlFragmentByKey(e,null,!0,!1),e=window.location.href,this.setUrlFragmentByKey(e,"h",t[1],!0,!1))})}getFragmentObject(e){const t=e?new l.default(e):new l.default;return l.default.parseQuery(t.fragment())}setFragmentObject(e,t,n,i){const a=t?new l.default(t):new l.default,r=l.default.buildQuery(e),o=a.fragment(r);return this.state.isActivelyPrintingScreen||(!0!==i&&s.default.history&&history.replaceState(null,"",o.href()),!0!==n&&s.default.history&&history.pushState(null,"",o.href())),o.href()}}},415:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UtilitiesHelper=void 0;const a=i(n(998));t.UtilitiesHelper=class{constructor(e){this.page=e}getCommand(e=!1){return(0,a.default)().segment(e?1:2)}isBibleDocument(e=!1){switch(this.getCommand(e)){case"b":case"bsync":case"sybv":return!0;default:return!1}}getFirstActionableIdInScope(t,n){if(0<n.length){const i=n.first();let e;return this.isBibleDocument()&&!t?0===(e=i.find("[id^=v]")).length&&(0===(e=i.closest("[id]")).length&&(e=i.find("[id]").first())):0===(e=i.closest("[data-pid]")).length&&(e=i.find("[data-pid]").first()),e.attr("id")||null}return null}getFirstIdMatchingVerseNumber(e){const n=new RegExp(`v\\d+-\\d+-${e}-1`),t=this.page.getArticle().find("[id^=v]").filter((e,t)=>n.test(t.id)).first().attr("id")||"";return this.getAllVerseSegmentsFromIDAttribute(t)}getAllVerseSegmentsFromIDAttribute(e=""){e=/(v\d+-\d+-\d+)/.exec(e);return e?this.page.getArticle().find(`[id^=${e[1]}-]`):$()}getBookNumberFromIDAttribute(e=""){e=/v(\d+)-\d+-\d+/.exec(e);return e?Number(e[1]):-1}getChapterNumberFromIDAttribute(e=""){e=/v\d+-(\d+)-\d+/.exec(e);return e?Number(e[1]):-1}getVerseNumberFromIDAttribute(e=""){var t=this.page.getBookNumber(),n=this.page.getChapterNumber(),t=this.page.isContentLibraryHTML5()?t?`v${t}-${n}-(\\d+)`:"v\\d+-\\d+-(\\d+)":t?`dcv_${n}_(\\d+)`:"dcv_\\d+_(\\d+)",n=new RegExp(t).exec(e);return n?Number(n[1]):-1}getParagraphIDFromIDAttribute(e=""){return Number(e.substring(1))}}},40:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebHelper=void 0,t.WebHelper=class{getJSON(e,t){return t=$.extend(t||{},{dataType:"json"}),jQuery.ajax(e,t)}}},251:function(t,n,i){var a;!function(e){"use strict";t.exports?t.exports=e():void 0!==(a="function"==typeof(a=e)?a.call(n,i,n,t):a)&&(t.exports=a)}(function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n=e.toLowerCase().split(":"),i=n.length,a=8;for(""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[i-1]&&""===n[i-2]&&n.pop(),-1!==n[(i=n.length)-1].indexOf(".")&&(a=7),t=0;t<i&&""!==n[t];t++);if(t<a)for(n.splice(t,1,"0000");n.length<a;)n.splice(t,0,"0000");for(var r=0;r<a;r++){for(var o=n[r].split(""),l=0;l<3&&"0"===o[0]&&1<o.length;l++)o.splice(0,1);n[r]=o.join("")}for(var s=-1,u=0,c=0,d=-1,p=!1,r=0;r<a;r++)p?"0"===n[r]?c+=1:(p=!1,u<c&&(s=d,u=c)):"0"===n[r]&&(p=!0,d=r,c=1);u<c&&(s=d,u=c),1<u&&n.splice(s,u,"");var i=n.length,h="";for(""===n[0]&&(h=":"),r=0;r<i&&(h+=n[r],r!==i-1);r++)h+=":";return""===n[i-1]&&(h+=":"),h},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},106:function(t,n,i){var a;!function(e){"use strict";t.exports?t.exports=e():void 0!==(a="function"==typeof(a=e)?a.call(n,i,n,t):a)&&(t.exports=a)}(function(e){"use strict";var t=e&&e.SecondLevelDomains,a={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||t-1<=n)return!1;var i=a.list[e.slice(t+1)];return!!i&&0<=i.indexOf(" "+e.slice(n+1,t)+" ")},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(0<=e.lastIndexOf(".",t-1))return!1;var n=a.list[e.slice(t+1)];return!!n&&0<=n.indexOf(" "+e.slice(0,t)+" ")},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||t-1<=n)return null;var i=a.list[e.slice(t+1)];return!i||i.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1)},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return a})},998:function(t,n,i){var a,r;!function(e){"use strict";t.exports?t.exports=e(i(132),i(251),i(106)):(r=[i(132),i(251),i(106)],void 0!==(r="function"==typeof(a=e)?a.apply(n,r):a)&&(t.exports=r))}(function(l,t,u,n){"use strict";var i=n&&n.URI;function g(e,t){var n=1<=arguments.length;if(!(this instanceof g))return n?2<=arguments.length?new g(e,t):new g(e):new g;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}g.version="1.19.11";var e=g.prototype,s=Object.prototype.hasOwnProperty;function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===o(e)}function d(e,t){var n,i,a={};if("RegExp"===o(t))a=null;else if(c(t))for(n=0,i=t.length;n<i;n++)a[t[n]]=!0;else a[t]=!0;for(n=0,i=e.length;n<i;n++)(a&&void 0!==a[e[n]]||!a&&t.test(e[n]))&&(e.splice(n,1),i--,n--);return e}function p(e,t){if(c(t)){for(i=0,a=t.length;i<a;i++)if(!p(e,t[i]))return!1;return!0}for(var n=o(t),i=0,a=e.length;i<a;i++)if("RegExp"===n){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function h(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function m(e){return e.replace(/^\/+|\/+$/g,"")}function a(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,a).replace(/\*/g,"%2A")}g._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:g.preventInvalidHostname,duplicateQueryParameters:g.duplicateQueryParameters,escapeQuerySpace:g.escapeQuerySpace}},g.preventInvalidHostname=!1,g.duplicateQueryParameters=!1,g.escapeQuerySpace=!0,g.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,g.idn_expression=/[^a-z0-9\._-]/i,g.punycode_expression=/(xn--)/i,g.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,g.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,g.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},g.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,g.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,g.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},g.hostProtocols=["http","https"],g.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,g.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},g.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return g.domAttributes[t]}},g.encode=f,g.decode=decodeURIComponent,g.iso8859=function(){g.encode=escape,g.decode=unescape},g.unicode=function(){g.encode=f,g.decode=decodeURIComponent},g.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},g.encodeQuery=function(e,t){e=g.encode(e+"");return(t=void 0===t?g.escapeQuerySpace:t)?e.replace(/%20/g,"+"):e},g.decodeQuery=function(e,t){e+="",void 0===t&&(t=g.escapeQuerySpace);try{return g.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};function y(n,i){return function(t){try{return g[i](t+"").replace(g.characters[n][i].expression,function(e){return g.characters[n][i].map[e]})}catch(e){return t}}}var v,b={encode:"encode",decode:"decode"};for(v in b)g[v+"PathSegment"]=y("pathname",b[v]),g[v+"UrnPathSegment"]=y("urnpath",b[v]);function C(r,o,l){return function(e){for(var t=l?function(e){return g[o](g[l](e))}:g[o],n=(e+"").split(r),i=0,a=n.length;i<a;i++)n[i]=t(n[i]);return n.join(r)}}function w(n){return function(e,t){return void 0===e?this._parts[n]||"":(this._parts[n]=e||null,this.build(!t),this)}}function S(n,i){return function(e,t){return void 0===e?this._parts[n]||"":(null!==e&&(e+="").charAt(0)===i&&(e=e.substring(1)),this._parts[n]=e,this.build(!t),this)}}g.decodePath=C("/","decodePathSegment"),g.decodeUrnPath=C(":","decodeUrnPathSegment"),g.recodePath=C("/","encodePathSegment","decode"),g.recodeUrnPath=C(":","encodeUrnPathSegment","decode"),g.encodeReserved=y("reserved","encode"),g.parse=function(e,t){var n;return t=t||{preventInvalidHostname:g.preventInvalidHostname},-1<(n=(e=(e=e.replace(g.leading_whitespace_expression,"")).replace(g.ascii_tab_whitespace,"")).indexOf("#"))&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),-1<(n=e.indexOf("?"))&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===(e=(e=e.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://")).replace(/^[/\\]{2,}/i,"//")).substring(0,2)?(t.protocol=null,e=e.substring(2),e=g.parseAuthority(e,t)):-1<(n=e.indexOf(":"))&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(g.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3).replace(/\\/g,"/")?(e=e.substring(n+3),e=g.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},g.parseHost=function(e,t){var n,i,a=(e=(e=e||"").replace(/\\/g,"/")).indexOf("/");return-1===a&&(a=e.length),"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,a)||null,"/"===t.port&&(t.port=null)):(i=e.indexOf(":"),n=e.indexOf("/"),-1!==(i=e.indexOf(":",i+1))&&(-1===n||i<n)?(t.hostname=e.substring(0,a)||null,t.port=null):(i=e.substring(0,a).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)),t.hostname&&"/"!==e.substring(a).charAt(0)&&(a++,e="/"+e),t.preventInvalidHostname&&g.ensureValidHostname(t.hostname,t.protocol),t.port&&g.ensureValidPort(t.port),e.substring(a)||"/"},g.parseAuthority=function(e,t){return e=g.parseUserinfo(e,t),g.parseHost(e,t)},g.parseUserinfo=function(e,t){var n=e,i=(e=-1!==e.indexOf("\\")?e.replace(/\\/g,"/"):e).indexOf("/"),a=e.lastIndexOf("@",-1<i?i:e.length-1);return-1<a&&(-1===i||a<i)?(i=e.substring(0,a).split(":"),t.username=i[0]?g.decode(i[0]):null,i.shift(),t.password=i[0]?g.decode(i.join(":")):null,e=n.substring(a+1)):(t.username=null,t.password=null),e},g.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,i,a={},r=e.split("&"),o=r.length,l=0;l<o;l++)i=r[l].split("="),n=g.decodeQuery(i.shift(),t),i=i.length?g.decodeQuery(i.join("="),t):null,"__proto__"!==n&&(s.call(a,n)?("string"!=typeof a[n]&&null!==a[n]||(a[n]=[a[n]]),a[n].push(i)):a[n]=i);return a},g.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=g.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},g.buildHost=function(e){var t="";return e.hostname?(g.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},g.buildAuthority=function(e){return g.buildUserinfo(e)+g.buildHost(e)},g.buildUserinfo=function(e){var t="";return e.username&&(t+=g.encode(e.username)),e.password&&(t+=":"+g.encode(e.password)),t&&(t+="@"),t},g.buildQuery=function(e,t,n){var i,a,r,o,l="";for(a in e)if("__proto__"!==a&&s.call(e,a))if(c(e[a]))for(i={},r=0,o=e[a].length;r<o;r++)void 0!==e[a][r]&&void 0===i[e[a][r]+""]&&(l+="&"+g.buildQueryParameter(a,e[a][r],n),!0!==t&&(i[e[a][r]+""]=!0));else void 0!==e[a]&&(l+="&"+g.buildQueryParameter(a,e[a],n));return l.substring(1)},g.buildQueryParameter=function(e,t,n){return g.encodeQuery(e,n)+(null!==t?"="+g.encodeQuery(t,n):"")},g.addQuery=function(e,t,n){if("object"==typeof t)for(var i in t)s.call(t,i)&&g.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=n:("string"==typeof e[t]&&(e[t]=[e[t]]),c(n)||(n=[n]),e[t]=(e[t]||[]).concat(n))}},g.setQuery=function(e,t,n){if("object"==typeof t)for(var i in t)s.call(t,i)&&g.setQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},g.removeQuery=function(e,t,n){var i,a,r;if(c(t))for(i=0,a=t.length;i<a;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(r in e)t.test(r)&&(e[r]=void 0);else if("object"==typeof t)for(r in t)s.call(t,r)&&g.removeQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===o(n)?!c(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=d(e[t],n):e[t]!==String(n)||c(n)&&1!==n.length?c(e[t])&&(e[t]=d(e[t],n)):e[t]=void 0:e[t]=void 0}},g.hasQuery=function(e,t,n,i){switch(o(t)){case"String":break;case"RegExp":for(var a in e)if(s.call(e,a)&&t.test(a)&&(void 0===n||g.hasQuery(e,a,n)))return!0;return!1;case"Object":for(var r in t)if(s.call(t,r)&&!g.hasQuery(e,r,t[r]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!c(e[t])&&(i?p:h)(e[t],n);case"RegExp":return c(e[t])?!!i&&p(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return c(e[t])?!!i&&p(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},g.joinPaths=function(){for(var e=[],t=[],n=0,i=0;i<arguments.length;i++){var a=new g(arguments[i]);e.push(a);for(var r=a.segment(),o=0;o<r.length;o++)"string"==typeof r[o]&&t.push(r[o]),r[o]&&n++}if(!t.length||!n)return new g("");var l=new g("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},g.commonPath=function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return i<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(i)&&"/"===t.charAt(i)||(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},g.withinString=function(e,t,n){var i=(n=n||{}).start||g.findUri.start,a=n.end||g.findUri.end,r=n.trim||g.findUri.trim,o=n.parens||g.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var s=i.exec(e);if(!s)break;var u=s.index;if(n.ignoreHtml){var c=e.slice(Math.max(u-3,0),u);if(c&&l.test(c))continue}for(var c=u+e.slice(u).search(a),d=e.slice(u,c),p=-1;;){var h=o.exec(d);if(!h)break;h=h.index+h[0].length,p=Math.max(p,h)}(d=-1<p?d.slice(0,p)+d.slice(p).replace(r,""):d.replace(r,"")).length<=s[0].length||n.ignore&&n.ignore.test(d)||(void 0!==(s=t(d,u,c=u+d.length,e))?(s=String(s),e=e.slice(0,u)+s+e.slice(c),i.lastIndex=u+s.length):i.lastIndex=c)}return i.lastIndex=0,e},g.ensureValidHostname=function(e,t){var n=!!e,i=!1;if((i=t?p(g.hostProtocols,t):i)&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+t);if(e&&e.match(g.invalid_hostname_characters)){if(!l)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(l.toASCII(e).match(g.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-:_]')}},g.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&0<t&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},g.noConflict=function(e){return e?(e={URI:this.noConflict()},n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(e.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(e.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=n.SecondLevelDomains.noConflict()),e):(n.URI===this&&(n.URI=i),this)},e.build=function(e){return!0===e?this._deferred_build=!0:void 0!==e&&!this._deferred_build||(this._string=g.build(this._parts),this._deferred_build=!1),this},e.clone=function(){return new g(this)},e.valueOf=e.toString=function(){return this.build(!1)._string},e.protocol=w("protocol"),e.username=w("username"),e.password=w("password"),e.hostname=w("hostname"),e.port=w("port"),e.query=S("query","?"),e.fragment=S("fragment","#"),e.search=function(e,t){e=this.query(e,t);return"string"==typeof e&&e.length?"?"+e:e},e.hash=function(e,t){e=this.fragment(e,t);return"string"==typeof e&&e.length?"#"+e:e},e.pathname=function(e,t){var n;return void 0===e||!0===e?(n=this._parts.path||(this._parts.hostname?"/":""),e?(this._parts.urn?g.decodeUrnPath:g.decodePath)(n):n):(this._parts.urn?this._parts.path=e?g.recodeUrnPath(e):"":this._parts.path=e?g.recodePath(e):"/",this.build(!t),this)},e.path=e.pathname,e.href=function(e,t){if(void 0===e)return this.toString();this._string="",this._parts=g._parts();var n=e instanceof g,i="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[g.getDomAttribute(e)]||"",i=!1),"string"==typeof(e=!n&&i&&void 0!==e.pathname?e.toString():e)||e instanceof String)this._parts=g.parse(String(e),this._parts);else{if(!n&&!i)throw new TypeError("invalid input");var a=n?e._parts:e;for(var r in a)"query"!==r&&s.call(this._parts,r)&&(this._parts[r]=a[r]);a.query&&this.query(a.query,!1)}return this.build(!t),this},e.is=function(e){var t=!1,n=!1,i=!1,a=!1,r=!1,o=!1,l=!1,s=!this._parts.urn;switch(this._parts.hostname&&(s=!1,n=g.ip4_expression.test(this._parts.hostname),i=g.ip6_expression.test(this._parts.hostname),r=(a=!(t=n||i))&&u&&u.has(this._parts.hostname),o=a&&g.idn_expression.test(this._parts.hostname),l=a&&g.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return s;case"absolute":return!s;case"domain":case"name":return a;case"sld":return r;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return o;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var k=e.protocol,A=e.port,x=e.hostname,T=(e.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(g.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return k.call(this,e,t)},e.scheme=e.protocol,e.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&((e=0===e?null:e)&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),g.ensureValidPort(e))),A.call(this,e,t))},e.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==g.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&g.ensureValidHostname(e,this._parts.protocol)}return x.call(this,e,t)},e.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return n=this.protocol(),this.authority()?(n?n+"://":"")+this.authority():"";var n=g(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},e.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?g.buildHost(this._parts):"";if("/"!==g.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},e.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?g.buildAuthority(this._parts):"";if("/"!==g.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},e.userinfo=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?(n=g.buildUserinfo(this._parts))&&n.substring(0,n.length-1):("@"!==e[e.length-1]&&(e+="@"),g.parseUserinfo(e,this._parts),this.build(!t),this);var n},e.resource=function(e,t){return void 0===e?this.path()+this.search()+this.hash():(e=g.parse(e),this._parts.path=e.path,this._parts.query=e.query,this._parts.fragment=e.fragment,this.build(!t),this)},e.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}n=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,n),n=new RegExp("^"+r(n));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&g.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(n,e),this.build(!t),this},e.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;n=this._parts.hostname.length-this.tld(t).length-1,n=this._parts.hostname.lastIndexOf(".",n-1)+1;return this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return g.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(n=new RegExp(r(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)),this.build(!t),this},e.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(n+1);return!0!==t&&u&&u.list[n.toLowerCase()]&&u.get(this._parts.hostname)||n}var i;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!u||!u.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},e.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?g.decodePath(n):n}n=this._parts.path.length-this.filename().length,n=this._parts.path.substring(0,n),n=new RegExp("^"+r(n));return this.is("relative")||"/"!==(e=e||"/").charAt(0)&&(e="/"+e),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=g.recodePath(e),this._parts.path=this._parts.path.replace(n,e),this.build(!t),this},e.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(n+1);return e?g.decodePathSegment(n):n}var n=!1,i=((e="/"===e.charAt(0)?e.substring(1):e).match(/\.?\//)&&(n=!0),new RegExp(r(this.filename())+"$"));return e=g.recodePath(e),this._parts.path=this._parts.path.replace(i,e),n?this.normalizePath(t):this.build(!t),this},e.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this.filename(),i=n.lastIndexOf(".");return-1===i?"":(n=n.substring(i+1),i=/^[a-z0-9%]+$/i.test(n)?n:"",e?g.decodePathSegment(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var a,n=this.suffix();if(n)a=e?new RegExp(r(n)+"$"):new RegExp(r("."+n)+"$");else{if(!e)return this;this._parts.path+="."+g.recodePath(e)}return a&&(e=g.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},e.segment=function(e,t,n){var i=this._parts.urn?":":"/",a=this.path(),r="/"===a.substring(0,1),o=a.split(i);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(c(t))for(var o=[],l=0,s=t.length;l<s;l++)(t[l].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(m(t[l])));else!t&&"string"!=typeof t||(t=m(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=m(t):o.splice(e,1);return r&&o.unshift(""),this.path(o.join(i),n)},e.segmentCoded=function(e,t,n){var i,a,r;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(c(i=this.segment(e,t,n)))for(a=0,r=i.length;a<r;a++)i[a]=g.decode(i[a]);else i=void 0!==i?g.decode(i):void 0;return i}if(c(t))for(a=0,r=t.length;a<r;a++)t[a]=g.encode(t[a]);else t="string"==typeof t||t instanceof String?g.encode(t):t;return this.segment(e,t,n)},e.query);return e.query=function(e,t){return!0===e?g.parseQuery(this._parts.query,this._parts.escapeQuerySpace):"function"==typeof e?(n=g.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,n),this._parts.query=g.buildQuery(i||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):void 0!==e&&"string"!=typeof e?(this._parts.query=g.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):T.call(this,e,t);var n,i},e.setQuery=function(e,t,n){var i=g.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var a in e)s.call(e,a)&&(i[a]=e[a])}return this._parts.query=g.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!(n="string"!=typeof e?t:n)),this},e.addQuery=function(e,t,n){var i=g.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return g.addQuery(i,e,void 0===t?null:t),this._parts.query=g.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!(n="string"!=typeof e?t:n)),this},e.removeQuery=function(e,t,n){var i=g.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return g.removeQuery(i,e,t),this._parts.query=g.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!(n="string"!=typeof e?t:n)),this},e.hasQuery=function(e,t,n){var i=g.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return g.hasQuery(i,e,t,n)},e.setSearch=e.setQuery,e.addSearch=e.addQuery,e.removeSearch=e.removeQuery,e.hasSearch=e.hasQuery,e.normalize=function(){return(this._parts.urn?this.normalizeProtocol(!1):this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1)).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},e.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},e.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&l?this._parts.hostname=l.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},e.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===g.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},e.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=g.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var i,a,r="";for("/"!==(n=g.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(r=n.substring(1).match(/^(\.\.\/)+/)||"")&&(r=r[0]);-1!==(i=n.search(/\/\.\.(\/|$)/));)n=0!==i?(-1===(a=n.substring(0,i).lastIndexOf("/"))&&(a=i),n.substring(0,a)+n.substring(i+3)):n.substring(3);return t&&this.is("relative")&&(n=r+n.substring(1)),this._parts.path=n,this.build(!e),this},e.normalizePathname=e.normalizePath,e.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(g.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},e.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},e.normalizeSearch=e.normalizeQuery,e.normalizeHash=e.normalizeFragment,e.iso8859=function(){var e=g.encode,t=g.decode;g.encode=escape,g.decode=decodeURIComponent;try{this.normalize()}finally{g.encode=e,g.decode=t}return this},e.unicode=function(){var e=g.encode,t=g.decode;g.encode=f,g.decode=unescape;try{this.normalize()}finally{g.encode=e,g.decode=t}return this},e.readable=function(){var e=this.clone(),t=(e.username("").password("").normalize(),"");if(e._parts.protocol&&(t+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&l?(t+=l.toUnicode(e._parts.hostname),e._parts.port&&(t+=":"+e._parts.port)):t+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(t+="/"),t+=e.path(!0),e._parts.query){for(var n="",i=0,a=e._parts.query.split("&"),r=a.length;i<r;i++){var o=(a[i]||"").split("=");n+="&"+g.decodeQuery(o[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==o[1]&&(n+="="+g.decodeQuery(o[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+n.substring(1)}return t+g.decodeQuery(e.hash(),!0)},e.absoluteTo=function(e){var t,n,i,a=this.clone(),r=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof g||(e=new g(e)),a._parts.protocol)return a;if(a._parts.protocol=e._parts.protocol,this._parts.hostname)return a;for(n=0;i=r[n];n++)a._parts[i]=e._parts[i];return a._parts.path?(".."===a._parts.path.substring(-2)&&(a._parts.path+="/"),"/"!==a.path().charAt(0)&&(t=e.directory()||(0===e.path().indexOf("/")?"/":""),a._parts.path=(t?t+"/":"")+a._parts.path,a.normalizePath())):(a._parts.path=e._parts.path,a._parts.query||(a._parts.query=e._parts.query)),a.build(),a},e.relativeTo=function(e){var t,n,i,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new g(e).normalize(),t=a._parts,n=e._parts,i=a.path(),e=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==e.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==n.hostname||t.port!==n.port)return a.build();if(t.hostname=null,t.port=null,i===e)return t.path="",a.build();if(!(i=g.commonPath(i,e)))return a.build();e=n.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=e+t.path.substring(i.length)||"./",a.build()},e.equals=function(e){var t,n,i,a,r,o=this.clone(),e=new g(e),l={};if(o.normalize(),e.normalize(),o.toString()===e.toString())return!0;if(i=o.query(),a=e.query(),o.query(""),e.query(""),o.toString()!==e.toString())return!1;if(i.length!==a.length)return!1;for(r in t=g.parseQuery(i,this._parts.escapeQuerySpace),n=g.parseQuery(a,this._parts.escapeQuerySpace),t)if(s.call(t,r)){if(c(t[r])){if(!h(t[r],n[r]))return!1}else if(t[r]!==n[r])return!1;l[r]=!0}for(r in n)if(s.call(n,r)&&!l[r])return!1;return!0},e.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},e.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},e.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},g})},132:function(e,t,n){var i,a,f,y,v,r,o,l,s,u,c,d,b,C;function w(e){throw new RangeError(c[e])}function p(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function h(e,t){var n=e.split("@"),i="";return 1<n.length&&(i=n[0]+"@",e=n[1]),i+p((e=e.replace(u,".")).split("."),t).join(".")}function S(e){for(var t,n,i=[],a=0,r=e.length;a<r;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<r?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function g(e){return p(e,function(e){var t="";return 65535<e&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+C(e)}).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,n){var i=0;for(e=n?b(e/o):e>>1,e+=b(e/t);d*v>>1<e;i+=y)e=b(e/d);return b(i+(d+1)*e/(e+r))}function m(e){var t,n,i,a,r,o,l,s,u=[],c=e.length,d=0,p=128,h=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)128<=e.charCodeAt(i)&&w("not-basic"),u.push(e.charCodeAt(i));for(a=0<n?n+1:0;a<c;){for(r=d,o=1,l=y;c<=a&&w("invalid-input"),((s=(s=e.charCodeAt(a++))-48<10?s-22:s-65<26?s-65:s-97<26?s-97:y)>=y||s>b((f-d)/o))&&w("overflow"),d+=s*o,!(s<(s=l<=h?1:h+v<=l?v:l-h));l+=y)o>b(f/(s=y-s))&&w("overflow"),o*=s;h=A(d-r,t=u.length+1,0==r),b(d/t)>f-p&&w("overflow"),p+=b(d/t),d%=t,u.splice(d++,0,p)}return g(u)}function x(e){for(var t,n,i,a,r,o,l,s,u,c=[],d=(e=S(e)).length,p=128,h=0,g=72,m=0;m<d;++m)(o=e[m])<128&&c.push(C(o));for(t=n=c.length,n&&c.push("-");t<d;){for(i=f,m=0;m<d;++m)(o=e[m])>=p&&o<i&&(i=o);for(i-p>b((f-h)/(l=t+1))&&w("overflow"),h+=(i-p)*l,p=i,m=0;m<d;++m)if((o=e[m])<p&&++h>f&&w("overflow"),o==p){for(a=h,r=y;!(a<(s=r<=g?1:g+v<=r?v:r-g));r+=y)c.push(C(k(s+(u=a-s)%(s=y-s),0))),a=b(u/s);c.push(C(k(a,0))),g=A(h,l,t==n),h=0,++t}++h,++p}return c.join("")}e=n.nmd(e),t&&t.nodeType,e&&e.nodeType,(i="object"==typeof n.g&&n.g).global!==i&&i.window!==i&&i.self,f=2147483647,v=26,r=38,o=700,l=/^xn--/,s=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=(y=36)-1,b=Math.floor,C=String.fromCharCode,a={version:"1.3.2",ucs2:{decode:S,encode:g},decode:m,encode:x,toASCII:function(e){return h(e,function(e){return s.test(e)?"xn--"+x(e):e})},toUnicode:function(e){return h(e,function(e){return l.test(e)?m(e.slice(4).toLowerCase()):e})}},void 0!==(i=function(){return a}.call(t,n,t,e))&&(e.exports=i)},135:e=>{"use strict";e.exports=Modernizr},311:e=>{"use strict";e.exports=jQuery}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;t=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var e=a(198);wolLib=e})(),!function(e,t){"use strict";t.page=new wolLib.PageHelper,t.storage=new wolLib.StorageProvider(e("#siteCookieDomain").val()),t.cookieManager=new wolLib.CookieManager(t.storage)}(jQuery,app),!function($,window,app){"use strict";window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var isTouchDevice="ontouchend"in document,iOS=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i),Android=!!navigator.userAgent.match(/Android/i),WindowsPhone=!!navigator.userAgent.match(/IEMobile|Windows Phone/i),iPadOS=!(!isTouchDevice||!navigator.userAgent.match(/(Macintosh)/i)),hasPositionFixedProblem=!!navigator.userAgent.match(/(iPad|iPhone|iPod);.*?5_\d/i),isPointerDevice=!!navigator.pointerEnabled||!!window.PointerEvent,isIEOlderThan11=function(){return-1!==navigator.userAgent.indexOf("MSIE")},isOldSafari=function(){var e=navigator.userAgent.toLowerCase();return-1<e.indexOf("safari")&&!!(-1<e.indexOf("version/7")||-1<e.indexOf("version/8"))},getUILanguage=function(){return $("#locale").val()},getRsConfigSymbol=function(){return $("#rsconf").val()},getLibrarySymbol=function(){return $("#lib").val()},getLibraryLanguageSymbol=function(){return $("#libLangSym").val()},getLibraryLanguageScript=function(){return $("#libLangScript").val()},getLibraryDir=function(){return $("#libDir").val()},isLibraryRTL=function(){return"rtl"===getLibraryDir()},getLibraryLanguageName=function(){return $("#libLang").val()},getLibraryLocale=function(){return $("#libraryLocale").val()},getLibraryTitle=function(){return $("#libTitle").val()},getLibraryIsPrivileged=function(){return $("#libIsPrivileged").val()},getContentUILanguage=function(){return $("#contentLocale").val()},getContentRsConfigSymbol=function(){return $("#contentRsconf").val()},getContentLibrarySymbol=function(){return $("#contentLib").val()},getContentLibraryLanguageSymbol=function(){return $("#contentLibLangSym").val()},getContentLibraryLanguageScript=function(){return $("#contentLibLangScript").val()},getContentLibraryDir=function(){return $("#contentLibDir").val()},isContentLibraryRTL=function(){return"rtl"===getContentLibraryDir()},isContentLibraryHTML5=function(){return 0<$(".html5").length},getScrollPositionFormatStrings=function(){return{bibleDocumentNavigationChapterManyVerseFormat:$("#bibleDocumentNavigationChapterManyVerseFormat").val(),bibleDocumentNavigationChapterVerseFormat:$("#bibleDocumentNavigationChapterVerseFormat").val(),bibleDocumentNavigationChapterVerseRangeFormat:$("#bibleDocumentNavigationChapterVerseRangeFormat").val(),bibleDocumentNavigationSingleChapterManyVerseFormat:$("#bibleDocumentNavigationSingleChapterManyVerseFormat").val(),bibleDocumentNavigationSingleChapterSingleVerseFormat:$("#bibleDocumentNavigationSingleChapterSingleVerseFormat").val(),documentNavigationMultiplePagesPositionFormat:$("#documentNavigationMultiplePagesPositionFormat").val(),documentNavigationSinglePagePositionFormat:$("#documentNavigationSinglePagePositionFormat").val()}},getCommand=function(e){return URI().segment(e?1:2)},getSelectedText=function(){try{return(window.getSelection?window:document).getSelection().getRangeAt(0)}catch(e){}},getSelectedTextContainers=function(){var e=getSelectedText(),t=e.startContainer.parentElement,n=(""===t.id&&(t=$(t).closest("[id]")[0]),e.endContainer.parentElement),e=(""===n.id&&(n=$(n).closest("[id]")[0]),$(e.commonAncestorContainer)),i=e.find("[id^=v]"),a=(0===i.length&&(i=e.find("*").filter(function(){return void 0!==$(this).data("pid")})),$()),r=!1;return i.each(function(e){e=i[e];e.id!==t.id||r?e.id===n.id&&r?(r=!1,a=a.add($(e))):r&&(a=a.add($(e))):(r=!0,a=a.add($(e)))}),a},multiSegmentSelectionEnabled=function(){return 0<$("#userTextRangeHighlight").length},updatedMediaPlayerEnabled=function(){return 0<$("#updatedMediaPlayer").length},getTextNodes=function(e){var i=$(),e=$(e);return 0<e.length&&function e(t){var n;if(3===t.nodeType)"\n"!==t.nodeValue&&i.push($(t));else for(n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}(e[0]),i},getCharacterPosition=function(e,t){var n=e.innerHTML,i=getSelectedText(),a=$(e).lettering(),a=$(a).children()[t],t=$(a).position(),a=($(e).innerHTML=n,document.createRange());return a.setStart(i.startContainer.parentNode,i.startOffset),a.setEnd(i.endContainer.parentNode,i.endOffset),t},getVerseNumberFromIDAttribute=function(e){var t=getBookNumber(),n=getChapterNumber(),t=app.utilities.isContentLibraryHTML5()?t?"v"+t+"-"+n+"-(\\d+)":"v\\d+-\\d+-(\\d+)":t?"dcv_"+n+"_(\\d+)":"dcv_\\d+_(\\d+)";return(n=(t=new RegExp(t)).exec(e))?n[1]:null},getVerseNumberObject=function(e){var e=e.$items.closest("#article [id]").not("[data-pid]"),e=getAllVerseSegmentsFromIDAttribute(e.attr("id"));return 0<e.length?(e=e[0],$(e).children(".cl, .vl")):null},getChapterNumberFromIDAttribute=function(e){e=/v\d+-(\d+)-\d+/.exec(e);return e?e[1]:null},getBookNumberFromIDAttribute=function(e){e=/v(\d+)-\d+-\d+/.exec(e);return e?e[1]:null},getAllVerseSegmentsFromIDAttribute=function(e){e=/(v\d+-\d+-\d+)/.exec(e);return e?$("#article").find("[id^="+e[1]+"-]"):$()},getParagraphIDFromIDAttribute=function(e){return Number(e.substr(1))},getParagraphById=function(e){e=parseInt(e,10);e=$("#p"+e);if(0<e.length)return e[0]},getFirstActionableIdInScope=function(e,t){var n,i=$(t[0]);return 0<t.length?(app.isBibleDocument()&&!e?0===(n=i.find("[id^=v]")).length&&0===(n=i.closest("[id]")).length&&(n=i.find("[id]").first()):0===(n=i.closest("[data-pid]")).length&&(n=i.find("[data-pid]").first()),n.attr("id")):null},isDocument=function(e){switch(getCommand(e)){case"d":case"dsync":return!0;default:return!1}},articleHasVerses=function(){var e=$(".article");return/id=\"v/.test(e.html())},getDID=function(e){return $("#docId").val()},getDocumentDescription=function(){return $("#documentDescription").val()},getDocumentDescriptionSubstitute=function(){return $("#documentDescriptionSubstitute").val()},getPubMediaServer=function(){return $("#pubMediaServer").val()||location.host},getInsightApiUrl=function(){return $("#insightApi").val()},getShareBaseUrl=function(){return $("#shareBaseUrl").val()},getShareType=function(){return $("#shareType").val()},getContentTitle=function(){return $("#contentTitle").val()},getContentParentTitle=function(){return $("#parentTitle").val()},getContentThumbnailUrl=function(){return $("#contentThumbnail").val()},getSourcePreferredBible=function(){return $("#sourcePreferredBible").val()},getPubSym=function(){return $("#englishSym").val()},getAudioPubSym=function(){return $("#audioPubSym").val()},getPubYear=function(){return $("#pubYear").val()},getLangSym=function(){return $("#langSym").val()},getIssue=function(){return $("#issue").val()},getIssueDate=function(){return $("#issueDate").val()},getIssueSymbol=function(){return $("#issueSymbol").val()},getBookNumber=function(){return $("#bookNo").val()},getChapterNumber=function(){return $("#chapNo").val()},getTodayDate=function(){return $("#todayDate").val()},getTodayWeek=function(){return $("#todayWeek").val()},getSelectedSearchCategories=function(){var e=[];return $('#searchFilterContainer input[name="fc[]"]:checked').each(function(){e.push($(this).val())}),e},isSubsetSelectedSearchCategories=function(){return 0<$('#searchFilterContainer input[name="fc[]"]:not(:checked)').length},isBibleDocument=function(e){switch(getCommand(e)){case"b":case"bsync":case"sybv":return!0;default:return!1}},isLibraryNav=function(e){switch(getCommand(e)){case"lv":case"library":return!0;default:return!1}},isBibleBookDocument=function(e){return isDocument(e)&&$(".document.bibleBook").length},isBiblePublication=function(e){return!!["nwt","nwtsty","bi7","bi10","b12","bi22","by","int","Rbi8","rh"].indexOf(getPubSym())},isBibleNav=function(e){return"binav"===getCommand(e)},isDefaultBible=function(e){return"true"===$("#isDefaultBible").val()},isPublicationNav=function(e){return"publication"===getCommand(e)},isGalleryNav=function(e){return"gallery"===getCommand(e)},isTodayPage=function(e){return"dt"===getCommand(e)},parseBibleDocumentURL=function(e){return{rsconf:$("#rsconf").val(),lib:$("#lib").val(),book:$("#bookNo").val(),chapter:$("#chapNo").val()}},parsePublicationURL=function(e){return{rsconf:$("#rsconf").val(),lib:$("#lib").val(),englishSymbol:$("#englishSym").val(),languageSymbol:$("#langSym").val()}},isSearchResultsPage=function(e){return"s"===getCommand(e)},isDocumentWithSearchHits=function(e){return!!isDocument(e)&&URI().hasQuery("q")},isDocumentWithImages=function(e){return!!isDocument(e)&&0<$(".article img").length},hasDocumentContent=function(){return 0<$(".scalableui").length},getContentAreaMargins=function(){return{marginTop:$("#regionHeader").outerHeight()||0,marginBottom:0}},transcribeUreLinks=function(e){var t;return e&&(t=sprintf("/%s/wol/",getContentUILanguage()||getUILanguage()),e.replace(/\/wol\/(?!datalink|vidlink|rslink|finder)/g,t))},roundToNearest=function(e,t){return t=1/t,Math.round(e*t)/t},roundDown=function(e,t){return t=1/t,Math.floor(e*t)/t},loadPage=function(e){e=URI(e),e=e.path()+e.search()+e.hash();window.location.href=e},loadJSFile=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)},cookiesEnabled=function(){return"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test"))},libInfoIsCurrent=function(n,e){var i=!1;return $.each(e.items,function(e,t){$.each(t.libs,function(e,t){if(t.symbol==n)return!(i=!0)})}),i},getMRULibraries=function(){var t=getRsConfigSymbol(),n=getLibrarySymbol(),e=JSON.parse(app.storage.getLocalStorage("mru")||"[]");for((e=$.grep(e,function(e){return!(e.rsconf===t&&e.lib===n)})).unshift({rsconf:t,lib:n});3<e.length;)e.pop();return app.storage.setLocalStorage("mru",JSON.stringify(e)),e},fontSizeManager=function(){function e(){if(-1===o){for(var e=Number.MAX_VALUE,t=(a=app.storage.getCookie("fontScale"))?parseFloat(a):1,n=0;n<r.length;n++){var i=Math.abs(t-r[n]);if(!(i<e))break;e=i,o=n}app.storage.setCookie("fontScale",r[o])}var a}var r=[.7,.78,.85,1,1.17,1.38,1.72,1.9,2.23,2.67,3.08,3.7],o=-1;return{getScale:function(){return e(),r[o]},decrement:function(){return e(),0<o&&(--o,!0)},increment:function(){return e(),o+1<r.length&&(o+=1,!0)},reset:function(){o=3}}}(),getDefaultFontSize=function(){var e,t=parseInt($("body").css("font-size"),10);return t=t,Math.round(72*t/(t=$('<div style="width:1in;visible:hidden;padding:0px"></div>').appendTo("body"),e=t[0].offsetWidth,t.remove(),e))},isFeatureEnabled=function(e){return"true"===app.storage.getCookie(e)},enableFeature=function(e){app.storage.setCookie(e,!0)},disableFeature=function(e){app.storage.setCookie(e,!1)},isFeatureSet=function(e){return void 0!==app.storage.getCookie(e)},normalizeText=function(e){return isLibraryRTL()?e.replace("(","&#x200E;(").replace(")",")&#x200E;").replace(//,"&#x200E;").replace(//,"&#x200E;"):e},localizeNumber=function(e){var t;return t=null!=(t=void 0===(t=void 0===(t="undefined"!=typeof localizedNumbers&&null!==localizedNumbers&&localizedNumbers instanceof Array?localizedNumbers[e]:t)?$("[data-no="+e+"]").data("beforeText"):t)?$(".v[id$=-"+e+"-1]").children(".vl").first().text().trim():t)&&0!==t.length?t:e},hasAudio=!1,isFallbackAudio=!1,shouldShowAudioPlayer=function(){var e=app.storage.getCookie("audioPlayer");return!e||"true"===e},shouldContinuousPlayAudio=function(){var e=app.storage.getCookie("audioContinuousPlay");return!e||"true"===e},audioPlayerSetup=!1,isIE=function(){var e=window.navigator.userAgent;return 0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")},isEdge=/Edge\/\d./i.test(navigator.userAgent),isOpera=function(){return!!(/OPR\/\d./i.test(navigator.userAgent)||/Opera\/\d./i.test(navigator.userAgent)||/Opera Mini\/\d./i.test(navigator.userAgent))},isChrome=function(){var e=window.chrome,t=window.navigator,n=t.vendor,i=-1<t.userAgent.indexOf("OPR")||-1<t.userAgent.indexOf("Opera"),a=-1<t.userAgent.indexOf("Edge");return!!t.userAgent.match("CriOS")||null!=e&&"Google Inc."===n&&!1==i&&!1==a},isJscriptGt4=eval("/*@cc_on (@_jscript_version >= 4)@*/"),isHTTPS=function(){return"https:"===location.protocol};function isFromTouch(e){return"touch"===e.originalEvent.pointerType||void 0===e.originalEvent.pointerType&&(app.WindowsPhone||app.iOS||app.Android)}function getFirstIdMatchingVerseNumber(e){var t,n="v\\d+-\\d+-"+e+"-1",n=new RegExp(n),e=$("[id^=v]").filter(function(e,t){return n.test(t.id)});return 0<e.length&&(t=e.first().attr("id")),app.utilities.getAllVerseSegmentsFromIDAttribute(t)}function updateFontSize(e){var t=app.fontSizeManager.getScale(),e=(e&&app.storage.setCookie("fontScale",t),parseInt(getDefaultFontSize()*t,10));$("#fontPointSize").text(e).css("font-size",100*t+"%")}function getVideoResolution(){var e=app.storage.getCookie("preferredVideoResolution");return e||"720p"}function setVideoResolution(e){app.storage.setCookie("preferredVideoResolution",e)}function getSearchProximity(){var e=app.storage.getCookie("prox");return e||"par"}function getSearchRank(){var e=app.storage.getCookie("rank");return e||"occ"}function setupAsyncPartialPageLoad(t){var n;Modernizr.history&&window.history.pushState&&(n={success:function(e){t.pageContentObject.html(e),app.menu.markButtonByLocation(),app.images.placeholders(),app.media.removeAudioSetup(),app.media.audioNavigationSetup(),app.bibleAudioCheck.checkBibleAudio(),app.share.setupShare(),app.pref.updatePreferencesRedirect(),null!=t.successCallback&&"function"==typeof t.successCallback&&t.successCallback()},error:function(e){var t=new URI(this.url).removeQuery("snip","yes");app.loadPage(t.toString())}},t.pageContentObject.off("click").on("click",t.filter,function(){var e=new URI(this.href).addQuery("snip","yes");return(isTouchDevice||isPointerDevice)&&t.pageContentObject.html('<div class="loading"><span class="icon"></span></div>'),app.web.ajax(e.toString(),n),window.history.pushState(null,null,this.href),window.scroll(0,0),app.utilities.isPublicationNav()&&(app.audioPlayerSetup=!1,app.media.audioNavigationSetup()),!1}),window.onpopstate=function(){var e;new URI(window.location.href).hasQuery("q")||(e=new URI(window.location.pathname).addQuery("snip","yes"),$.ajax(e.toString(),n))})}function isSignLanguage(){return"false"!==$("#contentLibLangIsSignLanguage").val()}function externalizeArticleLinks(){$("article").find("a").each(function(){var e,t=$(this);t.attr("href")&&(""!==(e=URI(t.attr("href")).host())&&e!==window.location.host||t.hasClass("fb"))&&(t.attr("target","_blank"),t.addClass("fb"))})}function rubyAvailable(){return"true"===$("#rubyAvailable").val()}function rubyVisible(){return 0<$(".article").find("ruby").length}function currentDocumentRubyAvailable(){return"true"===$("#hasRuby").val()}function showRubyOnForPage(){return"true"===$("#isRuby").val()}function enableRubyDocumentMenu(){return!0}function libraryHasRubyAsync(t,n){app.web.getJSON("/wol/li").done(function(e){e=e.items.some(function(e){return e.libs.some(function(e){return t===e.symbol&&!0===e.hasRuby})});n(e)}).fail(function(e){n(!1)})}function selectText(e){var t,n;iOS||iPadOS?((t=document.createRange()).selectNodeContents(e),(n=window.getSelection()).removeAllRanges(),n.addRange(t),e.setSelectionRange(0,999999)):e.select()}function copyToClipboard(e){var t=document.createElement("textarea");t.style.cssText="position: absolute; left: -9999px; top: -9999px;",t.readOnly=!0,t.contentEditable="true",t.value=e,document.body.appendChild(t),selectText(t),document.execCommand("copy"),document.body.removeChild(t)}function copyRichText(t){var n=stripHtml(t);function e(e){e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",n),e.preventDefault()}iOS||iPadOS?copyToClipboard(n):(document.addEventListener("copy",e),copyToClipboard(n),document.removeEventListener("copy",e))}function stripHtml(e){e=e.replace(/<rt>.*?<\/rt>/g,"");var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function getVideoPlayerHeight(){return $("#regionMain.hasVideoPlayer #videoWrapper").height()||0}function leftPad(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function getWeekNumber(e){(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1)),t=Math.ceil(((e-t)/864e5+1)/7);return[e.getUTCFullYear(),t]}function getDateString(e){return e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2)}app.isTouchDevice=isTouchDevice,app.isPointerDevice=isPointerDevice,app.isIEOlderThan11=isIEOlderThan11,app.iOS=iOS,app.Android=Android,app.WindowsPhone=WindowsPhone,app.iPadOS=iPadOS,app.hasPositionFixedProblem=hasPositionFixedProblem,app.getUILanguage=getUILanguage,app.getRsConfigSymbol=getRsConfigSymbol,app.getLibrarySymbol=getLibrarySymbol,app.getLibraryLanguageSymbol=getLibraryLanguageSymbol,app.getLibraryLanguageScript=getLibraryLanguageScript,app.getLibraryDir=getLibraryDir,app.isLibraryRTL=isLibraryRTL,app.getLibraryLanguageName=getLibraryLanguageName,app.getLibraryLocale=getLibraryLocale,app.getLibraryTitle=getLibraryTitle,app.getLibraryIsPrivileged=getLibraryIsPrivileged,app.getContentUILanguage=getContentUILanguage,app.getContentRsConfigSymbol=getContentRsConfigSymbol,app.getContentLibrarySymbol=getContentLibrarySymbol,app.getContentLibraryLanguageSymbol=getContentLibraryLanguageSymbol,app.getContentLibraryLanguageScript=getContentLibraryLanguageScript,app.getContentLibraryDir=getContentLibraryDir,app.isContentLibraryRTL=isContentLibraryRTL,app.getCommand=getCommand,app.getVerseNumberFromIDAttribute=getVerseNumberFromIDAttribute,app.getChapterNumberFromIDAttribute=getChapterNumberFromIDAttribute,app.getBookNumberFromIDAttribute=getBookNumberFromIDAttribute,app.getParagraphIDFromIDAttribute=getParagraphIDFromIDAttribute,app.isDocument=isDocument,app.getDID=getDID,app.getDocumentDescription=getDocumentDescription,app.isBibleDocument=isBibleDocument,app.isBibleBookDocument=isBibleBookDocument,app.isBiblePublication=isBiblePublication,app.isSearchResultsPage=isSearchResultsPage,app.isDocumentWithSearchHits=isDocumentWithSearchHits,app.isDocumentWithImages=isDocumentWithImages,app.parseBibleDocumentURL=parseBibleDocumentURL,app.parsePublicationURL=parsePublicationURL,app.hasDocumentContent=hasDocumentContent,app.transcribeUreLinks=transcribeUreLinks,app.loadPage=loadPage,app.cookiesEnabled=cookiesEnabled,app.getMRULibraries=getMRULibraries,app.fontSizeManager=fontSizeManager,app.normalizeText=normalizeText,app.isFeatureEnabled=isFeatureEnabled,app.enableFeature=enableFeature,app.disableFeature=disableFeature,app.isFeatureSet=isFeatureSet,app.hasAudio=hasAudio,app.audioPlayerVisible=shouldShowAudioPlayer(),app.audioPlayerSetup=audioPlayerSetup,app.isFallbackAudio=isFallbackAudio,app.isIE=isIE,app.isEdge=isEdge,app.isChrome=isChrome,app.isOpera=isOpera,app.isJscriptGt4=isJscriptGt4,app.isHTTPS=isHTTPS,app.pubMediaServer=getPubMediaServer,app.getPubSym=getPubSym,app.getAudioPubSym=getAudioPubSym,app.getLangSym=getLangSym,app.getPubYear=getPubYear,app.getIssue=getIssue,app.getIssueDate=getIssueDate,app.getIssueSymbol=getIssueSymbol,app.getDocumentDescriptionSubstitute=getDocumentDescriptionSubstitute,app.getBookNumber=getBookNumber,app.getChapterNumber=getChapterNumber,app.getTodayDate=getTodayDate,app.getTodayWeek=getTodayWeek,app.getShareBaseUrl=getShareBaseUrl,app.getShareType=getShareType,app.getContentTitle=getContentTitle,app.getContentParentTitle=getContentParentTitle,app.getContentThumbnailUrl=getContentThumbnailUrl,app.getSourcePreferredBible=getSourcePreferredBible,app.localizeNumber=localizeNumber,app.lastClickEvent=null,app.getInsightApiUrl=getInsightApiUrl,app.getSelectedSearchCategories=getSelectedSearchCategories,app.isSubsetSelectedSearchCategories=isSubsetSelectedSearchCategories,app.utilities={isOldSafari:isOldSafari,getScrollPositionFormatStrings:getScrollPositionFormatStrings,getAllVerseSegmentsFromIDAttribute:getAllVerseSegmentsFromIDAttribute,getSelectedText:getSelectedText,getSelectedTextContainers:getSelectedTextContainers,multiSegmentSelectionEnabled:multiSegmentSelectionEnabled,updatedMediaPlayerEnabled:updatedMediaPlayerEnabled,getCharacterPosition:getCharacterPosition,getTextNodes:getTextNodes,getParagraphById:getParagraphById,updateFontSize:updateFontSize,articleHasVerses:articleHasVerses,getContentAreaMargins:getContentAreaMargins,loadJSFile:loadJSFile,isContentLibraryHTML5:isContentLibraryHTML5,roundToNearest:roundToNearest,roundDown:roundDown,getVerseNumberObject:getVerseNumberObject,isFromTouch:isFromTouch,isBibleNav:isBibleNav,isDefaultBible:isDefaultBible,isPublicationNav:isPublicationNav,isLibraryNav:isLibraryNav,isGalleryNav:isGalleryNav,isTodayPage:isTodayPage,getFirstActionableIdInScope:getFirstActionableIdInScope,audioContinuousPlayEnabled:shouldContinuousPlayAudio(),getFirstIdMatchingVerseNumber:getFirstIdMatchingVerseNumber,getSearchProximity:getSearchProximity,getSearchRank:getSearchRank,getVideoResolution:getVideoResolution,setVideoResolution:setVideoResolution,setupAsyncPartialPageLoad:setupAsyncPartialPageLoad,isSignLanguage:isSignLanguage,externalizeLinks:externalizeArticleLinks,rubyAvailable:rubyAvailable,rubyVisible:rubyVisible,currentDocumentRubyAvailable:currentDocumentRubyAvailable,enableRubyDocumentMenu:enableRubyDocumentMenu,showRubyOnForPage:showRubyOnForPage,libraryHasRubyAsync:libraryHasRubyAsync,copyToClipboard:copyToClipboard,copyRichText:copyRichText,stripHtml:stripHtml,getVideoPlayerHeight:getVideoPlayerHeight,leftPad:leftPad,getWeekNumber:getWeekNumber,getDateString:getDateString,isBibleDocument:isBibleDocument,getCommand:getCommand,getBookNumberFromIDAttribute:getBookNumberFromIDAttribute,getChapterNumberFromIDAttribute:getChapterNumberFromIDAttribute,getVerseNumberFromIDAttribute:getVerseNumberFromIDAttribute,getParagraphIDFromIDAttribute:getParagraphIDFromIDAttribute}}(jQuery,window,app=app||{}),!function(t){t.fn.pointLink=function(a,r){var o=null;function n(e){var t,n,i=this.href||e.target.href||e.currentTarget.href;return!r(i)||(e._clickorhoverlink_FromTouch=o,a(i,(n=i=0,(t=(t=e).clientX&&t.clientY?t:t.originalEvent).pageX||t.pageY?(i=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(i=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:i,y:n}),e),!1)}var e=t(this).find('a:not([role="navigation"] a, .selectionList a, .noTooltips a, a.noTooltips, .itemCaption a, .search a, .topic a, .caption a, a.galleryItem, .docNav a, a.fb)');return e.on("touchstart",function(e){null==o&&(o=!0)}),e.on("pointerover",function(e){var t;return t=e,!!(o=o||"touch"===t.originalEvent.pointerType||"pen"===t.originalEvent.pointerType)||n(e)}),e.on("pointerup",function(e){return!o||n(e)}),e.on("pointercancel",function(e){return!(o=!1)}),e.on("click",function(e){e=this.href||e.target.href||e.currentTarget.href;return!r(e)||!o}),this}}(jQuery),!function(y){y.fn.insertTag=function(e,t,n,i,a){function r(e){return y.support.leadingWhitespace?e:e.replace(/^ /,"&#xA0;")}o=this,l=y(),0<(o=y(o)).length&&function e(t){var n;if(3===t.nodeType)"\n"!==t.nodeValue&&l.push(t);else for(n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}(o[0]);for(var o,l,s,u,c,d,p,h=l,g=h.length,m=0,f=0;f<g;f++){if(d=(s=y(h[f])).text(),u=e-m,e<m+d.length){t<m+d.length?d===d.substr(u,(c=t-m)-u)&&d.length===s.parent().text().length?s.parent().addClass(a):(p=r(d.substr(0,u)),p=(p=(p=(p+=n)+r(d.substr(u,c-u)))+i)+r(d.substr(c)),s.replaceWith(p)):d===d.substr(u)&&d.length===s.parent().text().length?s.parent().addClass(a):(p=r(d.substr(0,u)),p=(p=(p+=n)+r(d.substr(u)))+i,s.replaceWith(p)),m+=d.length,f++;break}m+=d.length}for(;f<g;f++)if(d=(s=y(h[f])).text(),m<t){if(t<m+d.length){if(d===d.substr(0,c)&&d.length===s.parent().text().length){s.parent().addClass(a);break}p=n,p=(p=(p+=r(d.substr(0,c=t-m)))+i)+r(d.substr(c)),s.replaceWith(p);break}d===s.parent().text()?s.parent().addClass(a):(p=n,p=(p+=r(d))+i,s.replaceWith(p)),m+=d.length}return this}}(jQuery),!function(a){a.fn.jumpTo=function(e,t){var n,i;return e=a.extend({marginTop:0,marginBottom:0,positionRatio:.05},e),0<this.length&&(n=a(this),e=(a(window).height()-e.marginTop-e.marginBottom)*e.positionRatio+e.marginTop,n.is(":visible")?i=n.offset().top:(n.removeClass("hidden").show(),i=n.offset().top,n.css("display","")),a("html, body").animate({scrollTop:i-(a("#regionMain").offset().top+e)},"fast",function(){var e=a.Event("jumptoend");a(document).trigger(e)}),!0)}}(jQuery),!function(d){"use strict";Modernizr.touchevents;function n(e){return"MSPointerDown"===e.type||"MSPointerUp"===e.type||"MSPointerMove"===e.type||"pointerdown"===e.type||"pointerup"===e.type||"pointermove"===e.type}function p(e){var t;return n(e)?(t=e.target.parentNode.offsetLeft,e.originalEvent.clientX-t):(t=e.target.parentNode.offsetLeft,e.originalEvent.touches&&0<e.originalEvent.touches.length?e.originalEvent.touches[0].pageX-window.scrollX-t:e.originalEvent.changedTouches[0].pageX-window.scrollX-t)}function h(e){var t;return n(e)?(t=e.target.parentNode.offsetTop,e.originalEvent.clientY-t):(t=e.target.parentNode.offsetTop,e.originalEvent.touches&&0<e.originalEvent.touches.length?e.originalEvent.touches[0].pageY-window.scrollY-t:e.originalEvent.changedTouches[0].pageY-window.scrollY-t)}var e,g=!1;(e=navigator.userAgent.match(/(?:iPad|iPhone|iPod);.*?OS (\d+)_/i))&&(e=Number(e[1]),g=e<=5);d.fn.singleclickortap=function(){var e,t,i,a,r,o,l,s,u,n=0,c=("string"==typeof arguments[n]&&(e=arguments[n],n++),"function"==typeof arguments[n+1]&&(t=arguments[n],n++),"function"==typeof arguments[n]&&(i=arguments[n],n++),"object"==typeof arguments[n]&&(c=arguments[n],n++),d.extend({hasTimeout:!0,acceptableClickRange:20},c));return g?this.on("click",e,t,i):app.isPointerDevice?(a=!1,r=null,this.on("pointerdown",e,t,function(e){a=!1,window.clearTimeout(r),r=setTimeout(function(){a=!0,r=null},1e3),o=p(e),l=h(e)}).on("pointerup",e,t,function(e){window.clearTimeout(r),r=null;var t=p(e),n=h(e),t=Math.abs(t-o),n=Math.abs(n-l);!a&&t<c.acceptableClickRange&&n<c.acceptableClickRange&&i(e)})):(s=0,this.on("mousedown",e,t,function(e){u=e}).on("click",e,t,function(e){var t,n;u=u||e,1===++s&&(t=Math.abs(e.clientX-u.clientX),n=Math.abs(e.clientY-u.clientY),c.hasTimeout?setTimeout(function(){1===s&&t<c.acceptableClickRange&&n<c.acceptableClickRange&&i(e),s=0},300):(1===s&&t<c.acceptableClickRange&&n<c.acceptableClickRange&&i(e),s=0))})),this}}(jQuery),!function(u,c){"use strict";var l=250,s=3e3,d=null,i=[],p={},h={fetchOptions:{credentials:"include"}},g=MediaPlayer.playlists.BasePlaylist.extend({init:function(e,t){this._playlist=e,this._segments=t},_loadItemsImpl:function(){return Promise.resolve(this._playlist._items)},getItemAt:function(e){var t,n=this._segments[e];return n&&(t=this._playlist.getItemAt(n.index))?(t.segment=n,t.setSegmentStartEnd=this.setSegmentStartEnd.bind(this,e),t):null},getNumberOfItems:function(){return this._segments.length},setSegments:function(e){this._segments=e},setSegmentStartEnd:function(e,t,n){isNaN(t)&&(t=0),this._segments[e].start=t,isNaN(n)&&(n=Number.MAX_VALUE),this._segments[e].end=n}}),m=MediaPlayer.behaviors.BaseBehavior.extend({bind:function(e){e._playedIndexes=[],this._boundItemChangedHandler=this._useItemSegmentIfExists.bind(this,e),e.on("currentItemChanged",this._boundItemChangedHandler)},respondToOutOfBoundsQueueItemRequest:function(e,t,n){return e.pause(),0},unbind:function(e){e.off("currentItemChanged",this._boundItemChangedHandler)},_boundItemChangedHandler:null,_useItemSegmentIfExists:function(n,e){function t(e,t){t&&t.segment?t.segment.inSegment&&e>=t.segment.end?(t.segment.playNextItem?n.nextItem():(n.pause(),i()),t.setSegmentStartEnd()):t.segment.start<=e&&e<=t.segment.end&&(t.segment.inSegment=!0):i()}function i(){n.off("timeChanged",t),n.off("seekStarted",i),n.off("currentItemChanged",i)}e&&e.segment&&(0!==e.segment.start||e.segment.end!==Number.MAX_VALUE)&&n.once("timeChanged",function(){e.segment&&(n.on("timeChanged",t),n.once("seekStarted",function(){n.once("seekStarted",i)}),n.once("currentItemChanged",i),n.seek(e.segment.start))})}});function o(e,t,n,i){var a=e.getPlaylist();return null!=a.getItemAt(t)&&(a=new g(a,[{index:t,start:n,end:i,playNextItem:!1}])),e.changePlaylistSynchronously(a)}function n(e){var t,n,i,a=Math.floor(e/3600),r=Math.floor((e-3600*a)/60),e=e-3600*a-60*r;return((t=a<10?"0"+a:t)||a)+":"+((n=r<10?"0"+r:n)||r)+":"+((i=e<10?"0"+e:i)||e)}function f(e){e=e.split(":");var t=parseInt(e[0],10),n=parseInt(e[1],10),e=parseFloat(e[2]);return 3600*t+60*n+Math.trunc(1e3*e)/1e3}function y(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function a(a,e,r){var t=a.data("jsonSrc"),o=a.data("imgSrc"),l=(r&&r.forEach(function(e){e.duration=n(e.duration),e.startTime=n(e.startTime)}),new MediaPlayer.playlists.PubMedia(t,h));return l.loadItems().then(function(e){e.forEach(function(e){null!=o&&e.setPosterURL(o),null!=r&&e.setMarkers(r)});var t,n=MediaPlayer.builderFor("video").setPlaylist(l).addBehavior(new m).setSourceSelectionFn(function(e){var t=c.utilities.getVideoResolution();return e.find(function(e){return e.getResolution()===parseInt(t,10)})}),e=(null!=o&&(n=n.setDefaultPoster(o)),c.utilities.updatedMediaPlayerEnabled()&&(e={shouldShowButton:function(e){return!0},onClick:function(e){var t,e=e.getImplementation().src();e&&((t=document.createElement("a")).href=e,t.target="_blank",t.style="display: none",document.body.appendChild(t),t.click(),t.remove())}},t={shouldShowButton:c.share.canSharePage,onClick:c.share.openShareDialog},n=n.setSubtitlesMode("SUBTITLES_OFF").setDownloadButtonOptions(e).setShareButtonOptions(t)),new MediaPlayer.translationStringsProviders.Remote),i=(n=n.setTranslationStringsProvider(e).setDefaultLocale(c.getUILanguage()).build(a.get(0)),u.Deferred());return n.once("ready",function(){i.resolve(n)}),i}).then(function(e){return e.getImplementation().on("qualitySelected",function(e,t){c.utilities.setVideoResolution(t.label)}),v(e),e}).catch(function(e){C(a)})}function e(n){n="object"==typeof n?n.getDOMElement().id:n,Object.keys(i).forEach(function(e){var t=i[e];u.contains(document,t.getDOMElement())&&(null==n||t.getDOMElement().id!==n)||(t.destroy(),delete i[e])}),i=i.filter(function(e){return e})}function v(t){e(),t&&(t.on("itemPlaying",function(){i.forEach(function(e){e!==t&&e.pause()})}),i.push(t))}function b(e,t,n,i){var a,r;(i=i&&c.utilities.isSignLanguage())?(i=e,a=t,r=n,c.utilities.isSignLanguage()&&i.setMuted(!0),o(i,0,a,r).playItemAt(0)):o(e,0,t,n)}function r(e,t,n){var i=(i=t.map(function(e,t){return c.isBibleDocument()?u(t).find("[id^=v]").addBack("[id^=v]").map(function(e,t){t=u(t).attr("id");return c.getVerseNumberFromIDAttribute(t)}).get():(t=c.utilities.getFirstActionableIdInScope(!1,[t]),c.getParagraphIDFromIDAttribute(t))}).get()).filter(function(e,t){return this.indexOf(e)===t},i),a=null,r=(n&&(a=c.isBibleDocument()?u(n).find("[id^=v]").addBack("[id^=v]").map(function(e,t){t=u(t).attr("id");return c.getVerseNumberFromIDAttribute(t)}).get()[0]:(n=c.utilities.getFirstActionableIdInScope(!1,[n]),c.getParagraphIDFromIDAttribute(n))),[]),o=0;i.forEach(function(e){null!=p[e]&&(r.push(p[e]),e===a&&(o=r.length-1))}),0<r.length?(r.sort(function(e,t){return parseFloat(e.startTime)-parseFloat(t.startTime)}),b(e,f(r[o].startTime),f((n=r[r.length-1]).startTime)+f(n.duration),!0)):0<t.length&&null!=d&&u(d.getDOMElement()).parent().find(".noMarkerNotice").hide().removeClass("hidden").fadeIn(l).delay(s/2).fadeOut(s/2)}function C(e){u(e.selector).hide().parent().find(".videoErrorNotice").hide().removeClass("hidden").fadeIn(l)}function w(e){var t;e.hasClass("constrainedHeight")?e.css("height","100%"):(t=parseInt(e.width(),10),t=Math.ceil(9*t/16),t+=e.innerHeight()-e.height(),e.css("height",t+"px"),e.trigger("videoResize"))}function S(){var e;return null!=d&&0<(e=u(this).closest("[id^=v]")).length&&(e=e.attr("id"),e=c.utilities.getAllVerseSegmentsFromIDAttribute(e),d.pause(),r(d,e)),!1}c.video={setupVideoPlaceHolder:function(){var e=u("#article"),t=e.find("video");t.each(function(e,t){var n=u(t.outerHTML.replace(/^<video/,"<div").replace(/video>$/,"div>")).addClass("videoContainer");u(t).after(n)}),t.remove(),e.find(".videoContainer").each(function(e,t){t=u(t).addClass("videoPlayerHolder").addClass("placeholder");w(t),w(t)})},setupEmbeddedVideoPlayer:function(e){u(e).find(".videoContainer").each(function(e){var i=this,t=u(this);w(t),a(t).then(function(){var t,n="resize orientationchange";u(window).on(n,function e(){clearTimeout(t),u.contains(document,i)?t=setTimeout(function(){w(u(i))},100):u(window).off(n,e)})})}).removeClass("videoContainer")},destroyPlayers:e,setupSharedPlayer:function(){var e,t,n,i=u("#videoUrl");0<i.length&&(e=u("#videoWrapper"),n=i.data("jsonSrc"),i=i.data("imgSrc"),""!==n&&(u("#regionHeader, #regionMain").addClass("hasVideoPlayer"),(t=e.find("#playerShared")).data("jsonSrc",n).data("imgSrc",i).addClass("videoPlayerHolder").addClass("placeholder").addClass("constrainedHeight"),0<(n=u("#videoMarkers")).length&&(p=n.data("jsonMarkers")),e.hide().removeClass("hidden").fadeIn(l),a(t,0,_.values(p)).then(function(t){var e;if(null!=t)return t.on("timeChanged",function(e,t,n){n&&.1<e&&c.mediaMarker.updateVideoPosition(n)}).on("markerStarted",function(e){0<e.startTimeInSeconds&&c.mediaMarker.updateVideoPosition(e);setTimeout(function(){t.isPlaying()||c.mediaMarker.clearMarkers()},1e3)}).on("playbackPaused",function(){c.mediaMarker.clearMarkers()}),u(document).on("texthighlighted",function(e){t.pause(),c.mediaMarker.autoScrollEnabled=!0,r(t,e.$items,e.$lastSelectedElement)}),u(document).on("textunhighlighted",function(){t.pause()}),e=c.highlightManager.getHighlightedElements(),r(t,e),u("#article.bible").find(".cl, .vl").on("click",S),w(u("#playerShared")),d=t})))},setupTooltipPlayer:function e(t,n,i,a){var r,o,l,s;1<u("[id="+t+"]").length?setTimeout(function(){e(t,n,i,a)},10):(w(r=u("#"+t)),0!==(o=r.data("playlist")).length&&(l=o.map(function(e){var t;return e=(e=new MediaPlayer.playlists.PubMedia(y(e.jsonSrc),h)).loadItems(),t=u.Deferred(),e.then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}),null!=(s=o.find(function(e){return!!e.imgSrc}))&&(s=y(s)),u.when.apply(u,l).then(function(){var e=[].slice.call(arguments),e=[].concat.apply([],e);return new MediaPlayer.playlists.BasePlaylist(e,h)},function(e){C(r)}).then(function(i){(o=o.map(function(e,t){return{index:t,start:e.startTime,end:e.startTime+e.duration,playNextItem:!0}}))[o.length-1].playNextItem=!1,(i=new g(i,o)).loadItems().then(function(){var e=MediaPlayer.builderFor("video").setPlaylist(i).addBehavior(new m).setSourceSelectionFn(function(e){return e.sort(function(e,t){return e.getResolution()-t.getResolution()})[0]}),t=(null!=s&&(e=e.setDefaultPoster(s)),new MediaPlayer.translationStringsProviders.Remote),e=e.setTranslationStringsProvider(t).setDefaultLocale(c.getUILanguage()).build(r.get(0)),n=u.Deferred();return e.once("ready",function(){n.resolve(e)}),n}).then(function(e){return v(e),a&&(c.utilities.isSignLanguage()&&e.setMuted(!0),e.play()),e}).catch(function(e){C(r)})},function(e){C(r)})))},findPlayingPlayers:function(t){return t=u(t=t||"body"),i.filter(function(e){return e.isPlaying()&&t.find(e.getDOMElement())})},timeChangeDebounceTime:.1}}(jQuery,app),!function(u){u.fn.wolTooltip=function(e,t,n,o){o=u.extend({},o);var l,i=u(this),s=u("<div/>").addClass(n).attr("dir",o.rtl?"rtl":"ltr"),n=navigator.pointerEnabled,n=(navigator.userAgent.match(/(iPad|iPhone|iPod);/i),!!(navigator.userAgent.match(/IEMobile/)||navigator.userAgent.match(/Trident/)&&n)&&(s.css("overflow-y","auto"),u(document).css("overflow-y","auto")),u(".tooltip").each(function(){u(this).hide().find(".closeBtn").trigger("click")}),l=s.append(i).window({complete:function(){u(o.target).off(".tooltip"),l=void 0,o.complete&&o.complete()},rendered:function(){app.images.placeholders();var e=u(".tooltipContainer");app.video.setupEmbeddedVideoPlayer(e),u(i).find("a.galleryItem").on("click",function(e){e.preventDefault(),i.find(".closeBtn").trigger("click"),app.gallery.handleGalleryItem.call(this,e)})},css:{top:t,left:e},modal:!1,rtl:o.rtl,parent:u(o.target).closest("#regionMain")}),s.on("mouseenter",function(e){s.on("wheel",function(e,t){var n=u(this);return!(0<t&&n.prop("scrollTop")<=0)&&(!(t<0&&n.prop("scrollTop")+n.prop("offsetHeight")>=n.prop("scrollHeight"))&&void 0)})}),l.form.find(".closeBtn").on("click",function(){l&&l.close()}),"scroll.tooltip pointermove.tooltip pointerenter.tooltip pointerdown.tooltip pointerover.tooltip wheel.tooltip");return u(o.target).on(n,function(e){e.stopPropagation()}),s.on(n,function(e){e.stopPropagation()}),u(document).on("scroll.tooltip mousewheel.tooltip pointermove.tooltip pointerdown.tooltip",function(e){var t=e.originalEvent&&e.originalEvent.pointerType&&"mouse"===e.originalEvent.pointerType,n="scroll"===e.type,i="pointerdown"===e.type,a="pointermove"===e.type,r=t&&a||n||!t&&!a||i;l&&r?setTimeout(function(){var e=u(o.target).is(":hover")||s.is(":hover");l&&(r&&(!e&&t||n&&!e&&t||!t&&!n||i))&&(0<app.video.findPlayingPlayers(l.form).length&&a||l.close())},500):0===u(".tooltip").length&&u(document).off(".tooltip")}),this}}(jQuery),!function(g,m){"use strict";m.typingSuggestionList={typingSuggestionList:function(n,a,r,o,l){var s,u,c,d=0,p=g("<div/>");function i(){o.fadeOut(function(){c=u=s=void 0,l.hideComplete()})}function h(e){var t,i;g.trim(e).length&&(i=++d,(t=e)&&m.web.getNoSessionDialogJSON(n(t)).done(function(e){var n;i<d||0===e.items.length||(s=e.items,u=-1,c=t,n="<ul>",g.each(s,function(e,t){this.label?n+='<li data-index="'+e+'">'+this.caption+' <span class="caption">'+this.label+"</span></li>":n+='<li data-index="'+e+'">'+this.caption+"</li>"}),n+="</ul>",p.html(n),p.find("li").on("click",function(){location.href=a(s[g(this).data("index")])}),p.find("li").on("mouseenter",function(){var e=p.find("li");e.removeClass("sgSel"),u=e.index(this),g(this).addClass("sgSel")}),e=r[0].getBoundingClientRect(),o.css({width:r.innerWidth(),left:e.left,top:e.top+r.height()}),o.removeClass("hidden").show(),l.showComplete())}))}function t(e){var t=r.val();0===t.length||-1!==r.val().indexOf(";")?i():9!==(e=e)&&13!==e&&27!==e&&37!==e&&38!==e&&39!==e&&40!==e&&h(t)}return l=g.extend({showComplete:function(){},hideComplete:function(){}},l),o.append(p),r.on("keydown",function(e){return 13!==(e=e.keyCode)?27===e?(s?(r.val(c),i()):r.val(""),!1):9===e||38===e||40===e?!s||(-1<u&&p.find("li").eq(u).removeClass("sgSel"),38===e?-1===u?u=s.length-1:--u:9!==e&&40!==e||(u===s.length-1?u=-1:u+=1),-1===u?r.val(c):(p.find("li").eq(u).addClass("sgSel"),r.val(s[u].query)),!1):void 0:s&&-1!==u?(p.find("li").eq(u).trigger("click"),!1):void 0}).on("keyup",function(e){t(e.keyCode)}).on("blur",function(){i()}),r}}}(jQuery,app),!function(m){m.fn.window=function(i){var a,e,t,r=m(window).height(),n=m(window).width(),o=m(document).scrollLeft(),l=m(document).scrollTop(),s=m(document).height(),u=m(document).width();function c(){r=m(window).height(),n=m(window).width(),o=m(document).scrollLeft(),l=m(document).scrollTop(),s=m(document).height(),u=m(document).width()}function d(){a.fadeOut({duration:"fast",always:function(){a.remove(),a=void 0}}),i.modal&&e.fadeOut({duration:"fast",always:function(){e.remove(),e=void 0}}),m(document).off("keyup",t),i.complete()}function p(){var e=a;if(i.css.top){var t=r/2+l,n=l+r;if(i.css.top+e.outerHeight()<n)return i.css.top+i.offset;if(i.css.top-e.outerHeight()>l)return i.css.top-e.outerHeight()-i.offset;n=r/2-2*i.offset;return e.children().first().height(n),t>i.css.top?i.css.top+i.offset:i.css.top-n-i.offset}return l+r/2-e.outerHeight()/2}function h(){return i.css.left?i.rtl?i.css.left-a.outerWidth()<o?o:i.css.left-a.outerWidth():i.css.left+a.outerWidth()+i.offset>o+n?o+n-a.outerWidth()-i.offset:i.css.left+i.offset:o+n/2-a.outerWidth()/2}t=function(e){(27===e.keyCode||13===e.keyCode&&i.ok())&&d()},(i=m.extend({ok:function(){return!0},css:{},init:function(){},complete:function(){},rendered:function(){},offset:12,modal:!0,modalTransparency:.2,rtl:!1},i)).css=m.extend({width:"auto",height:"auto"},i.css),this.css(i.css),a=this.wrapAll("<div/>").parent().wrapAll('<div class="tooltipContainer" />').parent().css({position:"absolute","z-index":999,overflow:"visible",height:"auto"}),i.modal&&(e=m("<div/>").css({position:"absolute","z-index":998,height:s,width:u,top:0,left:0,background:"black"}).on("touchstart touchmove touchend MSPointerDown MSPointerMove MSPointerUp",function(e){e.stopPropagation()}).on("click",function(e){d()})),m(document).on("keyup",t),m(window).on("resize",function(){c(),a&&a.css({top:p(),left:h()}),e&&e.css({height:s,width:u,top:0,left:0}),i.rendered()});var g=m("body");return i.parent&&(g=m(i.parent)),i.modal&&e.appendTo(g).fadeTo(0,i.modalTransparency),c(),a.appendTo(g).css({top:p(),left:h()}).fadeIn("fast",i.init),i.rendered(),{close:d,form:a}}}(jQuery),!function(){"use strict";var t=0,r={};function n(e){if(!e)throw new Error("No options passed to Waypoint constructor");if(!e.element)throw new Error("No element option passed to Waypoint constructor");if(!e.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=n.Adapter.extend({},n.defaults,e),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=e.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),r[this.key]=this,t+=1}n.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},n.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete r[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(e){var t,n=[];for(t in r)n.push(r[t]);for(var i=0,a=n.length;i<a;i++)n[i][e]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){for(var e in n.Context.refreshAll(),r)r[e].enabled=!0;return this},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n}(),!function(){"use strict";function t(e){window.setTimeout(e,1e3/60)}var n=0,i={},h=window.Waypoint,e=window.onload;function a(e){this.element=e,this.Adapter=h.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,n+=1,h.windowContext||(h.windowContext=!0,h.windowContext=new a(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}a.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},a.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),n=this.element==this.element.window;e&&t&&!n&&(this.adapter.off(".waypoints"),delete i[this.key])},a.prototype.createThrottledResizeHandler=function(){var e=this;function t(){e.handleResize(),e.didResize=!1}this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,h.requestAnimationFrame(t))})},a.prototype.createThrottledScrollHandler=function(){var e=this;function t(){e.handleScroll(),e.didScroll=!1}this.adapter.on("scroll.waypoints",function(){e.didScroll&&!h.isTouch||(e.didScroll=!0,h.requestAnimationFrame(t))})},a.prototype.handleResize=function(){h.Context.refreshAll()},a.prototype.handleScroll=function(){var e,t,n={},i={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(e in i){var a,r=i[e],o=r.newScroll>r.oldScroll?r.forward:r.backward;for(a in this.waypoints[e]){var l,s,u=this.waypoints[e][a];null!==u.triggerPoint&&(l=r.oldScroll<u.triggerPoint,s=r.newScroll>=u.triggerPoint,(l&&s||!l&&!s)&&(u.queueTrigger(o),n[u.group.id]=u.group))}}for(t in n)n[t].flushTriggers();this.oldScroll={x:i.horizontal.newScroll,y:i.vertical.newScroll}},a.prototype.innerHeight=function(){return this.element==this.element.window?h.viewportHeight():this.adapter.innerHeight()},a.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},a.prototype.innerWidth=function(){return this.element==this.element.window?h.viewportWidth():this.adapter.innerWidth()},a.prototype.destroy=function(){var e,t=[];for(e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,a=t.length;i<a;i++)t[i].destroy()},a.prototype.refresh=function(){var e,t,n=this.element==this.element.window,i=n?void 0:this.adapter.offset(),a={};for(t in this.handleScroll(),e={horizontal:{contextOffset:n?0:i.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:i.top,contextScroll:n?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var r,o=e[t];for(r in this.waypoints[t]){var l,s=this.waypoints[t][r],u=s.options.offset,c=s.triggerPoint,d=0,p=null==c;s.element!==s.element.window&&(d=s.adapter.offset()[o.offsetProp]),"function"==typeof u?u=u.apply(s):"string"==typeof u&&(u=parseFloat(u),-1<s.options.offset.indexOf("%")&&(u=Math.ceil(o.contextDimension*u/100))),l=o.contextScroll-o.contextOffset,s.triggerPoint=Math.floor(d+l-u),d=c<o.oldScroll,l=s.triggerPoint>=o.oldScroll,u=!d&&!l,!p&&(d&&l)?(s.queueTrigger(o.backward),a[s.group.id]=s.group):(!p&&u||p&&o.oldScroll>=s.triggerPoint)&&(s.queueTrigger(o.forward),a[s.group.id]=s.group)}}return h.requestAnimationFrame(function(){for(var e in a)a[e].flushTriggers()}),this},a.findOrCreateByElement=function(e){return a.findByElement(e)||new a(e)},a.refreshAll=function(){for(var e in i)i[e].refresh()},a.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){e&&e(),a.refreshAll()},h.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},h.Context=a}(),!function(){"use strict";function r(e,t){return e.triggerPoint-t.triggerPoint}function o(e,t){return t.triggerPoint-e.triggerPoint}var t={vertical:{},horizontal:{}},n=window.Waypoint;function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),t[this.axis][this.name]=this}i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var t=this.triggerQueues[e];t.sort("up"===e||"left"===e?o:r);for(var n=0,i=t.length;n<i;n+=1){var a=t[n];!a.options.continuous&&n!==t.length-1||a.trigger([e])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(r);e=n.Adapter.inArray(e,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},i.prototype.previous=function(e){this.waypoints.sort(r);e=n.Adapter.inArray(e,this.waypoints);return e?this.waypoints[e-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){e=n.Adapter.inArray(e,this.waypoints);-1<e&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return t[e.axis][e.name]||new i(e)},n.Group=i}(),!function(){"use strict";var n=window.jQuery,e=window.Waypoint;function i(e){this.$element=n(e)}n.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,t){i.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}}),n.each(["extend","inArray","isEmptyObject"],function(e,t){i[t]=n[t]}),e.adapters.push({name:"jquery",Adapter:i}),e.Adapter=i}(),!function(){"use strict";var a=window.Waypoint;function e(i){return function(){var t=[],n=arguments[0];return i.isFunction(arguments[0])&&((n=i.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var e=i.extend({},n,{element:this});"string"==typeof e.context&&(e.context=i(this).closest(e.context)[0]),t.push(new a(e))}),t}}window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),!function(o){function r(e){var t=o(window),n=s.test(e[0].nodeName);return{border:n?{top:0,left:0,bottom:0,right:0}:i(e[0]),scroll:{top:(n?t:e).scrollTop(),left:(n?t:e).scrollLeft()},scrollbar:{right:n?0:e.innerWidth()-e[0].clientWidth,bottom:n?0:e.innerHeight()-e[0].clientHeight},rect:(t=e[0].getBoundingClientRect(),{top:n?0:t.top,left:n?0:t.left,bottom:n?e[0].clientHeight:t.bottom,right:n?e[0].clientWidth:t.right})}}var l={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},n={direction:"both",topOffset:0},s=/^(?:html)$/i,i=function(e,t){t=t||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var n=!(!document.defaultView||!document.defaultView.getComputedStyle),i=parseFloat(n?t.borderTopWidth:o.css(e,"borderTopWidth"))||0,a=parseFloat(n?t.borderLeftWidth:o.css(e,"borderLeftWidth"))||0,r=parseFloat(n?t.borderBottomWidth:o.css(e,"borderBottomWidth"))||0,n=parseFloat(n?t.borderRightWidth:o.css(e,"borderRightWidth"))||0;return{top:i,left:a,bottom:r,right:n,vertical:i+r,horizontal:a+n}};function u(t,e,n){(t=s.test(t[0].nodeName)?o("html,body"):t).animate(e,n).eq(0).queue(function(e){o.isFunction(n.complete)&&n.complete.call(t[0]),e()})}function c(e){var t={};return 0<arguments.length&&("object"!=typeof e[0]?(t.duration=e[0],1<e.length&&(t.easing=e[1],2<e.length&&(t.complete=e[2]))):t=o.extend(t,e[0])),(t=o.extend({},n,t)).direction=l["string"==typeof t.direction&&t.direction.toLowerCase()]||l.both,!0===t.direction.x&&(t.direction.selector="horizontal"),!0===t.direction.y&&(t.direction.selector=t.direction.selector?"both":"vertical"),t}function e(){var e,t,n=c(arguments),i=this.eq(0),a=i.closest(":scrollable("+n.direction.selector+")");return 0<a.length&&(a=a.eq(0),i=r(i),e=r(a),i={top:i.rect.top-(e.rect.top+e.border.top)-parseInt(n.topOffset,10),bottom:e.rect.bottom-e.border.bottom-e.scrollbar.bottom-i.rect.bottom,left:i.rect.left-(e.rect.left+e.border.left),right:e.rect.right-e.border.right-e.scrollbar.right-i.rect.right},t={},!0===n.direction.y&&(i.top<0?t.scrollTop=e.scroll.top+i.top:0<i.top&&i.bottom<0&&(t.scrollTop=e.scroll.top+Math.min(i.top,-i.bottom))),!0===n.direction.x&&(i.left<0?t.scrollLeft=e.scroll.left+i.left:0<i.left&&i.right<0&&(t.scrollLeft=e.scroll.left+Math.min(i.left,-i.right))),o.isEmptyObject(t)?o.isFunction(n.complete)&&n.complete.call(a[0]):u(a,t,n)),this}function t(){var e,t,n,i=c(arguments),a=this.eq(0),r=a.closest(":scrollable(vertical)");return 0<r.length&&(r=r.eq(0),e=s.test(r[0].nodeName)?0:r.scrollTop(),t="HTML"===r.prop("tagName")?0:r.offset().top,(n={}).scrollTop=e+a.offset().top-parseFloat(a.css("margin-top"))-t-parseFloat(r.css("margin-top"))-parseFloat(r.css("padding-top"))-parseInt(i.topOffset,10),u(r,n,i)),this}o.fn.extend({scrollIntoView:e,scrollintoview:e,scrollToTop:t,scrolltotop:t});var d={auto:!0,overlay:!0,scroll:!0,visible:!1,hidden:!1};o.extend(o.expr[":"],{scrollable:function(e,t,n,i){var n=l["string"==typeof n[3]&&n[3].toLowerCase()]||l.both,a=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,r={x:d[a.overflowX.toLowerCase()]||!1,y:d[a.overflowY.toLowerCase()]||!1,isRoot:s.test(e.nodeName)};if(!r.x&&!r.y&&!r.isRoot)return!1;a={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(r.x||r.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(r.y||r.isRoot)&&this.height.scroll>this.height.client}};return n.y&&a.scrollableY()||n.x&&a.scrollableX()}})}(jQuery),!function(){"use strict";var g={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function m(e){var t,n,i,a,r,o,l,s,u=function(e){if(f[e])return f[e];var t,n=e,i=[],a=0;for(;n;){if(null!==(t=g.text.exec(n)))i.push(t[0]);else if(null!==(t=g.modulo.exec(n)))i.push("%");else{if(null===(t=g.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var r=[],o=t[2],l=[];if(null===(l=g.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(r.push(l[1]);""!==(o=o.substring(l[0].length));)if(null!==(l=g.key_access.exec(o)))r.push(l[1]);else{if(null===(l=g.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");r.push(l[1])}t[2]=r}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return f[e]=i}(e),c=arguments,d=1,p=u.length,h="";for(n=0;n<p;n++)if("string"==typeof u[n])h+=u[n];else if("object"==typeof u[n]){if((a=u[n]).keys)for(t=c[d],i=0;i<a.keys.length;i++){if(null==t)throw new Error(m('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[i],a.keys[i-1]));t=t[a.keys[i]]}else t=a.param_no?c[a.param_no]:c[d++];if(g.not_type.test(a.type)&&g.not_primitive.test(a.type)&&t instanceof Function&&(t=t()),g.numeric_arg.test(a.type)&&"number"!=typeof t&&isNaN(t))throw new TypeError(m("[sprintf] expecting number but found %T",t));switch(g.number.test(a.type)&&(l=0<=t),a.type){case"b":t=parseInt(t,10).toString(2);break;case"c":t=String.fromCharCode(parseInt(t,10));break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,a.width?parseInt(a.width):0);break;case"e":t=a.precision?parseFloat(t).toExponential(a.precision):parseFloat(t).toExponential();break;case"f":t=a.precision?parseFloat(t).toFixed(a.precision):parseFloat(t);break;case"g":t=a.precision?String(Number(t.toPrecision(a.precision))):parseFloat(t);break;case"o":t=(parseInt(t,10)>>>0).toString(8);break;case"s":t=String(t),t=a.precision?t.substring(0,a.precision):t;break;case"t":t=String(!!t),t=a.precision?t.substring(0,a.precision):t;break;case"T":t=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),t=a.precision?t.substring(0,a.precision):t;break;case"u":t=parseInt(t,10)>>>0;break;case"v":t=t.valueOf(),t=a.precision?t.substring(0,a.precision):t;break;case"x":t=(parseInt(t,10)>>>0).toString(16);break;case"X":t=(parseInt(t,10)>>>0).toString(16).toUpperCase()}g.json.test(a.type)?h+=t:(!g.number.test(a.type)||l&&!a.sign?s="":(s=l?"+":"-",t=t.toString().replace(g.sign,"")),r=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",o=a.width-(s+t).length,o=a.width&&0<o?r.repeat(o):"",h+=a.align?s+t+o:"0"===r?s+o+t:o+s+t)}return h}function e(e,t){return m.apply(null,[e].concat(t||[]))}var f=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=m,exports.vsprintf=e),"undefined"!=typeof window&&(window.sprintf=m,window.vsprintf=e,"function"==typeof define&&define.amd&&define(function(){return{sprintf:m,vsprintf:e}}))}(),!function(o,r){"use strict";r.bibleAudioCheck={checkBibleAudio:function(){var e=o("#rsconf").attr("value"),t=o("#lib").attr("value"),n=o("#englishSym").attr("value"),i=o("#langSym").attr("value"),a=o("#pubYear").attr("value");o("#isPublicationABible").val()&&n&&i&&a&&(i="/wol/baa/%s/%s/%s",i=sprintf(i,e,t,n),r.web.getJSON(i).done(function(e){var i,a,r;i=e,e=o("#bookNo").attr("value"),r='<span class="hasAudioStatic"><span class="audioIcon"></span></span>',e?i[e]&&o(".navBook").append(r):i[0]?o(".materialNav").find("header h1").filter(function(){return 0===o(this).find(".hasAudio").length}).append(r):(a=o("nav.bibleNav").hasClass("legacy"),o("[data-bookid]").filter(function(){return 0===o(this).find(".hasAudio").length}).each(function(e,t){var t=o(t),n=t.data("bookid");i[n]&&(a?t.append(r):t.parent().addClass("audio"))}))}))}}}(jQuery,app),!function(e,t){"use strict";var n=null,i=[];function a(){i.forEach(function(e){e()})}try{var r=new Audio,o=r.canPlayType("audio/ogg")?"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAD/QwAAAAAAAM2LVKsBHgF2b3JiaXMAAAAAAUSsAAAAAAAAgLsAAAAAAAC4AU9nZ1MAAAAAAAAAAAAA/0MAAAEAAADmvOe6Dy3/////////////////MgN2b3JiaXMdAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAwNzA2MjIAAAAAAQV2b3JiaXMfQkNWAQAAAQAYY1QpRplS0kqJGXOUMUaZYpJKiaWEFkJInXMUU6k515xrrLm1IIQQGlNQKQWZUo5SaRljkCkFmVIQS0kldBI6J51jEFtJwdaYa4tBthyEDZpSTCnElFKKQggZU4wpxZRSSkIHJXQOOuYcU45KKEG4nHOrtZaWY4updJJK5yRkTEJIKYWSSgelU05CSDWW1lIpHXNSUmpB6CCEEEK2IIQNgtCQVQAAAQDAQBAasgoAUAAAEIqhGIoChIasAgAyAAAEoCiO4iiOIzmSY0kWEBqyCgAAAgAQAADAcBRJkRTJsSRL0ixL00RRVX3VNlVV9nVd13Vd13UgNGQVAAABAEBIp5mlGiDCDGQYCA1ZBQAgAAAARijCEANCQ1YBAAABAABiKDmIJrTmfHOOg2Y5aCrF5nRwItXmSW4q5uacc845J5tzxjjnnHOKcmYxaCa05pxzEoNmKWgmtOacc57E5kFrqrTmnHPGOaeDcUYY55xzmrTmQWo21uaccxa0pjlqLsXmnHMi5eZJbS7V5pxzzjnnnHPOOeecc6oXp3NwTjjnnHOi9uZabkIX55xzPhmne3NCOOecc84555xzzjnnnHOC0JBVAAAQAABBGDaGcacgSJ+jgRhFiGnIpAfdo8MkaAxyCqlHo6ORUuoglFTGSSmdIDRkFQAACAAAIYQUUkghhRRSSCGFFFKIIYYYYsgpp5yCCiqppKKKMsoss8wyyyyzzDLrsLPOOuwwxBBDDK20EktNtdVYY62555xrDtJaaa211koppZRSSikIDVkFAIAAABAIGWSQQUYhhRRSiCGmnHLKKaigAkJDVgEAgAAAAgAAADzJc0RHdERHdERHdERHdETHczxHlERJlERJtEzL1ExPFVXVlV1b1mXd9m1hF3bd93Xf93Xj14VhWZZlWZZlWZZlWZZlWZZlWYLQkFUAAAgAAIAQQgghhRRSSCGlGGPMMeegk1BCIDRkFQAACAAgAAAAwFEcxXEkR3IkyZIsSZM0S7M8zdM8TfREURRN01RFV3RF3bRF2ZRN13RN2XRVWbVdWbZt2dZtX5Zt3/d93/d93/d93/d93/d1HQgNWQUASAAA6EiOpEiKpEiO4ziSJAGhIasAABkAAAEAKIqjOI7jSJIkSZakSZ7lWaJmaqZneqqoAqEhqwAAQAAAAQAAAAAAKJriKabiKaLiOaIjSqJlWqKmaq4om7Lruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rui4QGrIKAJAAANCRHMmRHEmRFEmRHMkBQkNWAQAyAAACAHAMx5AUybEsS9M8zdM8TfRET/RMTxVd0QVCQ1YBAIAAAAIAAAAAADAkw1IsR3M0SZRUS7VUTbVUSxVVT1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTVN0zRNIDRkJQAABADAYo3B5SAhJSXl3hDCEJOeMSYhtV4hBJGS3jEGFYOeMqIMct5C4xCDHggNWREARAEAAMYgxxBzyDlHqZMSOeeodJQa5xyljlJnKcWYYs0oldhSrI1zjlJHraOUYiwtdpRSjanGAgAAAhwAAAIshEJDVgQAUQAAhDFIKaQUYow5p5xDjCnnmHOGMeYcc44556B0UirnnHROSsQYc445p5xzUjonlXNOSiehAACAAAcAgAALodCQFQFAnACAQZI8T/I0UZQ0TxRFU3RdUTRd1/I81fRMU1U90VRVU1Vt2VRVWZY8zzQ901RVzzRV1VRVWTZVVZZFVdVt03V123RV3ZZt2/ddWxZ2UVVt3VRd2zdV1/Zd2fZ9WdZ1Y/I8VfVM03U903Rl1XVtW3VdXfdMU5ZN15Vl03Vt25VlXXdl2fc103Rd01Vl2XRd2XZlV7ddWfZ903WF35VlX1dlWRh2XfeFW9eV5XRd3VdlVzdWWfZ9W9eF4dZ1YZk8T1U903RdzzRdV3VdX1dd19Y105Rl03Vt2VRdWXZl2fddV9Z1zzRl2XRd2zZdV5ZdWfZ9V5Z13XRdX1dlWfhVV/Z1WdeV4dZt4Tdd1/dVWfaFV5Z14dZ1Ybl1XRg+VfV9U3aF4XRl39eF31luXTiW0XV9YZVt4VhlWTl+4ViW3feVZXRdX1ht2RhWWRaGX/id5fZ943h1XRlu3efMuu8Mx++k+8rT1W1jmX3dWWZfd47hGDq/8OOpqq+brisMpywLv+3rxrP7vrKMruv7qiwLvyrbwrHrvvP8vrAso+z6wmrLwrDatjHcvm4sv3Acy2vryjHrvlG2dXxfeArD83R1XXlmXcf2dXTjRzh+ygAAgAEHAIAAE8pAoSErAoA4AQCPJImiZFmiKFmWKIqm6LqiaLqupGmmqWmeaVqaZ5qmaaqyKZquLGmaaVqeZpqap5mmaJqua5qmrIqmKcumasqyaZqy7LqybbuubNuiacqyaZqybJqmLLuyq9uu7Oq6pFmmqXmeaWqeZ5qmasqyaZquq3meanqeaKqeKKqqaqqqraqqLFueZ5qa6KmmJ4qqaqqmrZqqKsumqtqyaaq2bKqqbbuq7Pqybeu6aaqybaqmLZuqatuu7OqyLNu6L2maaWqeZ5qa55mmaZqybJqqK1uep5qeKKqq5ommaqqqLJumqsqW55mqJ4qq6omea5qqKsumatqqaZq2bKqqLZumKsuubfu+68qybqqqbJuqauumasqybMu+78qq7oqmKcumqtqyaaqyLduy78uyrPuiacqyaaqybaqqLsuybRuzbPu6aJqybaqmLZuqKtuyLfu6LNu678qub6uqrOuyLfu67vqucOu6MLyybPuqrPq6K9u6b+sy2/Z9RNOUZVM1bdtUVVl2Zdn2Zdv2fdE0bVtVVVs2TdW2ZVn2fVm2bWE0Tdk2VVXWTdW0bVmWbWG2ZeF2Zdm3ZVv2ddeVdV/XfePXZd3murLty7Kt+6qr+rbu+8Jw667wCgAAGHAAAAgwoQwUGrISAIgCAACMYYwxCI1SzjkHoVHKOecgZM5BCCGVzDkIIZSSOQehlJQy5yCUklIIoZSUWgshlJRSawUAABQ4AAAE2KApsThAoSErAYBUAACD41iW55miatqyY0meJ4qqqaq27UiW54miaaqqbVueJ4qmqaqu6+ua54miaaqq6+q6aJqmqaqu67q6Lpqiqaqq67qyrpumqqquK7uy7Oumqqqq68quLPvCqrquK8uybevCsKqu68qybNu2b9y6ruu+7/vCka3rui78wjEMRwEA4AkOAEAFNqyOcFI0FlhoyEoAIAMAgDAGIYMQQgYhhJBSSiGllBIAADDgAAAQYEIZKDRkRQAQJwAAGEMppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkgppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkqppJRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoplVJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSCgCQinAAkHowoQwUGrISAEgFAACMUUopxpyDEDHmGGPQSSgpYsw5xhyUklLlHIQQUmktt8o5CCGk1FJtmXNSWosx5hgz56SkFFvNOYdSUoux5ppr7qS0VmuuNedaWqs115xzzbm0FmuuOdecc8sx15xzzjnnGHPOOeecc84FAOA0OACAHtiwOsJJ0VhgoSErAYBUAAACGaUYc8456BBSjDnnHIQQIoUYc845CCFUjDnnHHQQQqgYc8w5CCGEkDnnHIQQQgghcw466CCEEEIHHYQQQgihlM5BCCGEEEooIYQQQgghhBA6CCGEEEIIIYQQQgghhFJKCCGEEEIJoZRQAABggQMAQIANqyOcFI0FFhqyEgAAAgCAHJagUs6EQY5Bjw1BylEzDUJMOdGZYk5qMxVTkDkQnXQSGWpB2V4yCwAAgCAAIMAEEBggKPhCCIgxAABBiMwQCYVVsMCgDBoc5gHAA0SERACQmKBIu7iALgNc0MVdB0IIQhCCWBxAAQk4OOGGJ97whBucoFNU6iAAAAAAAAwA4AEA4KAAIiKaq7C4wMjQ2ODo8AgAAAAAABYA+AAAOD6AiIjmKiwuMDI0Njg6PAIAAAAAAAAAAICAgAAAAAAAQAAAAICAT2dnUwAE7AwAAAAAAAD/QwAAAgAAADuydfsFAQEBAQEACg4ODg==":"data:audio/mpeg;base64,//MUxAAB6AXgAAAAAPP+c6nf//yi/6f3//MUxAMAAAIAAAjEcH//0fTX6C9Lf//0//MUxA4BeAIAAAAAAKX2/6zv//+IlR4f//MUxBMCMAH8AAAAABYWalVMQU1FMy45//MUxBUB0AH0AAAAADkuM1VVVVVVVVVV//MUxBgBUATowAAAAFVVVVVVVVVVVVVV";r.autoplay=!0,r.volume=0,e(r).on("play",function(){n=!0,a()}),r.src=o}catch(e){n=!1,a()}setTimeout(function(){null===n&&(n=!1,a())},1e3),t.audioAutoplay={canAutoplay:n,onReady:function(e){null===n?i.push(e):e()}}}(jQuery,app),!function(g,m){"use strict";var e=250;function f(e,t,n){return e.replace("{rsconf}",t).replace("{library}",n).replace("/#","")}function y(){var e=new URI(this.href),e=(e.pathname()===window.location.pathname&&(e=this.attributes.rsconf&&this.attributes.lib?f(t(),this.attributes.rsconf.value,this.attributes.lib.value):(e=new URI("/"+m.getUILanguage()+"/wol/sysl/"+m.getRsConfigSymbol()+"/"+m.getLibrarySymbol())).addQuery("url",t())),function(e){var t,n=e;!m.highlightManager.hasHighlight()||null==(t=m.highlightManager.getFirstHighlightedIdNumber())||isNaN(t)||(n=e.replace("{no}",t));return n}(decodeURIComponent(e.toString())));return e&&m.loadPage(e),!1}function t(){var e="",t="",n=m.getRsConfigSymbol()+"/"+m.getLibrarySymbol(),i=m.getContentRsConfigSymbol()+"/"+m.getContentLibrarySymbol();switch(m.getCommand()){case"d":case"dsync":case"sydp":e="sydp",t=m.getDID()+"/{no}";break;case"dt":case"dtsync":case"sydt":e="sydt",t=m.getTodayDate();break;case"meetings":case"msync":case"sym":e="sym",t=m.getTodayWeek();break;case"b":case"bsync":case"sybv":e="sybv",t=m.getBookNumber()+"/"+m.getChapterNumber()+"/{no}"}return e?(n=[m.getUILanguage(),"wol",e,n],"sybv"===e&&n.push(m.getSourcePreferredBible()),n.push("{rsconf}/{library}",i,t),"/"+n.join("/")):""}function v(){var e=g(".convenienceCharsMenu li");0<e.length&&(e.on("click",function(){var e,t=g(this).text();t=t,(e=w().find(".searchField")).val(e.val()+t),i(),n()}),g(".convenienceCharsButton").on("click",function(){return a(),!1}))}function i(){w().find(".convenienceCharsFrame").fadeOut(e),g(document).off("click.convenienceCharsFrame")}function a(){var e,t,n;w().find(".convenienceCharsFrame").is(":visible")?i():(e=w().find(".convenienceCharsFrame"),t=w().find(".searchFieldContainer"),n=t[0].getBoundingClientRect(),e.css({width:t.outerWidth(),left:n.left,top:n.top+t.height()}),e.removeClass("hidden").show(),g(document).one("click.convenienceCharsFrame",function(){a()}))}function b(){var e=!1,t=w().find(".searchField");t.on("keydown",function(){e||(t.removeAttr("title"),e=!0)})}function C(){var e=g("#standardSearch");e.find(".searchIcon").on("click",m.menu.toggleSearch),e.find(".closeIcon").on("click",m.menu.hideSearch),g("#regionMain, #publicationNavigation, #regionFooter").on("pointerdown pointerup click",function(){g(".searchControl").removeClass("searchFocused"),m.menu.hideSearch()}),g(".searchField").on("input propertychange change keydown",n),g(".searchFieldCancel").on("click",function(){g(".searchField").focus(),m.menu.clearSearch()}),n()}function w(){return g("#standardSearch")}function n(){g(".searchField").val().length?g(".searchFieldCancel").show():g(".searchFieldCancel").hide()}function S(){var e=g("#menuBible").removeClass("selected"),t=g("#menuToday").removeClass("selected"),n=g("#menuToolsPreferences").removeClass("selected"),i=g("#menuPublications").removeClass("selected"),a=g(".librarySelectionLink").removeClass("selected");switch(m.getCommand()){case"d":case"dsync":case"sim":(g("#documentInBible").val()?e:i).addClass("selected");break;case"lv":case"library":i.addClass("selected");break;case"b":case"bsync":case"binav":case"bibles":case"gallery":case"galleryitem":case"bibledocument":e.addClass("selected");break;case"dt":case"dtsync":case"meetings":case"msync":t.addClass("selected");break;case"pref":n.addClass("selected");break;case"li":a.addClass("selected");break;case"publication":(g("#isPublicationABible").val()?e:i).addClass("selected")}}m.menu={setupMenu:function(){var t,n,e,i,a,r,o,l,s,u,c,d,p=g("#menuSynchronize"),h=g("#linkSynchronizeSwitch");0<p.length&&(null==(i=function(){var e=m.net.convertSymbolToFromRb(m.getLibrarySymbol(),!1),t=m.net.convertSymbolToFromRb(m.getContentLibrarySymbol(),!1),n=m.net.convertSymbolToFromRb(m.storage.getCookie("lib")||"",!1),i=m.net.convertSymbolToFromRb(m.storage.getCookie("synclib")||"",!1),e=!(m.getRsConfigSymbol()===m.getContentRsConfigSymbol()&&e===t),i=m.getContentRsConfigSymbol()===m.storage.getCookie("syncrsconf")&&t===i,t=m.getContentRsConfigSymbol()===m.storage.getCookie("rsconf")&&t===n;if(e&&!t||!e&&i){if(m.validator.isValidRsconf(m.storage.getCookie("rsconf"))&&m.validator.isValidLib(m.storage.getCookie("lib"))&&m.validator.containsNoTags(m.storage.getCookie("lang"))&&m.validator.isValidLocale(m.storage.getCookie("locale")))return!0}else if((!e||t)&&m.validator.isValidRsconf(m.storage.getCookie("syncrsconf"))&&m.validator.isValidLib(m.storage.getCookie("synclib"))&&m.validator.containsNoTags(m.storage.getCookie("synclang"))&&m.validator.isValidLocale(m.storage.getCookie("synclocale")))return!1;return null}())?p.hide():(a=g("#menuSynchronizeSwitch"),r=g("#linkSynchronize"),i=!0===i?(t=m.storage.getCookie("rsconf"),n=m.storage.getCookie("lib"),m.storage.getCookie("locale"),e=m.normalizeText(decodeURI(m.storage.getCookie("lang")).replace("+"," ")),l=m.storage.getCookie("ckLang"),d=m.storage.getCookie("script"),m.storage.getCookie("dir")):(t=m.storage.getCookie("syncrsconf"),n=m.storage.getCookie("synclib"),m.storage.getCookie("synclocale"),e=m.normalizeText(decodeURI(m.storage.getCookie("synclang")).replace("+"," ")),l=m.storage.getCookie("synclangsym"),d=m.storage.getCookie("synclangscript"),m.storage.getCookie("syncdir")),r.addClass("ml-"+l).addClass("ms-"+d).addClass("dir-"+i).children(".label").html(e),0<a.length&&(a.removeClass("tbSync"),a.addClass("tbSyncSelect")),g.when().then(function(){var e=g.Deferred();return m.isFeatureEnabled("rb")?m.utilities.libraryHasRubyAsync(n,e.resolve):e.resolve(!1),e}).then(function(e){n=m.net.convertSymbolToFromRb(n,e),r.attr("href",f(r.attr("href"),t,n)).attr("rsconf",t).attr("lib",n).on("click",y),p.removeClass("hidden").show()}))),0<h.length&&h.on("click",y),g("#menuSynchronizeControls").removeClass("hidden"),g("a.todayNav").attr("href",m.url.makeDateDataUrl(new Date,0)),g(".todayNav a").not("#dailyText a").attr("href",m.url.makeDateDataUrl(new Date,0,!1,!0)),g(".searchForm").on("submit",function(){switch(document.activeElement.className){case"searchField":g(".searchForm #st").val(wolConstants.QUERY_SEARCH_TRIGGER_FieldSubmit);break;case"searchButton":g(".searchForm #st").val(wolConstants.QUERY_SEARCH_TRIGGER_ButtonSubmit)}if(!w().find(".searchField").val().length)return!1}),m.isLibraryRTL()&&(o=g(".searchField"),l=m.isIE()?"keydown":"input",o.on(l,function(e){var t=o.val(),n=e.target.selectionStart,i=new RegExp("([:,./-])(?!)","gm");o.val(t.replace(i,function(e){return n++,e+""})),e.target.setSelectionRange(n,n)})),!0!==/[A|a]ndroid 2/.test(navigator.userAgent)&&(s=m.getUILanguage(),u=m.getRsConfigSymbol(),c=m.getLibrarySymbol(),g(".searchControl").each(function(){var e=g(this).find(".searchField");m.typingSuggestionList.typingSuggestionList(function(e){return u&&c&&e?(e=m.search.sanitizeSearchQuery(e),sprintf("/wol/sg/%s/%s?q=%s",u,c,encodeURIComponent(e))):null},function(e){var t=m.search.sanitizeSearchQuery(e.query);switch(e.type){case 1:return sprintf("/%s/wol/bl/%s/%s?q=%s",s,u,c,encodeURIComponent(t));case 2:return sprintf("/%s/wol/pl/%s/%s?q=%s",s,u,c,encodeURIComponent(t));default:var n=sprintf("p=%s&r=%s",m.utilities.getSearchProximity(),m.utilities.getSearchRank());return sprintf("/%s/wol/s/%s/%s?q=%s&%s",s,u,c,encodeURIComponent(t),n)}},e,g(this).find(".suggestions"),{})})),C(),b(),v(),S(),m.storage.getCookie("prox")&&g("#proximitySelector").val(m.storage.getCookie("prox")),m.storage.getCookie("rank")&&g("#rankSelector").val(m.storage.getCookie("rank")),g("#menuSearchHitNext").on("click",function(){return m.text.navigateSearchHits(!0),!1}),"h"===m.getCommand()&&("#standardSearch"===(d=w()).selector||"#compactSearch"===d.selector&&d.hasClass("showField"))&&w().find(".searchField").trigger("focus")},toggleSearch:function(){var e=g("#standardSearch");e.toggleClass("searchFocused"),e.hasClass("searchFocused")&&e.find("input").trigger("focus")},hideSearch:function(){g("#standardSearch").removeClass("searchFocused")},clearSearch:function(){g(".searchField").val("").change()},setupConvenienceCharacters:v,repositionConvenienceChars:function(){var e,t,n=w().find(".convenienceCharsFrame");n.is(":visible")&&((e=w().find(".searchFieldContainer")).is(":visible")?(t=e[0].getBoundingClientRect(),n.css({width:e.outerWidth(),left:t.left,top:t.top+e.height()})):n.hide())},setupSearchEntry:C,setupSearchTooltip:b,getActiveSearchControl:w,markButtonByLocation:S,repositionSuggestionList:function(){var e,t,n=w().find(".suggestions");n.is(":visible")&&((e=w().find(".searchField")).is(":visible")?(t=e[0].getBoundingClientRect(),n.css({width:e.innerWidth(),left:t.left,top:t.top+e.height()})):n.hide())}}}(jQuery,app),!function(c,d){"use strict";var p;function h(e){var t=window.location.pathname+window.location.search,e=Object.keys(e);if(null!=e)return e.findIndex(function(e){return t===decodeURI(e.split("#")[0])||t===e.split("#")[0]})}d.togglePageNo=function(){c(".pageNum").toggle()},d.text={toggleQuestions:function(){var e=c("#questionContainer");e.toggle(),e.is(":visible")?c(".contentContainer").find(".qu").hide():(c(".contentContainer").find(".qu").show(),d.contentScrollHandler())},setupText:function(){function e(){c(".ellipsized:not(.ellipsizedFade)").filter(function(){return 0<c(this).find("ruby").length}).addClass("ellipsizedFade")}var t,n,i,a,r,o,l,s;function u(e){(s=e)<0?s=l-1:l<=s&&(s=Modernizr.sessionstorage?null!=(e=JSON.parse(sessionStorage.getItem("nav-scope-data")))&&0<Object.keys(e).length?null!=(t=h(e))&&-1!==t?((t=t+1)>=Object.keys(e).length&&(t=0),d.loadPage(Object.keys(e)[t]),r):0:0:0),r!==s&&(c("."+a).removeClass(a),o.eq(s).toggleClass(a).jumpTo(),r=s);var t,e=c.Event("markhighlighchanged");e.item=o.eq(s),c(document).trigger(e)}e(),(d.utilities.rubyAvailable()||0<document.getElementsByTagName("ruby").length)&&new MutationObserver(function(){e()}).observe(document,{childList:!0,subtree:!0}),Modernizr.sessionstorage&&null!=(n=JSON.parse(sessionStorage.getItem("nav-scope-data")))&&0<Object.keys(n).length&&null!=(t=h(n))&&-1!==t&&(n=n[Object.keys(n)[t]],i=c("[data-fnid]"),n.forEach(function(e){i.filter("[data-fnid="+e+"]").find("span").addClass("mk")})),d.layout.setupNextSearchHitButton(),0<c(".mk, .mkhl").length&&(a="mkhl",o=c("."+"mk"),l=o.length,s=null,"s"!==d.getCommand()&&u(null===s?0:s+1),p={jump:function(e){u(o.index(e))},prev:function(){u(s-1)},next:function(){u(null===s?0:s+1)}},c(document).on("keypress",function(e){c(".searchField").toArray().some(function(e){return e===document.activeElement})||(43===(e=e.keyCode||e.which)||59===e||61===e?p.next():45===e&&p.prev())}),c(".mk").on("click",function(){c(this).hasClass("mkhl")||p.jump(c(this))}))},navigateSearchHits:function(e){e?p.next():p.prev()}}}(jQuery,app),700),BoundaryWidthMedium=550,BoundaryWidthNarrow=400,FullWidthClass="contentFullWidth",LargeWidthClass="contentLargeWidth",MediumWidthClass="contentMediumWidth",NarrowWidthClass="contentNarrowWidth",app,app;!function(e){var t=e(window),n=e("#regionMain, #videoWrapper"),i=e(".articlePositioner");t.on("resize",function(){return i.width()>BoundaryWidthLarge?n.addClass(FullWidthClass).removeClass(LargeWidthClass).removeClass(MediumWidthClass).removeClass(NarrowWidthClass):i.width()>BoundaryWidthMedium&&i.width()<=BoundaryWidthLarge?n.addClass(LargeWidthClass).removeClass(FullWidthClass).removeClass(MediumWidthClass).removeClass(NarrowWidthClass):i.width()>BoundaryWidthNarrow&&i.width()<=BoundaryWidthMedium?n.addClass(MediumWidthClass).removeClass(FullWidthClass).removeClass(LargeWidthClass).removeClass(NarrowWidthClass):i.width()<=BoundaryWidthNarrow?n.addClass(NarrowWidthClass).removeClass(FullWidthClass).removeClass(LargeWidthClass).removeClass(MediumWidthClass):void 0}).trigger("resize")}(jQuery),!function(g,m){"use strict";var l,s={sn:["iasn","iasnm","snv"],snnw:["snnw","snv"],sjj:["sjjm","sjji","sjjc","pksjj"]},u={"r2:lp-u-ru":["bi12","yc","sn","snnw","sjj","mb"]},c={},r=[];function o(){return p().addQuery("langwritten",m.getContentLibraryLanguageSymbol()).addQuery("txtCMSLang",m.getContentLibraryLanguageSymbol()).addQuery("fileformat","mp3")}function d(e,t,n,i){e=p().addQuery("pub",e).addQuery("langwritten",t).addQuery("txtCMSLang",t).addQuery("fileformat","mp3");return n&&(e.addQuery("booknum",n),i&&e.addQuery("track",i)),e.toString()}function p(){return new URI(m.pubMediaServer())}function h(a){var e={},n=[],r=[],o=[];return g.isArray(a)?g.each(a,function(e,a){g.each(a.languages,function(e,t){-1===g.inArray(e,n)&&(n.push(e),r.push(t.name))}),g.each(n,function(n,i){g.each(a.files[i].MP3,function(e,t){-1===t.file.url.indexOf(".zip")&&(t={sym:i,name:r[n],title:t.title,url:t.file.url,duration:t.duration,markers:t.markers,pub:a.pub,pubName:a.pubName},o.push(t))})})}):(g.each(a.languages,function(e,t){n.push(e),r.push(t.name)}),g.each(n,function(n,i){g.each(a.files[i].MP3,function(e,t){-1===t.file.url.indexOf(".zip")&&(t={sym:i,name:r[n],title:t.title,url:t.file.url,duration:t.duration,markers:t.markers,pub:a.pub,pubName:a.pubName},o.push(t))})})),e.languages=n,e.tracks=o,e}function f(){m.hasAudio=!1,m.isFallbackAudio=!1,m.audioPlayerSetup=!1,m.audioPlayerVisible=!1,g("#audioPlayerSpeakerIcon").remove(),g(".hasAudioPlayer").removeClass("hasAudioPlayer"),g("#playerwrapper").empty().addClass("hidden"),m.contentScrollHandler(),m.layout.sideBarSizing(),g(document).trigger("scroll")}function y(){var e=m.parseBibleDocumentURL();v(d(m.getAudioPubSym(),m.getContentLibraryLanguageSymbol(),e.book,e.chapter))}function v(i){if(-1!==g.inArray(i,r))return f(),void T();x(i)&&m.web.ajax(i,{dataType:"json",cache:!0}).done(function(e,t,n){m.hasAudio=!0,S(h(e))}).fail(function(e,t,n){r.push(i),f()}).always(T)}function b(){var n,i,a=[],e=m.getPubSym(),e=e in s?(i=m.getChapterNumber(),g.each(s[e],function(e,t){n=o().addQuery("pub",t).addQuery("track",i).toString(),a.push(n)}),C(a)):C(n=o().addQuery("docid",m.getDID()).toString());g.settle(e).then(function(e){var e=e.filter(function(e){return!(e instanceof Error)});0<e.length?(m.hasAudio=!0,S(h(e)),T()):-1===g.inArray(m.getAudioPubSym(),["nwt","nwtsty","bi12","bi7","Rbi8"])?g.when(x(e=function(){var e=p().addQuery("pub",m.getAudioPubSym()).addQuery("langwritten",m.getContentLibraryLanguageSymbol()).addQuery("txtCMSLang",m.getContentLibraryLanguageSymbol()).addQuery("fileformat","mp3");return""!==m.getIssue()&&("iasn"===m.getAudioPubSym()||"sjjm"===m.getAudioPubSym()?e.addQuery("track",m.getIssue()):e.addQuery("issue",m.getIssue())),e.toString()}())?m.web.ajax(e,{dataType:"json",cache:!0}):g.Deferred().reject("Invalid URL")).done(function(e){m.hasAudio=!0,m.isFallbackAudio=!0,S(h(e)),T()}).fail(function(){f()}):f()})}function C(e){var n=[];if(g.isArray(e))g.each(e,function(e,t){x(t)&&n.push(i(t))});else if("string"==typeof e){if(!x(e))return[];n.push(i(e))}return n}function i(e){return m.web.ajax(e,{dataType:"json",cache:!0})}function w(){var e=g("#playerwrapper");e.is(":visible")||(e.removeClass("hidden"),e.hasClass("headerPosition")&&(g(".bible").addClass("hasAudioPlayer"),g(".publication").addClass("hasAudioPlayer"),g("#secondaryNavContent").addClass("hasAudioPlayer"),g(".documentSynchronizeInformation").addClass("hasAudioPlayer"),g("#toolbarFrame").addClass("hasAudioPlayer"),g("#toolbarSearch").addClass("hasAudioPlayer"),g("#regionMain").addClass("hasAudioPlayer"),m.contentScrollHandler(),m.layout.sideBarSizing(),e.trigger("resize"),g(document).trigger("scroll"),g(window).trigger("resize"))),g("#audioPlayerSpeakerIcon").addClass("audioPlayerVisible").attr("disabled",!0),m.layout.toggleNavigation()}function S(i){var e,t,n;i&&0!==i.tracks.length&&(e=i.tracks[0].url,n=m.storage.getCookie("audioLanguage"),n=g.inArray(n,i.languages),m.playlist=i,k(m.getAudioPubSym(),""),m.media.lastSelector=null,-1===n?(i.tracks[0].sym,i.tracks[0].name):(e=i.tracks[n].url,i.tracks[n].sym,i.tracks[n].name),g("#playerwrapper").empty().addClass("lang-"+m.getContentUILanguage()).append(g('<div id="mePlayerHolder" />').append(g("<audio/>").attr("id","wolplayer").attr("preload","none").attr("src",e).css("width","100%").css("height","100%")))),t=function(e){window.mejs=window.mejs||{},mejs.i18n=mejs.i18n||{},mejs.i18n.locale=mejs.i18n.locale||{},mejs.i18n.locale.strings=mejs.i18n.locale.strings||[];var t,n=m.getUILanguage();mejs.i18n.locale.language=n,mejs.i18n.locale.strings[n]=e,t=i,m.web.cachedScript("/assets/js/mediaelement-and-player.min.js").done(function(){var n;n=t,m.audioAutoplay.onReady(function(){var i,a,e,r,o,h,t;if(m.utilities.isPublicationNav()&&!document.getElementById("flavorSelector")&&(t=n,a=0,e=m.getPubSym(),(r=g("<div/>")).attr("id","flavorSelector"),o=t.tracks[0].pub,e in s&&(g.each(s[e],function(e,t){var n;c.hasOwnProperty(t)&&(n=_.unescape(c[t].tracks[0].pubName),o===t?(i=g('<div class="flavorOptions">'),g("<input/>",{type:"radio",name:"flavor",id:t,value:t,checked:"checked"}).appendTo(i)):(i=g('<div class="flavorOptions">'),g("<input/>",{type:"radio",name:"flavor",id:t,value:t}).appendTo(i)),g("<label/>",{for:t,html:n}).appendTo(i),i.appendTo(r),a++)}),1<a&&(r.insertBefore("#playerwrapper"),g('input[type="radio"][name="flavor"]').on("change",function(){S(c[this.value])})))),h=n,MediaElementPlayer.prototype.buildplaylist=function(r,e,t,o){var n,l,i=this.options,a=!1,s=!0,u=g("<button/>").attr("aria-controls",this.id).singleclickortap(function(){p(!a)}),c=g("<div/>").addClass("mejs-button").addClass("mejs-playlistdisclosure-button").append(u),d=[];function p(e){var t;(a=e)?(l.show().height(n.outerHeight(!0)).css("max-height",(e=g(r.node).parent()[0].getBoundingClientRect().bottom,t=Math.min(g("#regionFooter")[0].getBoundingClientRect().top,g(window).height()),Math.floor(t-e))),u.attr("aria-label",mejs.i18n.t("Close Playlist")).attr("label",mejs.i18n.t("Close Playlist"))):(l.hide(),u.attr("aria-label",mejs.i18n.t("Open Playlist")).attr("label",mejs.i18n.t("Open Playlist")))}1<h.tracks.length&&h.tracks[0].pub===h.tracks[1].pub&&(s=!1),g.each(h.tracks,function(e,t){var n,i=g('<li class="mediaTitle"/>'),a=g("<a/>");s&&((n=g("<p>")).html(t.pubName),n.appendTo(i)),a.html(t.title),a.data(this),a.on("click",function(e,t){A(!0),p(!1),l.find("li").removeClass("playing");var t=g(t.target),t=(t.closest("li").addClass("playing"),t.data()),n=t.url;n=n.split(":")[1],o.addEventListener("canplay",function e(){r.play(),o.removeEventListener("canplay",e)},!1),m.getDID()&&e.markers&&parseInt(m.getDID(),10)===e.markers.documentId&&k(e.pub,e.title);r.setSrc(n),r.load();try{setTimeout(function(){r.play()})}catch(e){}m.storage.setCookie("audioLanguage",t.sym),m.storage.setCookie("audioLanguageName",t.name),m.jumpHighlight.jumpToElement(function(e){e=e.match(/\d{3}/);return e=parseInt(e,10),g("[data-no="+e+"]")}(e.title))}.bind(this,t)),a.appendTo(i),d.push(i),1<h.languages.length&&((n=g('<li class="mediaLanguage"/>')).html(t.name),d.push(n))}),1<d.length||1==d.length&&m.isFallbackAudio?(n=g("<ul/>").append(d),l=g("<div/>").attr("id","playerplaylist").append(n).insertAfter("#mePlayerHolder"),p(a),e.append(c),i.hasPlaylist=!0):i.hasPlaylist=!1,o.addEventListener("play",function(){l&&0===l.find(".playing").length&&l.find("li").first().addClass("playing")},!1)},MediaElementPlayer.prototype.buildcontinuousplay=function(e,t,n,i){var a=this.options,r=g("<button/>").attr("aria-controls",this.id).singleclickortap(function(){var e="continuousPlay"+(m.utilities.audioContinuousPlayEnabled()?"Off":"On"),t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),i.dispatchEvent(t)}),o=g("<div/>").addClass("mejs-button").addClass("mejs-continuousplay-button").append(r);function l(e){e?(o.removeClass("mejs-singleplay").addClass("mejs-continuousplay"),r.attr("aria-label",mejs.i18n.t("Disable Continuous Play")).attr("label",mejs.i18n.t("Disable Continuous Play")),m.enableFeature("audioContinuousPlay")):(o.removeClass("mejs-continuousplay").addClass("mejs-singleplay"),r.attr("aria-label",mejs.i18n.t("Enable Continuous Play")).attr("label",mejs.i18n.t("Enable Continuous Play")),m.disableFeature("audioContinuousPlay"))}(1===h.tracks.length&&m.audioAutoplay.canAutoplay||1<h.tracks.length)&&(0<g(".enableAutoAdvance").length||m.utilities.isBibleNav()||m.utilities.isPublicationNav())&&(l(m.utilities.audioContinuousPlayEnabled),t.append(o)),i.addEventListener("continuousPlayOn",function(){m.utilities.audioContinuousPlayEnabled=!0,l(m.utilities.audioContinuousPlayEnabled)},!1),i.addEventListener("continuousPlayOff",function(){m.utilities.audioContinuousPlayEnabled=!1,l(m.utilities.audioContinuousPlayEnabled)},!1),i.addEventListener("ended",function(){var e;m.utilities.audioContinuousPlayEnabled&&(a.hasPlaylist?setTimeout(function(){g("#playerplaylist").find(".playing").removeClass("playing").next().find("a").trigger("click")}):m.audioAutoplay.canAutoplay&&(e=g(".resultNavRight.enableAutoAdvance a").attr("href"))&&(e=new URI(e).addQuery("autoplay","yes"),m.loadPage(e.toString())))},!1)},(l=g("#wolplayer").mediaelementplayer({audioWidth:"100%",audioHeight:"100%",features:["playlist","playpause","progress","duration","continuousplay"],alwaysShowControls:!0})[0]).addEventListener("playing",function(){m.media.isPlayerPlaying=!0}),l.addEventListener("pause",function(){m.media.isPlayerPlaying=!1}),(1<n.tracks.length&&!m.utilities.isBibleNav()||m.isFallbackAudio)&&A(!1),m.mediaMarker.initAudioMarkers(),"yes"===URI().query(!0).autoplay)return l.autoplay=!0,l.addEventListener("canplay",function(e){w()}),(t=document.createEvent("HTMLEvents")).initEvent("continuousPlayOn",!0,!0),l.player.media.dispatchEvent(t);(m.audioPlayerVisible||m.utilities.isBibleNav()||m.utilities.isPublicationNav())&&w(),m.audioPlayerSetup=!0})}).fail(function(){f()})},n=new URI("").path("/wol/ls").addQuery("locale",m.getUILanguage()).addQuery("type","mediaelementPlayer"),m.web.getJSON(n.toString()).done(function(e){e.strings?t(e.strings):t(null)}).fail(function(){f()})}function k(t,n){var e=m.playlist,i=e.tracks.filter(function(e){return e.pub===t&&e.title===n});0<i.length?(m.audioMarkers=null!==i[0].markers,m.audioMarkerData=i[0].markers):1===e.tracks.length&&(m.audioMarkers=null!==e.tracks[0].markers,m.audioMarkerData=e.tracks[0].markers)}function A(e){g(".mejs-playpause-button button")[0].disabled=!e}function x(e){var t=g("#pubMediaServer");return null!=e&&-1===e.indexOf("undefined")&&0!==t.length&&0!==t[0].value.length}function T(){m.hasAudio&&g.each(g(".resultsNavigationSelected.documentLocation"),function(){g("<button/>").attr("id","audioPlayerSpeakerIcon").addClass("hasAudio").on("click",function(){w()}).append('<span class="icon"/>').appendTo(this)})}m.media={audioNavigationSetup:function(){if(function(){var e=m.getContentRsConfigSymbol()+":"+m.getContentLibrarySymbol(),t=m.getPubSym();if(e in u)if(-1===u[e].indexOf(t))return;return 1}()&&!1===m.audioPlayerSetup)try{var e;if(new Audio&&Modernizr.audio){if(m.isBibleDocument())y();else if(m.utilities.isBibleNav()&&g("#enableAudioPlayer").val()){var t=m.parseBibleDocumentURL();t.book&&v(d(m.getAudioPubSym(),m.getContentLibraryLanguageSymbol(),t.book))}else if(m.isDocument())b();else if(m.utilities.isPublicationNav()&&g("#enableAudioPlayer").val()){e=m.getAudioPubSym();if(0<Object.keys(c).length&&c.hasOwnProperty(e))S(c[e]);else{var n,i=[],a=m.getPubSym(),r=m.getAudioPubSym(),a=a in s?(g.each(s[a],function(e,t){n=d(t,m.getContentLibraryLanguageSymbol()),i.push(n)}),C(i)):C(n=d(r,m.getContentLibraryLanguageSymbol()));g.settle(a).then(function(e){var t,e=e.filter(function(e){return!(e instanceof Error)});1<e.length&&(t=e.filter(function(e){return e.pub===r}),g.each(e,function(e,t){t=h(t),c[t.tracks[0].pub]=t})),1===e.length&&(t=e),T(),t?S(h(t)):f()})}}var o=URI().fragment(),l=!1;(l=-1<o.indexOf("audio:")?!0:l)&&!m.audioPlayerVisible&&m.isBibleDocument()&&y()}}catch(e){}},showAudioPlayer:w,isPlayerPlaying:!1,initMedia:function(){"b"!==m.getCommand()&&"sybv"!==m.getCommand()&&"bsync"!==m.getCommand()||g.each(g(".altPub"),function(){var e,i,a=g(this),t=a.attr("data-audio-pub"),n=a.attr("data-lang");-1===g.inArray(t,["bi22","bi10","by","int","rh"])&&(e=m.parseBibleDocumentURL(),i=d(t,n,e.book,e.chapter),-1===g.inArray(i,r)&&x(i)&&m.web.ajax(i,{dataType:"json",cache:!0}).done(function(e,t,n){var i=g('<a href="'+a.attr("href")+'#audio:show" class="hasAudio"><span class="icon"> </span></a>');a.after(i)}).fail(function(e,t,n){r.push(i)}))})},removeAudioSetup:f,lastSelector:null,prepareGalleryCaptionAudio:function(){var t=g(".playPauseBtn"),e=g(".gallerySelectedItem"),n=e.data("docid");0<e.length&&null!=n&&-1!==n&&i(o().addQuery("docid",n).toString()).then(function(e){e=h(e);g("#galleryPlayer").attr("src",e.tracks[0].url).on("loadedmetadata",function(){g("#galleryPlayer").get(0).paused?t.removeClass("pauseBtn").addClass("playBtn"):t.removeClass("playBtn").addClass("pauseBtn")}),t.hasClass("hidden")&&t.removeClass("hidden").on("click",m.gallery.handlePlayPauseButton)}).fail(function(){t.removeClass("playBtn").removeClass("pauseBtn").addClass("hidden").off("click",m.gallery.handlePlayPauseButton)})}}}(jQuery,app),!function(a,i){"use strict";var r,o,l,s,e="*[tabindex], *[contenteditable], a[href], area[href], button:not([disabled]), embed, iframe, input:not([disabled]), object, select:not([disabled]), textarea:not([disabled])";function u(){return o.find("*").filter(e).filter(":visible")}function c(e,t,n){l=t||!1,s=n||!1,d(),r=a(":focus"),(t=a("#modalUnderlayContainer")).fadeIn(100),a("#wrapper").attr("aria-hidden",!0),s?t.on("click",d):t.off("click"),t.on("focus.underlay",function(){u().first().focus()}),(o=e).first().addClass("modalDialog").attr("role","dialog").removeClass("hidden"),l&&a("#dialogContainer").append(o),o.on("keydown.accessbility",p);n=o.find("[autofocus]");(0<n.length?n:u().first()).focus()}function d(){var e;o&&!l&&o.addClass("hidden"),a("#dialogContainer").children().remove(),"function"==typeof i.modal.form.destroy&&i.modal.form.destroy(),i.modal.form={},o&&o.off(".accessbility"),(e=a("#modalUnderlayContainer")).fadeOut(100),a("#wrapper").attr("aria-hidden",!1),e.off(".underlay"),r&&(r.focus(),r=void 0)}function p(e){switch(e.which){case 9:var t=u(),n=a(":focus"),i=t.length,n=t.index(n);if(e.shiftKey){if(0===n)return t.get(i-1).focus(),!1}else if(n===i-1)return t.get(0).focus(),!1;break;case 27:return s&&d(),!1}}i.modal={form:{},setupModals:function(){window.addEventListener("beforeunload",function(){d()})},showForm:c,showModal:function(e,t,n){t=!t,n=n||!1,(e=new URI(e)).setQuery("locale",i.getUILanguage()),(t?i.web.ajax(e.toString()):a.ajax(e.toString()).fail(function(){window.location.reload()})).done(function(e){c(a(e),!0,n)})},removeModals:d}}(jQuery,app),!function(h,g){"use strict";var d=null,m="#secondaryNavContent",f="#study",n=!1,t=!1;function y(){var e=h(".articlePositioner");return!!e&&e.outerWidth()>=h(window).width()}function v(){h("#secondaryNavContent").off("scroll.disableBodyScrolling")}function b(){var i=null;h("#secondaryNavContent").on("scroll.disableBodyScrolling",function(e){var t=h("#secondaryNavContent"),n=(t.stop(!0,!1),t.scrollTop()),t=h("#secondaryNav").height()-t.height()-t.scrollTop();return null===(i=0===n?t-1:i)&&(i=n+t-1),!1})}function a(e){var t=h("#secondaryNavContent"),n=h("#regionHeader"),i=h("#regionMain"),a=h("#regionFooter"),r=window.innerHeight||document.documentElement.clientHeight||h(window).height(),i=i.height(),o=i;return 0<t.length&&(o=r-n.outerHeight()-l(a)),i&&(o=i<o?i:o),"left"===e&&(o-=parseFloat(t.css("margin-bottom"))+parseFloat(t.css("padding-bottom"))),o<0?r:o}function l(e){var e=(e=h(e))[0].getBoundingClientRect(),t=h(window).scrollTop(),n=t+h("#regionHeader").height(),i=parseInt(h("#regionMain.hasVideoPlayer .articlePositioner").css("margin-top"),10),i=(i&&(n=Math.max(n,t+i)),t+(window.innerHeight||document.documentElement.clientHeight||h(window).height())),a=t+e.top,t=t+e.bottom;return t<n||i<a?0:(e=Math.max(a,n),Math.min(t,i)-e)}function C(e){var t,n=h("#secondaryNavContent"),i=h("#study, #studyWrapper");l(h("#regionFooter"));D(),null!=e&&"left"!==e||(t=a("left"),n.height(t)),null!=e&&"right"!==e||(t=a("right"),n=i.find(".navigationContents").find(".studyPane"),e=t-h(".navigationTabsContainer").outerHeight()-parseFloat(h(".studyPane").css("margin-top")),y()?i.height(t):i.height(h("#content").height()),n.height(e)),r(),D()}function w(e,t,n){var i,a,r,o,l,s,u=h("#regionMain, #videoWrapper"),c=h(".studyPaneToggle"),d=h(".secondaryNavToggle"),p=y(),d="right"===e?(i=f,a="left",r=c,o=d,l="showStudy",s="showSecondaryNav",!!h(".hasStudyPane").length):(i=m,a="right",r=d,o=c,l="showSecondaryNav",s="showStudy",!!h(".hasSecondaryNav").length);null==t&&(t=0<h("."+l).length),d&&t?(u.removeClass(s),o.removeClass("expanded"),u.addClass(l),r.addClass("expanded")):(p||u.removeClass(l),r.removeClass("expanded")),p?t?(w(a,!1,!0),function(e){e=h("#regionMain").find(e);if(0<e.length)return function(){var e=h("#underlayContainer");e.on("pointerdown",function(){k(!1)}),e.fadeIn(100),h("body").addClass("slideInUnderlay noscroll")}(),e.addClass("slideIn"),1}(i)&&b()):(k(n),v()):this&&this.recurseing||!d||w.bind({recurseing:!0})(a,!t),t&&(h(".activePane").removeClass("activePane"),h(i).addClass("activePane")),C(e),S(),g.documentMenu.positionMenu(),g.url.matchUrlToStudyPane()}function r(){var e=document.getElementById("secondaryNavContent");!e||0<(e=e.clientWidth)&&h("#secondaryNav, #secondaryNav .navigationContents").css("width",e+"px")}function i(){var e=h("#underlayContainer");e.fadeOut(100),e.off("pointerdown",i),h("body.slideInUnderlay").removeClass("slideInUnderlay noscroll")}function S(){var e=0<h(m).closest(".slideIn").length,t=0<h(f).closest(".slideIn").length,n=y(),i=(n||(e=e||0<h(".showSecondaryNav").length,t=t||0<h(".showStudy").length),h(".secondaryNavToggle")),a=h(".studyPaneToggle");e?i.addClass("expanded"):i.removeClass("expanded"),t?a.addClass("expanded"):a.removeClass("expanded"),n||k(!1)}function k(e){e||i();e=h("#regionMain");e.find(m).removeClass("slideIn"),e.find(f).removeClass("slideIn"),y()&&(h(".studyPaneToggle").removeClass("expanded"),h(".secondaryNavToggle").removeClass("expanded")),g.url.matchUrlToStudyPane(),g.documentMenu.positionMenu()}function p(e){for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t])return!0;return!1}function o(e){var t,n,i,a,r,o,l,s,u,c;0!==e.length&&(null!==d&&window.clearTimeout(d),t=h(".scrollPositionDisplay"),s="",2===(n=(e=e.toString()).split(":")).length&&(i=n[0].split("-"),a=n[1].split("-")),r=e.split("-"),o=e.split("-"),p(s=g.utilities.getScrollPositionFormatStrings())&&(g.isBibleBookDocument()?2===n.length&&(n[0]===n[1]?t.html(s.bibleDocumentNavigationChapterVerseFormat.replaceToken(wolConstants.TOKENS_BibleChapter,i[0]).replaceToken(wolConstants.TOKENS_BibleVerse,i[1])):i[0]===a[0]?0!==s.bibleDocumentNavigationSingleChapterManyVerseFormat.length?t.html(s.bibleDocumentNavigationSingleChapterManyVerseFormat.replaceToken(wolConstants.TOKENS_StartingBibleVerse,i[1]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,a[1])):t.html(s.bibleDocumentNavigationChapterManyVerseFormat.replaceToken(wolConstants.TOKENS_BibleChapter,i[0]).replaceToken(wolConstants.TOKENS_StartingBibleVerse,i[1]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,a[1])):t.html(s.bibleDocumentNavigationChapterVerseRangeFormat.replaceToken(wolConstants.TOKENS_StartingBibleChapter,i[0]).replaceToken(wolConstants.TOKENS_EndingBibleChapter,a[0]).replaceToken(wolConstants.TOKENS_StartingBibleVerse,i[1]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,a[1]))):g.isBibleDocument()?1===r.length||2===r.length&&r[0]===r[1]?(l=""===s.bibleDocumentNavigationChapterVerseFormat?s.bibleDocumentNavigationSingleChapterSingleVerseFormat:s.bibleDocumentNavigationChapterVerseFormat,t.html(l.replaceToken(wolConstants.TOKENS_BibleVerse,r[0]))):(l=""===s.bibleDocumentNavigationChapterManyVerseFormat?s.bibleDocumentNavigationSingleChapterManyVerseFormat:s.bibleDocumentNavigationChapterManyVerseFormat,t.html(l.replaceToken(wolConstants.TOKENS_StartingBibleVerse,r[0]).replaceToken(wolConstants.TOKENS_EndingBibleVerse,r[1]))):1===o.length?t.html(s.documentNavigationSinglePagePositionFormat.replaceToken(wolConstants.TOKENS_PageNumber,o[0])):t.html(s.documentNavigationMultiplePagesPositionFormat.replaceToken(wolConstants.TOKENS_StartingPageNumber,o[0]).replaceToken(wolConstants.TOKENS_EndingPageNumber,o[1]))),""===e&&""!==(e=g.getDocumentDescriptionSubstitute())&&t.html(e),u=h(".navPosition"),c=h(".resultNavControls, .studyPaneToggle, .secondaryNavToggle, .pubNavTitle"),null==t.data("lastShowOffset")&&t.data("lastShowOffset",window.pageYOffset),null==d&&u.is(":visible")||t.data("lastShowOffset")===window.pageYOffset||(void 0===e?(t.html(""),u.hide()):""!==e&&(u.hasClass("hidden")&&u.hide().removeClass("hidden"),Modernizr.opacity?u.fadeIn(100):u.show(),y()&&(c.hide(),d=window.setTimeout(function(){Modernizr.opacity?u.fadeOut(500,function(){c.css("display",""),u.css("display",""),d=null,t.data("lastShowOffset",window.pageYOffset)}):(c.css("display",""),u.css("display",""),d=null,t.data("lastShowOffset",window.pageYOffset))},2e3)))))}function A(e,t,n){e=g.localizeNumber(e),n=g.localizeNumber(n);var i=e;void 0!==i&&(e!==n&&(i+="-"+n),o(i))}function x(){o("")}function s(e,t,n){var i=h(".article").offset().top,a=h(window).scrollTop()+i,r=a+h(window).height()-i,i=function(e,t,n){for(var i=0,a=e.length;i<a;){var r=i+a>>>1;n(e[r])<t?i=1+r:a=r}return i}(e,a,n),o=(t&&0<i&&i--,[]);if(i<e.length){o.push(i);for(var l=i+1;l<e.length&&!(r<=n(e[l]));l++)o.push(l)}return o}u=h("span[id^=v]");var u,c=function(){var e=s(u,!1,function(e){return h(e).offset().top});if(e.length)return{first:T(u[e[0]].id),last:1<e.length?T(u[e[e.length-1]].id):void 0}};function T(e){return e=(g.utilities.isContentLibraryHTML5()?/v\d+-(\d+)-(\d+)/:/dcv_(\d+)_(\d+)/).exec(e),{chapter:Number(e[1]),verse:Number(e[2])}}E=h("[id^=page]");var E,P=function(){var e,t=s(E,!0,function(e){return I(h(e))});if(t.length)return e=t.map(function(e){return E[e]}).sort(function(e,t){return e=parseInt(e.attributes["data-no"].value,10),t=parseInt(t.attributes["data-no"].value,10),e<t?-1:t<e?1:0}),{first:L(e[0]),last:1<t.length?L(e[e.length-1]):void 0}};function I(e){for(var t=e,n=!t.is(":visible");n;)n=(t=t.parent()).length&&!t.is(":visible");return t&&0<t.length?t.offset().top:0}function L(e){var e=h(e),t=Number(e.data("no"));return{top:I(e),pageNum:t,displayText:e.data("beforeText")}}_=h("p[data-pid]");var _,O=function(){var e=s(_,!0,function(e){return e=h(e),(t=(t=e).is(":visible")||(t=t.next()).offset()||(t=e.prev()).offset()?t:e.parent()).offset().top-h(".content").offset().top;var t});if(e.length)return e};function e(){var e,t,n,i=c();i?(t=i.first,i=i.last||t,g.isBibleDocument()?A(t.verse,t.verse,i.verse,i.verse):g.isBibleBookDocument()&&(e=t.verse,t=t.chapter,n=i.verse,i=i.chapter,e=g.localizeNumber(e),t=g.localizeNumber(t),n=g.localizeNumber(n),o(t+"-"+e+":"+(i=g.localizeNumber(i))+"-"+n))):x()}function R(){var e=P(),t=(e?(t=e.first,e=e.last||t,A(t.pageNum,t.displayText,e.pageNum,e.displayText)):x(),O());if(t){for(var n=t,i=[],a=0;a<n.length;a++){var r='p[data-pid="'+n[a]+'"]',o=h(r).data("relPid");if(o)for(var l=0;l<o.length;l++){var s=Number(o[l]);-1===h.inArray(s,i)&&i.push(s)}}var e=h("#questionContainer"),u=(e.width(h(".article").outerWidth(!0)),e.find("ul"));u.empty();for(var c=0;c<i.length;c++){var d='p[data-pid="'+i[c]+'"]',d=h(".contentContainer").find(d);u.append('<li><p class="qu">'+d.text()+"</p></li>")}}else h("#questionContainer").hide("slow"),h("#questionContainer").find("ul").empty()}function N(){g.isBibleDocument()||g.isBibleBookDocument()?e():g.isDocument()&&R()}function D(){var e=h("#toolbarFrame");"absolute"===e.css("position")&&e.css("margin-top",0),g.documentMenu.positionMenu()}g.pubsub=h(),g.setupTooltip=function(d){d.pointLink(function(e,a,t){var r=t.target;function i(){var e=h(".tooltip .tooltipVideo");(e=1<e.length?e.filter(":visible"):e).each(function(e,i){(i=h(i)).bind("videoResize",function(){var e,t,n;e=i.closest(".tooltip"),t=e.closest(".tooltipContainer"),n=t[0].getBoundingClientRect().top,e=e.height()+32,(e=h(window).height()-e)<n&&(e<0&&(e=0),e+=h(window).scrollTop(),t.css("top",e+"px"))}),g.video.setupTooltipPlayer(i.attr("id"),parseFloat(i.data("startTime")),parseFloat(i.data("duration")),0===e)})}function o(e){if(!c){var t,e=h(e),n="rtl"===d.closest("[dir]").attr("dir"),i=(u+=n?" dir-rtl":" dir-ltr",e.find('a[href*="footnotesource"],a[href*="endnotesource"]').remove(),e.wolTooltip(a.x,a.y,u,{rtl:n,complete:function(){g.highlightManager.enabled=!0,g.video.destroyPlayers()},target:r}),g.highlightManager.enabled=!1,e);switch(URI().segment(2)){case"dsync":case"bsync":case"dtsync":t=i.find("a")}t&&t.attr("target","_blank"),e.find("textarea, .tooltipContent input").prop("disabled",!0)}}var n,l=URI(e),s=l.fragment(),u="tooltip",c=!1;s?t._clickorhoverlink_FromTouch&&g.loadPage(l):(n=e.replace(/\/[\w-]+\/wol\//,"/wol/"),"rslink"===l.segment(1)&&(n+="&format=json"),t._clickorhoverlink_FromTouch||h(r).one("pointerout.tooltip",function(){c=!0}),s=250,t._clickorhoverlink_FromTouch&&(s=0),window.setTimeout(function(e){c||g.web.getJSON(n).done(function(e){(e=null==(e=e).items?{items:[e]}:e).tooltipContentErrorMessage=h("#tooltipContentErrorMessage").val(),e=Handlebars.templates.Tooltip(e);var n,e=g.transcribeUreLinks(e);e&&!c&&(o(e),(n=h(".tooltip .alternatePresentation .lightbox")).on("load",function(){var e=h(".tooltip .alternatePresentation .option"),t=(e.addClass("loaded"),g.images.setupLightboxItems(n));h(e).on("click",this,function(){return g.images.callLightbox(this,t),!1})}),i())}).fail(function(e){t._clickorhoverlink_FromTouch&&g.loadPage(l)})},s))},function(e){var e=URI(e),t=URI().host()===e.host(),n=e.segment(2),i=URI().directory()===e.directory();return""!==e.path()&&t&&!i&&"ml"!==n&&"mp"!==n&&"stringsreader"!==n})},g.calcMaxHeight=a,g.contentScrollHandler=N,g.layout={applyFontSize:function(){var e,t=g.fontSizeManager.getScale();t&&(e=document.getElementById("scalableui").sheet).insertRule(".scalableui{font-size:"+100*t+"%;}",e.cssRules.length),h(window).trigger("resize")},setupStudyPaneCollapse:function(){var n=h(".studyPaneToggle");n.on("click",function(){n.toggleClass("expanded");var e=n.hasClass("expanded"),t=e?"yes":"no";g.layout.toggleStudyPane(e),g.storage.setCookie("showStudy",t)})},toggleStudyPane:function(e){w("right",e)},toggleSecondaryNav:function(e){w("left",e)},toggleSidePane:w,toggleNavigation:function(){var e,t;!h("#secondaryNavContent").is(":visible")||n?(e=h("#secondaryNavContent"),t=e.prop("scrollHeight")>e.height(),e.is(":visible")&&t&&C("left")):k(!1)},applyStudyPaneCollapse:function(){var e="yes"===(e=null==(e=g.storage.getCookie("showStudy"))?"yes":e);y()||g.layout.toggleStudyPane(e)},setupSecondaryNavToggle:function(){var t=h(".secondaryNavToggle");t.on("click",function(){t.toggleClass("expanded");var e=t.hasClass("expanded");g.layout.toggleSecondaryNav(e)})},contentPositionAdjuster:D,toggleReferenceSymbols:function(){h("body").toggleClass("hideReferenceSymbols")},pixelsScrolledIntoView:l,setupSecondaryNav:function(){C("left")},setupSyncLinks:function(){var e;switch(g.getCommand()){case"dsync":e=h("#regionMain a, #resultNavigation a");break;case"bsync":e=h("#regionMain a, #documentNavigation .nav a");break;case"dtsync":e=h("#contentOnly a")}e&&e.attr("target","_blank")},displaySyncState:function(){switch(g.getCommand()){case"dsync":case"bsync":case"dtsync":h("#menuSynchronize").addClass("synchronizeBackgroundColor"),h("#menuSynchronizeSwitch").addClass("synchronizeBackgroundColor")}},setupScrollHandler:function(){var e;h(window).on("scroll",function(){N(),g.mediaMarker.autoScrollEnabled=!1}),h(window).on("scroll",function(){clearTimeout(e),e=setTimeout(function(){var e,t;g.documentMenu.positionMenu(),e=h("#secondaryNavContent"),t=h("#study"),(0<e.length||0<t.length||y())&&(e.is(":visible")||t.is(":visible"))&&C()},100)})},setupResizeHandler:function(){var e;h(window).on("resize orientationchange",function(){clearTimeout(e),e=setTimeout(function(){C(),g.menu.repositionConvenienceChars(),g.menu.repositionSuggestionList(),S()},100)}),h(window).on("beforeprint",function(){t=!0}),h(window).on("afterprint",function(){t=!1})},setupKeymapping:function(){h(document).on("keydown",function(e){118===e.keyCode&&g.menu.getActiveSearchControl().find(".searchField").trigger("focus")})},setupCSSAnimationHandler:function(){h("#secondaryNavContent").on("transitionend",function(e){r()}),h(".articlePositioner").on("transitionend",function(e){"margin-left"!=e.originalEvent.propertyName&&"margin"!=e.originalEvent.propertyName||g.documentMenu.positionMenu()})},setupNextSearchHitButton:function(){0<h(".mk, .mkhl").length&&h("#menuSearchHitNext").removeClass("hidden").show()},disableBodyScrolling:b,enableBodyScrolling:v,sideBarSizing:C,calcHeaderHeight:function(){var e=h("#regionHeader");return parseFloat(e.height())},setupLibraryColor:function(){var e=h("#userStatus"),t=e.data("libraryColor");null!=t&&""!==t&&e.css("background-color",t).addClass("private")},isFloatingMode:y,hasTokenizedString:p,isPrintingScreen:function(){return t},setupFootnotesAndEndnotes:function(){var e=h("#article.document");0<e.length&&e.find("a[data-fnid], a[data-enid]").on("click",function(e){e=h(e.currentTarget).data("pid")||e.currentTarget.id;return g.highlightManager.enabled&&g.highlightManager.toggleHighlight(e),!1})}}}(jQuery,app),!function(n,i){"use strict";function a(e){n(".active").removeClass("active");var t=n(e).data("relatedContent"),t=n("#"+t),e=n(e);t.addClass("active"),e.addClass("active"),i.url.matchUrlToStudyPane()}i.tabs={activateContent:a,wireTabs:function(e){e.each(function(e,t){n(t).on("click",function(){return a(this),!1})})}}}(jQuery,app),!function(l){app.scrollHandler={activateSubheadingTracking:function(){l("#subheadings a").each(function(e,t){var i,a,n,r;t=l(t.hash),i=l("#secondaryNavContent"),a=l("#regionHeader"),n=parseFloat(l("#regionMain").css("margin-top")),r=l(window).height(),t.waypoint(function(e){var t,n;l(".middleParagraph").removeClass("middleParagraph"),null!=(e="down"===e?this:this.previous())&&(e=l(e.element).data("pid"),l("[href$=p"+e+"]").parent().addClass("middleParagraph"),e=i.get(0).getBoundingClientRect(),t=(n=l(".middleParagraph").get(0).getBoundingClientRect()).top-a.height(),n=n.bottom-e.bottom,t<=0&&i.scrollTop(i.scrollTop()+t),0<n&&i.scrollTop(i.scrollTop()+n))},{offset:"50%",group:"midTop"}),t.waypoint(function(e){l("[href$=p"+l(this.element).data("pid")+"]").parent().toggleClass("visibleParagraph","down"===e)},{offset:function(){return r},group:"parDown"}),t.waypoint(function(e){var t=this.previous();null!=t&&l("[href$=p"+l(t.element).data("pid")+"]").parent().toggleClass("visibleParagraph","up"===e)},{offset:function(){return n-this.element.getBoundingClientRect().height},group:"parUp"})})},activateVerseTracking:function(){var t=l(".verseItem");t.each(function(e){l(t[e].hash).waypoint(function(e){l(".verseItem[href=#"+this.id+"]").toggleClass("activeVerse","up"===e)},{offset:function(){return-l(this).height()+parseFloat(l("#regionMain").css("margin-top"))}}).waypoint(function(e){l(".verseItem[href=#"+this.id+"]").toggleClass("activeVerse","down"===e)},{offset:"100%"})})},addBottomPadding:function(e){try{var t=l(e[0].hash),n=l("#regionFooter"),i=l("#article"),a=l("#regionHeader"),r=n.offset().top-t.offset().top,o=(window.innerHeight||document.documentElement.clientHeight||l(window).height())/2+a.outerHeight();r<o&&i.css("padding-bottom",o-r)}catch(e){}}}}(jQuery),!function(u,c){"use strict";function d(e,t,n,i,a){var r=t,t=["toggle"],o=e?"":" disabled",i=(e||t.push("disabled"),i&&t.push(i),u('<li class="'+t.join(" ")+'"><input type="checkbox"'+o+">"+n+'<span class="icon"></span></li>'));return e&&i.find("input").prop("checked",r).end().on("click",function(e){a(r=!r),u(this).find("input").prop("checked",r),e.stopPropagation()}),i}function p(){var e,t,n,i,a,r,o,l,s=u("#documentMenuButton");0<s.length&&(e=u(".documentMenu"),t=u(".articlePositioner"),n=s.outerWidth(),i=s.outerHeight(),l=a=0,o=u("#regionFooter"),r=window.innerHeight||document.documentElement.clientHeight||u(window).height(),r=Math.min(r-c.layout.pixelsScrolledIntoView(o),o[0].getBoundingClientRect().top)-n-8,s.css("top",r+"px"),e.css("top",r-e.height()-i/2),o=(t=0===t.length?u("#article"):t)[0].getBoundingClientRect(),l=c.isContentLibraryRTL()&&0<o.width?a=t.offset().left+8:(a=o.right-n-8)-e.width()+8,e.css("left",l+"px"),s.css("left",a+"px"))}c.documentMenu={makeDocumentMenu:function(){var e=new URI("/wol/ls");e.setQuery("locale",c.getUILanguage()).setQuery("type","documentOptions").setQuery("wtlocale",c.getContentLibraryLanguageSymbol()),c.web.getJSON(e.toString()).done(function(e){var t,n,i,a,r,o,l,s;e.strings&&(t=u("#content"),n=u('<ul class="documentMenu dropShadow20"></ul>'),c.utilities.currentDocumentRubyAvailable()&&n.append(d(c.utilities.enableRubyDocumentMenu(),c.utilities.showRubyOnForPage(),e.strings.showRubyText,e.classes.showRubyText,function(e){e?c.enableFeature("rb"):c.disableFeature("rb"),c.net.doRubyRedirect(URI(),e)})),c.isDocument()&&(window.ClientComponents?u(".pageNum").show():n.append(d(!0,!1,e.strings.pageNumbers,null,c.togglePageNo))),c.isBibleDocument()&&n.append(d(!0,!0,e.strings.referenceSymbols,null,c.layout.toggleReferenceSymbols)),c.hasDocumentContent()&&n.append((a=!0,e=e.strings.fontSize,r=null,o=function(e){(e<0&&c.fontSizeManager.decrement()||0<e&&c.fontSizeManager.increment())&&(c.layout.applyFontSize(),c.utilities.updateFontSize(!0))},l=["spin"],s=a?"":" disabled",a||l.push("disabled"),r&&l.push(r),u('<li class="'+l.join(" ")+'">'+e+'<span class="spinContainer"><button id="fontSizeSmaller"'+s+'><span class="icon"></span></button><button id="fontSizeLarger"'+s+'><span class="icon"></span></button></span></li>').find("#fontSizeSmaller").on("click",function(){o(-1)}).end().find("#fontSizeLarger").on("click",function(){o(1)}).end().on("click",function(e){e.stopPropagation()}))),0<n.children().length&&(i=function(){n.hide(),u(document).off("click"),c.highlightManager.enabled=!0},a=u('<div id="documentMenuButton" class="documentMenuIcon documentMenuActivator"><span class="icon"></span></div>').appendTo(t),c.utilities.currentDocumentRubyAvailable()&&a.append('<span class="rubyIndicator showRuby-'+c.getContentLibraryLanguageSymbol()+'"></span>'),u(".documentMenuActivator").on("click",function(e){n.is(":visible")?i():(n.show(),u(document).on("click",i),c.highlightManager.enabled=!1),e.stopPropagation()}),n.appendTo(t),p()))})},positionMenu:p}}(jQuery,app),!function(s,u){var l="hl",c="inserted",d="dimmed",o='<span class="'+d+" "+c+'">',p="</span>";s(o+p);function n(){return s("#article").find("."+l)}function h(){s("#article").addClass(d)}function i(e){var t=s("#"+g(e));return 0<t.length?u.isBibleDocument()&&!e?u.getVerseNumberFromIDAttribute(t.attr("id")):u.getParagraphIDFromIDAttribute(t.attr("id")):null}function g(e){return u.utilities.getFirstActionableIdInScope(e,n())}function m(e){return e instanceof jQuery?e:e?0!==(t=0!==(t=s("body").find(e)).length||"string"!=typeof e&&"number"!=typeof e?t:s("#article").find("[data-pid="+e+"]")).length||"string"!=typeof e&&"number"!=typeof e?t:s("#"+e):s();var t}function f(e){var t=s("."+d+"."+c),n=(t.contents().unwrap(),s("."+l));n.removeClass(l),(0<t.length||0<n.length)&&!e&&((e=s.Event("textunhighlighted")).$items=t.add(n),s(document).trigger(e)),s("#article").removeClass(d),s("."+d).removeClass(d)}function y(e){e=m(e);return 0<e.closest("."+l).length+e.find("."+l).length}function v(e,t){var n,i,a;e.constructor===String&&-1!==e.indexOf("=")?(n=URI("#"+e.replace(/^#*/,"")),(a=u.url.getHighlightTextRangeFromUrl(n))?u.highlightManager.highlightParagraphTextRange(a.stPar,a.stOff,a.edPar,a.edOff,!0):0<(a=u.url.getVersesFromUrl(n)).length&&u.highlightManager.highlightElems(a)):(a=(n=m(e)).closest("[id^=v]"),e=n.closest("[data-pid]"),i=0<a.length?(n=a.attr("id"),C(u.utilities.getAllVerseSegmentsFromIDAttribute(n),0,Number.MAX_VALUE,!0)):(a=e.data("pid"),C(s("#p"+a),0,Number.MAX_VALUE,!0))),h(),t&&t(),i&&s(document).trigger(i)}function b(i,e,a,t,n){i<a&&0===t&&(a--,t=Number.MAX_VALUE);var r=s("#article").find("[data-pid]"),o=(0===r.filter("[data-pid="+i+"]").length&&(e=0),0===r.filter("[data-pid="+a+"]").length&&(t=Number.MAX_VALUE),!1),l=s();return r.each(function(e,t){var n=s(t).data("pid");if((o=n===i?!0:o)&&(l=l.add(t)),n===a)return!1}),C(l.filter(function(e,t){return 0===s(t).parent().closest("[data-pid]").length}),e,t,n)}function C(n,i,a,e){n.each(function(e,t){t=s(t);0===e?e===n.length-1?0===i&&a===Number.MAX_VALUE||(t.insertTag(0,i,o,p,d),t.insertTag(a,Number.MAX_VALUE,o,p,d)):0!==i&&t.insertTag(0,i,o,p,d):e===n.length-1&&0<a&&a!==Number.MAX_VALUE&&t.insertTag(a,Number.MAX_VALUE,o,p,d),t.addClass(l)}),n.length&&h();var t=function(e){var t;function n(e,t){return s.contains(document.body,t)}t=e.find("."+l).addBack("."+l);for(var i=0;i<t.length;i++){var a,r,o=!1;(o=null!=s(t[i]).data("pid")?!0:o)||(o=s(t[i]).parent(),r=o.text().replace(/ /g,"").length,a=o.find("."+l).text().replace(/ /g,"").length,r===a&&(0<(r=o.find("."+d+"."+c)).length&&r.contents().unwrap(),o.addClass(l),o.find("*").removeClass(l),t=t.add(o).filter("."+l).filter(n),i--))}return t}(n);if(0<t.length){var r=s.Event("texthighlighted");if(r.$items=t,e)return r;s(document).trigger(r)}}u.highlightManager={removeHighlight:f,highlightParagraphTextRange:b,highlightElems:function(e){C(s(e),0,Number.MAX_VALUE)},highlightBibleVerseAsync:function(e,t){var n=(i="b"===u.getCommand())?u.getRsConfigSymbol():u.getContentRsConfigSymbol(),i=i?u.getLibrarySymbol():u.getContentLibrarySymbol(),a=u.getPubSym(),r=(u.getLangSym(),u.getPubYear(),u.getBookNumber()),o=u.getChapterNumber(),n=sprintf("/wol/bvr/%s/%s/%s/%s/%s/%s",n,i,a,r,o,e);u.web.getJSON(n).done(function(e){f(),b(e.begin_paragraph_id,e.begin_text_offset,e.end_paragraph_id,e.end_text_offset),t&&t()})},isHighlighted:y,highlight:v,toggleHighlight:function(e,t){var n,i,a,r,o,e=m(e),l=(e=m(e=e),l=e.closest("[id^=v]"),e=e.closest("[data-pid]"),0<l.length?l:e);y(l)?f(!1):(a=g(i=!1),r=l.attr("id"),null!=l.attr("data-pid")?n=s("[data-pid]").map(function(e,t){return t.id}):(n=s("[id^=v].v").map(function(e,t){return t.id}),a&&(r=u.utilities.getAllVerseSegmentsFromIDAttribute(r).get(-1).id)),f(!(a=null)),null==a?v(r):(o=s(),s.each(n,function(e,t){if((i=t===a?!0:i)&&(o=o.add(m(t))),t===r)return!1}),(e=C(o,0,Number.MAX_VALUE,!0))&&s(document).trigger(e))),t&&t()},enabled:!0,getFirstHighlightedId:g,getFirstHighlightedIdNumber:i,hasHighlight:function(){return null!==g()},getHighlightUrlFragment:function(e){var t;return i(e)?(u.isBibleDocument()&&!e?(t="v="+(e=n().closest(".v").add(n().find(".v")).add(n().filter(".v")).map(function(e,t){return u.getBookNumberFromIDAttribute(t.id)+":"+u.getChapterNumberFromIDAttribute(t.id)+":"+u.getVerseNumberFromIDAttribute(t.id)}).get())[0],1<e.length&&(t+="-"+e.pop())):(t="h="+(e=n().closest("[data-pid]").map(function(e,t){return u.getParagraphIDFromIDAttribute(t.id)}).get())[0],1<e.length&&(t+="-"+e.pop())),t):null},getHighlightedElements:n,highlightUrlFragment:function(){u.url.convertPFragmentToHFragment();var e=u.url.getHighlightTextRangeFromUrl();e?(u.highlightManager.highlightParagraphTextRange(e.stPar,e.stOff,e.edPar,e.edOff,!0),u.highlightManager.getFirstHighlightedId()||u.url.removeUrlFragmentByKey("h",null,!0,!1)):u.url.removeUrlFragmentByKey("h",null,!0,!1),0<(e=window.location.hash).length&&((e=u.getVerseNumberFromIDAttribute(e))&&u.highlightManager.highlightElems(u.utilities.getFirstIdMatchingVerseNumber(e))),0<(e=u.url.getVersesFromUrl()).length?(u.highlightManager.highlightElems(e),u.highlightManager.getFirstHighlightedId()||u.url.removeUrlFragmentByKey("v",null,!0,!1)):u.url.removeUrlFragmentByKey("v",null,!0,!1)},setupHighlightDismiss:function(){s("#article").click(function(e){0<m(s(e.target)).closest("."+l).length||f(!1)})}}}(jQuery,app),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(p,U,e,t){function B(){return{x:0,y:0}}function H(e,t){f.extend(y,t.publicMethods),Qe.push(e)}function V(e){var t=R();return t-1<e?e-t:e<0?t+e:e}function r(e,t){return Ke[e]||(Ke[e]=[]),Ke[e].push(t)}function j(e,t,n,i){i===y.currItem.initialZoomLevel?n[e]=y.currItem.initialPosition[e]:(n[e]=Xe(e,i),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function q(e){var t="";v.escKey&&27===e.keyCode?t="close":v.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,y[t]())}function z(e){e&&(Pe||Ee||m||Ae)&&(e.preventDefault(),e.stopPropagation())}function Q(){y.setScrollOffset(0,f.getScrollY())}function $(e){var t;"mousedown"===e.type&&0<e.button||(Xt?e.preventDefault():xe&&"mousedown"===e.type||(_t(e,!0)&&e.preventDefault(),k("pointerDown"),he&&((t=f.arraySearch(mt,e.pointerId,"id"))<0&&(t=mt.length),mt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Bt(e)).length,u=null,ut(),s&&1!==e||(s=Ne=!0,f.bind(window,ee,y),ke=Me=De=Ae=Le=Pe=Te=Ee=!1,Re=null,k("firstTouchStart",t),E(Ve,b),He.x=He.y=0,E(_,t[0]),E(gt,_),ft.x=w.x*je,yt=[{x:_.x,y:_.y}],we=Ce=A(),it(g,!0),Tt(),Et()),!c&&1<e&&!m&&!Le&&(ne=g,c=Te=!(Ee=!1),He.y=He.x=0,E(Ve,b),E(I,t[0]),E(ht,t[1]),Rt(I,ht,kt),St.x=Math.abs(kt.x)-b.x,St.y=Math.abs(kt.y)-b.y,_e=xt(I,ht))))}function W(e){var t;e.preventDefault(),he&&-1<(t=f.arraySearch(mt,e.pointerId,"id"))&&((t=mt[t]).x=e.pageX,t.y=e.pageY),s&&(t=Bt(e),Re||Pe||c?u=t:O.x!==w.x*je?Re="h":(e=Math.abs(t[0].x-_.x)-Math.abs(t[0].y-_.y),Math.abs(e)>=pt&&(Re=0<e?"h":"v",u=t)))}function K(e){if(l.isOldAndroid){if(xe&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(xe),xe=setTimeout(function(){xe=0},600))}k("pointerUp"),_t(e,!1)&&e.preventDefault(),he&&-1<(r=f.arraySearch(mt,e.pointerId,"id"))&&(t=mt.splice(r,1)[0],navigator.pointerEnabled?t.type=e.pointerType||"mouse":(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")));var t,n=(r=Bt(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(u=null);1===n&&E(gt,r[0]),0!==n||Re||m||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),k("touchRelease",e,t));var i,a,r=-1;if(0===n&&(s=!1,f.unbind(window,ee,y),Tt(),c?r=0:-1!==wt&&(r=A()-wt)),wt=1===n?A():-1,e=-1!==r&&r<150?"zoom":"swipe",c&&n<2&&(c=!1,1===n&&(e="zoomPointerUp"),k("zoomGestureEnded")),u=null,Pe||Ee||m||Ae)if(ut(),(Se=Se||jt()).calculateSwipeSpeed("x"),Ae)Dt()<v.verticalDragRange?y.close():(i=b.y,a=Fe,ct("verticalDrag",0,1,300,f.easing.cubic.out,function(e){b.y=(y.currItem.initialPosition.y-i)*e+i,x((1-a)*e+a),T()}),k("onVerticalDrag",1));else{if((Le||m)&&0===n){if(zt(e,Se))return;e="zoomPointerUp"}m||("swipe"!==e?$t():!Le&&g>y.currItem.fitRatio&&qt(Se))}}var G,Y,Z,h,J,X,ee,te,n,g,ne,ie,ae,re,oe,o,le,se,ue,ce,de,pe,he,i,ge,me,fe,ye,ve,l,be,Ce,we,Se,ke,Ae,xe,s,Te,Ee,Pe,Ie,Le,u,c,_e,d,Oe,m,Re,Ne,De,Fe,Me,Ue,f={features:null,bind:function(e,t,n,i){var a=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[a](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){f.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){f.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(f.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)!t.hasOwnProperty(i)||n&&e.hasOwnProperty(i)||(e[i]=t[i])},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(f.features)return f.features;for(var e,t,n,i,a,r=f.createEl().style,o="",l={},s=(l.touch="ontouchstart"in window,window.requestAnimationFrame&&(l.raf=window.requestAnimationFrame,l.caf=window.cancelAnimationFrame),l.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,l.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(l.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(l.isOldAndroid=!0),l.androidVersion=t),l.isMobileOpera=/opera mini|opera mobi/i.test(e)),["transform","perspective","animationName"]),u=["","webkit","Moz","ms","O"],c=0;c<4;c++){for(var o=u[c],d=0;d<3;d++)n=s[d],i=o+(o?n.charAt(0).toUpperCase()+n.slice(1):n),!l[n]&&i in r&&(l[n]=i);o&&!l.raf&&(o=o.toLowerCase(),l.raf=window[o+"RequestAnimationFrame"],l.raf&&(l.caf=window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"]))}return l.raf||(a=0,l.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),i=window.setTimeout(function(){e(t+n)},n);return a=t+n,i},l.caf=function(e){clearTimeout(e)}),l.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f.features=l}},y=(f.detectFeatures(),this),Be=25,v={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"},He=(f.extend(v,t),B()),Ve=B(),b=B(),C={},je=0,qe={},w=B(),S=0,ze=!0,Qe=[],$e={},We=!1,Ke={},k=function(e){var t=Ke[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(y,n)}},A=function(){return(new Date).getTime()},x=function(e){Fe=e,y.bg.style.opacity=e*v.bgOpacity},Ge=function(e,t,n,i,a){(!We||a&&a!==y.currItem)&&(i/=(a||y.currItem).fitRatio),e[pe]=ie+t+"px, "+n+"px"+ae+" scale("+i+")"},T=function(e){Oe&&(e&&(g>y.currItem.fitRatio?We||(sn(y.currItem,!1,!0),We=!0):We&&(sn(y.currItem),We=!1)),Ge(Oe,b.x,b.y,g))},Ye=function(e){e.container&&Ge(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ze=function(e,t){t[pe]=ie+e+"px, 0px"+ae},Je=function(e,t){var n;!v.loop&&t&&(t=h+(w.x*je-e)/w.x,n=Math.round(e-O.x),(t<0&&0<n||t>=R()-1&&n<0)&&(e=O.x+n*v.mainScrollEndFriction)),O.x=e,Ze(e,J)},Xe=function(e,t){var n=St[e]-qe[e];return Ve[e]+He[e]+n-t/ne*n},E=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(f.unbind(document,"mousemove",nt),f.addClass(p,"pswp--has_mouse"),v.mouseUsed=!0,k("mouseUsed")),tt=setTimeout(function(){tt=null},100)},it=function(e,t){e=on(y.currItem,C,e);return t&&(d=e),e},at=function(e){return(e=e||y.currItem).initialZoomLevel},rt=function(e){return 0<(e=e||y.currItem).w?v.maxSpreadZoom:1},P={},ot=0,lt=function(e){P[e]&&(P[e].raf&&me(P[e].raf),ot--,delete P[e])},st=function(e){P[e]&&lt(e),P[e]||(ot++,P[e]={})},ut=function(){for(var e in P)P.hasOwnProperty(e)&&lt(e)},ct=function(e,t,n,i,a,r,o){function l(){if(P[e]){if(s=A()-u,i<=s)return lt(e),r(n),void(o&&o());r((n-t)*a(s/i)+t),P[e].raf=ge(l)}}var s,u=A();st(e);l()},t={shout:k,listen:r,viewportSize:C,options:v,isMainScrollAnimating:function(){return m},getZoomLevel:function(){return g},getCurrentIndex:function(){return h},isDragging:function(){return s},isZooming:function(){return c},setScrollOffset:function(e,t){qe.x=e,ve=qe.y=t,k("updateScrollOffset",qe)},applyZoomPan:function(e,t,n,i){b.x=t,b.y=n,g=e,T(i)},init:function(){if(!G&&!Y){y.framework=f,y.template=p,y.bg=f.getChildByClass(p,"pswp__bg"),fe=p.className,G=!0,l=f.detectFeatures(),ge=l.raf,me=l.caf,pe=l.transform,y.scrollWrap=f.getChildByClass(p,"pswp__scroll-wrap"),y.container=f.getChildByClass(y.scrollWrap,"pswp__container"),J=y.container.style,y.itemHolders=o=[{el:y.container.children[0],wrap:0,index:-1},{el:y.container.children[1],wrap:0,index:-1},{el:y.container.children[2],wrap:0,index:-1}],o[0].el.style.display=o[2].el.style.display="none",!function(){var e;if(pe)return e=l.perspective&&!i,ie="translate"+(e?"3d(":"("),ae=l.perspective?", 0px)":")";pe="left",f.addClass(p,"pswp--ie"),Ze=function(e,t){t.left=e+"px"},Ye=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,t=t*e.h;n.width=i+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},T=function(){var e,t,n,i;Oe&&(e=Oe,n=(i=1<(t=y.currItem).fitRatio?1:t.fitRatio)*t.w,i=i*t.h,e.width=n+"px",e.height=i+"px",e.left=b.x+"px",e.top=b.y+"px")}}(),n={resize:y.updateSize,orientationchange:function(){clearTimeout(be),be=setTimeout(function(){C.x!==y.scrollWrap.clientWidth&&y.updateSize()},500)},scroll:Q,keydown:q,click:z};var e,t=l.isOldIOSPhone||l.isOldAndroid||l.isMobileOpera;for(l.animationName&&l.transform&&!t||(v.showAnimationDuration=v.hideAnimationDuration=0),e=0;e<Qe.length;e++)y["init"+Qe[e]]();U&&(y.ui=new U(y,f)).init(),k("firstUpdate"),h=h||v.index||0,(isNaN(h)||h<0||h>=R())&&(h=0),y.currItem=en(h),(l.isOldIOSPhone||l.isOldAndroid)&&(ze=!1),p.setAttribute("aria-hidden","false"),v.modal&&(ze?p.style.position="fixed":(p.style.position="absolute",p.style.top=f.getScrollY()+"px")),void 0===ve&&(k("initialLayout"),ve=ye=f.getScrollY());t="pswp--open ";for(v.mainClass&&(t+=v.mainClass+" "),v.showHideOpacity&&(t+="pswp--animate_opacity "),t=(t=(t+=i?"pswp--touch":"pswp--notouch")+(l.animationName?" pswp--css_animation":""))+(l.svg?" pswp--svg":""),f.addClass(p,t),y.updateSize(),X=-1,S=null,e=0;e<3;e++)Ze((e+X)*w.x,o[e].el.style);f.bind(y.scrollWrap,te,y),r("initialZoomInEnd",function(){y.setContent(o[0],h-1),y.setContent(o[2],h+1),o[0].el.style.display=o[2].el.style.display="block",v.focus&&p.focus(),f.bind(document,"keydown",y),l.transform&&f.bind(y.scrollWrap,"click",y),v.mouseUsed||f.bind(document,"mousemove",nt),f.bind(window,"resize scroll orientationchange",y),k("bindEvents")}),y.setContent(o[1],h),y.updateCurrItem(),k("afterInit"),ze||(re=setInterval(function(){ot||s||c||g!==y.currItem.initialZoomLevel||y.updateSize()},1e3)),f.addClass(p,"pswp--visible")}},close:function(){G&&(Y=!(G=!1),k("close"),f.unbind(window,"resize scroll orientationchange",y),f.unbind(window,"scroll",n.scroll),f.unbind(document,"keydown",y),f.unbind(document,"mousemove",nt),l.transform&&f.unbind(y.scrollWrap,"click",y),s&&f.unbind(window,ee,y),clearTimeout(be),k("unbindEvents"),tn(y.currItem,null,!0,y.destroy))},destroy:function(){k("destroy"),Yt&&clearTimeout(Yt),p.setAttribute("aria-hidden","true"),p.className=fe,re&&clearInterval(re),f.unbind(y.scrollWrap,te,y),f.unbind(window,"scroll",y),Tt(),ut(),Ke=null},panTo:function(e,t,n){n||(e>d.min.x?e=d.min.x:e<d.max.x&&(e=d.max.x),t>d.min.y?t=d.min.y:t<d.max.y&&(t=d.max.y)),b.x=e,b.y=t,T()},handleEvent:function(e){e=e||window.event,n[e.type]&&n[e.type](e)},goTo:function(e){var t=(e=V(e))-h;S=t,h=e,y.currItem=en(h),je-=t,Je(w.x*je),ut(),m=!1,y.updateCurrItem()},next:function(){y.goTo(h+1)},prev:function(){y.goTo(h-1)},updateCurrZoomItem:function(e){var t;e&&k("beforeChange",0),Oe=o[1].el.children.length?(t=o[1].el.children[0],f.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,d=y.currItem.bounds,ne=g=y.currItem.initialZoomLevel,b.x=d.center.x,b.y=d.center.y,e&&k("afterChange")},invalidateCurrItems:function(){oe=!0;for(var e=0;e<3;e++)o[e].item&&(o[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==S){var t,n=Math.abs(S);if(!(e&&n<2)){y.currItem=en(h),We=!1,k("beforeChange",S),3<=n&&(X+=S+(0<S?-3:3),n=3);for(var i=0;i<n;i++)0<S?(t=o.shift(),o[2]=t,Ze((++X+2)*w.x,t.el.style),y.setContent(t,h-n+i+1+1)):(t=o.pop(),o.unshift(t),Ze(--X*w.x,t.el.style),y.setContent(t,h+n-i-1-1));!Oe||1!==Math.abs(S)||(e=en(le)).initialZoomLevel!==g&&(on(e,C),sn(e),Ye(e)),S=0,y.updateCurrZoomItem(),le=h,k("afterChange")}}},updateSize:function(e){if(!ze&&v.modal){var t=f.getScrollY();if(ve!==t&&(p.style.top=t+"px",ve=t),!e&&$e.x===window.innerWidth&&$e.y===window.innerHeight)return;$e.x=window.innerWidth,$e.y=window.innerHeight,p.style.height=$e.y+"px"}if(C.x=y.scrollWrap.clientWidth,C.y=y.scrollWrap.clientHeight,Q(),w.x=C.x+Math.round(C.x*v.spacing),w.y=C.y,Je(w.x*je),k("beforeResize"),void 0!==X){for(var n,i,a,r=0;r<3;r++)n=o[r],Ze((r+X)*w.x,n.el.style),a=h+r-1,v.loop&&2<R()&&(a=V(a)),(i=en(a))&&(oe||i.needsUpdate||!i.bounds)?(y.cleanSlide(i),y.setContent(n,a),1===r&&(y.currItem=i,y.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=a&&y.setContent(n,a),i&&i.container&&(on(i,C),sn(i),Ye(i));oe=!1}ne=g=y.currItem.initialZoomLevel,(d=y.currItem.bounds)&&(b.x=d.center.x,b.y=d.center.y,T(!0)),k("resize")},zoomTo:function(t,e,n,i,a){e&&(ne=g,St.x=Math.abs(e.x)-b.x,St.y=Math.abs(e.y)-b.y,E(Ve,b));function r(e){1===e?(g=t,b.x=o.x,b.y=o.y):(g=(t-l)*e+l,b.x=(o.x-s.x)*e+s.x,b.y=(o.y-s.y)*e+s.y),a&&a(e),T(1===e)}var e=it(t,!1),o={},l=(j("x",e,o,t),j("y",e,o,t),g),s={x:b.x,y:b.y};et(o);n?ct("customZoomTo",0,1,n,i||f.easing.sine.inOut,r):r(1)}},dt=30,pt=10,I={},ht={},L={},_={},gt={},mt=[],ft={},yt=[],vt={},bt=0,Ct=B(),wt=0,O=B(),St=B(),kt=B(),At=function(e,t){return e.x===t.x&&e.y===t.y},xt=function(e,t){return vt.x=Math.abs(e.x-t.x),vt.y=Math.abs(e.y-t.y),Math.sqrt(vt.x*vt.x+vt.y*vt.y)},Tt=function(){Ie&&(me(Ie),Ie=null)},Et=function(){s&&(Ie=ge(Et),Vt())},Pt=function(){return!("fit"===v.scaleMode&&g===y.currItem.initialZoomLevel)},It=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:It(e.parentNode,t)))},Lt={},_t=function(e,t){return Lt.prevent=!It(e.target,v.isClickableElement),k("preventDragEvent",e,t,Lt),Lt.prevent},Ot=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Rt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Nt=function(e,t,n){var i;50<e-we&&((i=2<yt.length?yt.shift():{}).x=t,i.y=n,yt.push(i),we=e)},Dt=function(){var e=b.y-y.currItem.initialPosition.y;return 1-Math.abs(e/(C.y/2))},Ft={},Mt={},Ut=[],Bt=function(e){for(;0<Ut.length;)Ut.pop();return he?(Ue=0,mt.forEach(function(e){0===Ue?Ut[0]=e:1===Ue&&(Ut[1]=e),Ue++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Ut[0]=Ot(e.touches[0],Ft),1<e.touches.length&&(Ut[1]=Ot(e.touches[1],Mt))):(Ft.x=e.pageX,Ft.y=e.pageY,Ft.id="",Ut[0]=Ft),Ut},Ht=function(e,t){var n,i,a,r=b[e]+t[e],o=0<t[e],l=O.x+t.x,s=O.x-ft.x,u=r>d.min[e]||r<d.max[e]?v.panEndFriction:1,r=b[e]+t[e]*u;if((v.allowPanToNext||g===y.currItem.initialZoomLevel)&&(Oe?"h"!==Re||"x"!==e||Ee||(o?(r>d.min[e]&&(u=v.panEndFriction,d.min[e],n=d.min[e]-Ve[e]),(n<=0||s<0)&&1<R()?(a=l,s<0&&l>ft.x&&(a=ft.x)):d.min.x!==d.max.x&&(i=r)):(r<d.max[e]&&(u=v.panEndFriction,d.max[e],n=Ve[e]-d.max[e]),(n<=0||0<s)&&1<R()?(a=l,0<s&&l<ft.x&&(a=ft.x)):d.min.x!==d.max.x&&(i=r))):a=l,"x"===e))return void 0!==a&&(Je(a,!0),Le=a!==ft.x),d.min.x!==d.max.x&&(void 0!==i?b.x=i:Le||(b.x+=t.x*u)),void 0!==a;m||Le||g>y.currItem.fitRatio&&(b[e]+=t[e]*u)},Vt=function(){if(u){var e,t,n,i,a,r=u.length;if(0!==r)if(E(I,u[0]),L.x=I.x-_.x,L.y=I.y-_.y,c&&1<r)_.x=I.x,_.y=I.y,!L.x&&!L.y&&At(u[1],ht)||(E(ht,u[1]),Ee||(Ee=!0,k("zoomGestureStarted")),r=xt(I,ht),(e=Qt(r))>y.currItem.initialZoomLevel+y.currItem.initialZoomLevel/15&&(Me=!0),t=1,n=at(),i=rt(),e<n?v.pinchToClose&&!Me&&ne<=y.currItem.initialZoomLevel?(x(a=1-(n-e)/(n/1.2)),k("onPinchClose",a),De=!0):e=n-(t=1<(t=(n-e)/n)?1:t)*(n/3):i<e&&(e=i+(t=1<(t=(e-i)/(6*n))?1:t)*n),t<0&&(t=0),Rt(I,ht,Ct),He.x+=Ct.x-kt.x,He.y+=Ct.y-kt.y,E(kt,Ct),b.x=Xe("x",e),b.y=Xe("y",e),ke=g<e,g=e,T());else if(Re&&(Ne&&(Ne=!1,Math.abs(L.x)>=pt&&(L.x-=u[0].x-gt.x),Math.abs(L.y)>=pt&&(L.y-=u[0].y-gt.y)),_.x=I.x,_.y=I.y,0!==L.x||0!==L.y)){if("v"===Re&&v.closeOnVerticalDrag)if(!Pt())return He.y+=L.y,b.y+=L.y,a=Dt(),Ae=!0,k("onVerticalDrag",a),x(a),void T();Nt(A(),I.x,I.y),Pe=!0,d=y.currItem.bounds,Ht("x",L)||(Ht("y",L),et(b),T())}}},jt=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<yt.length?(t=A()-we+50,yt[yt.length-2][e]):(t=A()-Ce,gt[e]),i.lastFlickOffset[e]=_[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(b[t]>d.min[t]?i.backAnimDestination[t]=d.min[t]:b[t]<d.max[t]&&(i.backAnimDestination[t]=d.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,ct("bounceZoomPan"+t,b[t],i.backAnimDestination[t],e||300,f.easing.sine.out,function(e){b[t]=e,T()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,b[e]+=i.distanceOffset[e])},panAnimLoop:function(){P.zoomPan&&(P.zoomPan.raf=ge(i.panAnimLoop),i.now=A(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),T(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05&&(b.x=Math.round(b.x),b.y=Math.round(b.y),T(),lt("zoomPan")))}};return i},qt=function(e){if(e.calculateSwipeSpeed("y"),d=y.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;st("zoomPan"),e.lastNow=A(),e.panAnimLoop()},zt=function(e,t){m||(bt=h),"swipe"===e&&(e=_.x-gt.x,r=t.lastFlickDist.x<10,dt<e&&(r||20<t.lastFlickOffset.x)?i=-1:e<-dt&&(r||t.lastFlickOffset.x<-20)&&(i=1)),i&&((h+=i)<0?(h=v.loop?R()-1:0,a=!0):h>=R()&&(h=v.loop?0:R()-1,a=!0),a&&!v.loop||(S+=i,je-=i,n=!0));var n,i,a,e=w.x*je,r=Math.abs(e-O.x),o=n||e>O.x==0<t.lastFlickSpeed.x?(o=0<Math.abs(t.lastFlickSpeed.x)?r/Math.abs(t.lastFlickSpeed.x):333,o=Math.min(o,400),Math.max(o,250)):333;return bt===h&&(n=!1),m=!0,k("mainScrollAnimStart"),ct("mainScroll",O.x,e,o,f.easing.cubic.out,Je,function(){ut(),m=!1,bt=-1,!n&&bt===h||y.updateCurrItem(),k("mainScrollAnimComplete")}),n&&y.updateCurrItem(!0),n},Qt=function(e){return 1/_e*e*ne},$t=function(){var e,t=g,n=at(),i=rt(),a=(g<n?t=n:i<g&&(t=i),Fe);return De&&!ke&&!Me&&g<n?y.close():(De&&(e=function(e){x((1-a)*e+a)}),y.zoomTo(t,0,200,f.easing.cubic.out,e)),!0};H("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,a){se=e+t,ue=e+n,ce=e+i,de=a?e+a:""}(he=l.pointerEvent)&&l.touch&&(l.touch=!1),he?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):l.touch?(e("touch","start","move","end","cancel"),i=!0):e("mouse","down","move","up"),ee=ue+" "+ce+" "+de,te=se,he&&!i&&(i=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),y.likelyTouchDevice=i,n[se]=$,n[ue]=W,n[ce]=K,de&&(n[de]=n[ce]),l.touch&&(te+=" mousedown",ee+=" mousemove mouseup",n.mousedown=n[se],n.mousemove=n[ue],n.mouseup=n[ce]),i||(v.allowPanToNext=!1)}}});function Wt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}var n;e.loading=!0,e.loaded=!1,e.svg?(n=e.img=f.createEl("pswp__img","object")).type="image/svg+xml":n=e.img=f.createEl("pswp__img","img"),n.onload=t,n.onerror=function(){e.loadError=!0,t()},e.svg?n.data=e.src:n.src=e.src}function Kt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=v.errorMsg.replace("%url%",e.src),1)}function Gt(){if(D.length){for(var e,t=0;t<D.length;t++)(e=D[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);D=[]}}var Yt,Zt,Jt,Xt,en,R,tn=function(r,e,o,t){function l(){lt("initialZoom"),o?(y.template.removeAttribute("style"),y.bg.removeAttribute("style")):(x(1),e&&(e.style.display="block"),f.addClass(p,"pswp--animated-in"),k("initialZoom"+(o?"OutEnd":"InEnd"))),t&&t(),Xt=!1}Yt&&clearTimeout(Yt),Jt=Xt=!0,r.initialLayout?(s=r.initialLayout,r.initialLayout=null):s=v.getThumbBoundsFn&&v.getThumbBoundsFn(h);var s,u=o?v.hideAnimationDuration:v.showAnimationDuration;if(!u||!s||void 0===s.x)return k("initialZoom"+(o?"Out":"In")),g=r.initialZoomLevel,E(b,r.initialPosition),T(),p.style.opacity=o?0:1,x(1),void(u?setTimeout(function(){l()},u):l());var c,d;c=Z,d=!y.currItem.src||y.currItem.loadError||v.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),o||(g=s.w/r.w,b.x=s.x,b.y=s.y-ye,y[d?"template":"bg"].style.opacity=.001,T()),st("initialZoom"),o&&!c&&f.removeClass(p,"pswp--animated-in"),d&&(o?f[(c?"remove":"add")+"Class"](p,"pswp--animate_opacity"):setTimeout(function(){f.addClass(p,"pswp--animate_opacity")},30)),Yt=setTimeout(function(){var t,n,i,a,e;k("initialZoom"+(o?"Out":"In")),o?(t=s.w/r.w,n={x:b.x,y:b.y},i=g,a=Fe,e=function(e){1===e?(g=t,b.x=s.x,b.y=s.y-ve):(g=(t-i)*e+i,b.x=(s.x-n.x)*e+n.x,b.y=(s.y-ve-n.y)*e+n.y),T(),d?p.style.opacity=1-e:x(a-e*a)},c?ct("initialZoom",0,1,u,f.easing.cubic.out,e,l):(e(1),Yt=setTimeout(l,u+20))):(g=r.initialZoomLevel,E(b,r.initialPosition),T(),x(1),d?p.style.opacity=1:x(1),Yt=setTimeout(l,u+20))},o?25:90)},N={},D=[],nn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Zt.length}},an=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},rn=function(e,t,n){var i=e.bounds;i.center.x=Math.round((N.x-t)/2),i.center.y=Math.round((N.y-n)/2)+e.vGap.top,i.max.x=t>N.x?Math.round(N.x-t):i.center.x,i.max.y=n>N.y?Math.round(N.y-n)+e.vGap.top:i.center.y,i.min.x=t>N.x?0:i.center.x,i.min.y=n>N.y?e.vGap.top:i.center.y},on=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=an(),e.initialPosition=e.bounds.center,e.bounds;var i,a=!n;return a&&(e.vGap||(e.vGap={top:0,bottom:0}),k("parseVerticalMargin",e)),N.x=t.x,N.y=t.y-e.vGap.top-e.vGap.bottom,a&&(t=N.x/e.w,i=N.y/e.h,e.fitRatio=t<i?t:i,"orig"===(t=v.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=an())),n?(rn(e,e.w*n,e.h*n),a&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},ln=function(e,t,n,i,a,r){t.loadError||i&&(t.imageAppended=!0,sn(t,i,t===y.currItem&&We),n.appendChild(i),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},sn=function(e,t,n){if(e.src){t=t||e.container.lastChild;var i=n?e.w:Math.round(e.w*e.fitRatio),a=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=a+"px"),t.style.width=i+"px",t.style.height=a+"px";for(var r=0;r<=e.container.childNodes.length;r++)e.container.childNodes[r]&&"OBJECT"===e.container.childNodes[r].tagName&&(e.container.childNodes[r].style.width=i+"px",e.container.childNodes[r].style.height=a+"px")}};H("Controller",{publicMethods:{lazyLoadItem:function(e){e=V(e);var t=en(e);t&&(!t.loaded&&!t.loading||oe)&&(k("gettingData",e,t),t.src&&Wt(t))},initController:function(){f.extend(v,nn,!0),y.items=Zt=e,en=y.getItemAt,R=v.getNumItemsFn,v.loop,R()<3&&(v.loop=!1),r("beforeChange",function(e){for(var t=v.preload,n=null===e||0<=e,i=Math.min(t[0],R()),a=Math.min(t[1],R()),r=1;r<=(n?a:i);r++)y.lazyLoadItem(h+r);for(r=1;r<=(n?i:a);r++)y.lazyLoadItem(h-r)}),r("initialLayout",function(){y.currItem.initialLayout=v.getThumbBoundsFn&&v.getThumbBoundsFn(h)}),r("mainScrollAnimComplete",Gt),r("initialZoomInEnd",Gt),r("destroy",function(){for(var e,t=0;t<Zt.length;t++)(e=Zt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);D=null})},getItemAt:function(e){return 0<=e&&(void 0!==Zt[e]&&Zt[e])},allowProgressiveImg:function(){return v.forceProgressiveLoading||!i||v.mouseUsed||1200<screen.width},setContent:function(t,n){v.loop&&(n=V(n));var i,e,a,r=y.getItemAt(t.index),r=(r&&(r.container=null),y.getItemAt(n));r?(k("gettingData",n,r),t.index=n,i=(t.item=r).container=f.createEl("pswp__zoom-wrap"),!r.src&&r.html&&(r.html.tagName?i.appendChild(r.html):i.innerHTML=r.html),Kt(r),on(r,C),!r.src||r.loadError||r.loaded?!r.src&&!r.data||r.loadError||(r.svg?((e=r.img=f.createEl("pswp__img","object")).type="image/svg+xml",e.data=r.src):(e=r.img=f.createEl("pswp__img","img")).src=r.src,e.style.opacity=1,sn(r,e),ln(n,r,i,e,!0),r.svg&&ln(n,r,i,f.createEl("pswp__img pswp__img--overlay","div"),!0)):(r.loadComplete=function(e){if(G){if(t&&t.index===n){if(Kt(e,!0))return e.loadComplete=e.img=null,on(e,C),Ye(e),void(t.index===h&&y.updateCurrZoomItem());e.imageAppended?!Xt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):l.transform&&(m||Xt)?(D.push({item:e,baseDiv:i,img:e.img,index:n,holder:t,clearPlaceholder:!0}),e.svg&&D.push({item:e,baseDiv:i,img:f.createEl("pswp__img pswp__img--overlay","div"),index:n,holder:t,clearPlaceholder:!0})):(ln(n,e,i,e.img,m||Xt,!0),e.svg&&ln(n,e,i,f.createEl("pswp__img pswp__img--overlay","div"),m||Xt,!0))}e.loadComplete=null,e.img=null,k("imageLoadComplete",n,e)}},f.features.transform&&(a="pswp__img pswp__img--placeholder",a+=r.msrc?"":" pswp__img--placeholder--blank",a=f.createEl(a,r.msrc?"img":""),r.msrc&&(a.src=r.msrc),sn(r,a),i.appendChild(a),r.placeholder=a),r.loading||Wt(r),y.allowProgressiveImg()&&(!Jt&&l.transform?(D.push({item:r,baseDiv:i,img:r.img,index:n,holder:t}),r.svg&&D.push({item:r,baseDiv:i,img:f.createEl("pswp__img pswp__img--overlay","div"),index:n,holder:t})):(ln(n,r,i,r.img,!0,!0),r.svg&&ln(n,r,i,f.createEl("pswp__img pswp__img--overlay","div"),!0,!0)))),Jt||n!==h?Ye(r):(Oe=i.style,tn(r,e||r.img)),t.el.innerHTML="",t.el.appendChild(i)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function un(e,t,n){var i=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(i)}function cn(){hn&&clearTimeout(hn),mn&&clearTimeout(mn)}function dn(){var e=xn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(r=0;r<i.length;r++)i[r]&&((n=i[r].split("=")).length<2||(t[n[0]]=n[1]));if(v.galleryPIDs){for(var a=t.pid,r=t.pid=0;r<Zt.length;r++)if(Zt[r].pid===a){t.pid=r;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t}var pn,F,hn,gn,mn,fn,yn,vn,a,bn,Cn,wn,M,Sn,kn={},An=(H("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",y.onTapStart),r("touchRelease",y.onTapRelease),r("destroy",function(){kn={},pn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(pn),pn=null)},onTapRelease:function(e,t){var n,i,a;!t||Pe||Te||ot||(n=t,pn&&(clearTimeout(pn),pn=null,i=n,a=kn,Math.abs(i.x-a.x)<Be&&Math.abs(i.y-a.y)<Be)?k("doubleTap",n):"mouse"===t.type?un(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||f.hasClass(e.target,"pswp__single-tap")?un(e,t):(E(kn,n),pn=setTimeout(function(){un(e,t),pn=null},300)))}}}),H("DesktopZoom",{publicMethods:{initDesktopZoom:function(){i?r("mouseUsed",function(){y.setupDesktopZoom()}):y.setupDesktopZoom(!0)},setupDesktopZoom:function(e){F={};var t="wheel mousewheel DOMMouseScroll";r("bindEvents",function(){f.bind(p,t,y.handleMouseWheel)}),r("unbindEvents",function(){F&&f.unbind(p,t,y.handleMouseWheel)}),y.mouseZoomedIn=!1;function n(){y.mouseZoomedIn&&(f.removeClass(p,"pswp--zoomed-in"),y.mouseZoomedIn=!1),g<1?f.addClass(p,"pswp--zoom-allowed"):f.removeClass(p,"pswp--zoom-allowed"),a()}var i,a=function(){i&&(f.removeClass(p,"pswp--dragging"),i=!1)};r("resize",n),r("afterChange",n),r("pointerDown",function(){y.mouseZoomedIn&&(i=!0,f.addClass(p,"pswp--dragging"))}),r("pointerUp",a),e||n()},handleMouseWheel:function(e){if(g<=y.currItem.fitRatio)return v.modal&&(!v.closeOnScroll||ot||s?e.preventDefault():pe&&2<Math.abs(e.deltaY)&&(Z=!0,y.close())),!0;if(e.stopPropagation(),F.x=0,"deltaX"in e)1===e.deltaMode?(F.x=18*e.deltaX,F.y=18*e.deltaY):(F.x=e.deltaX,F.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(F.x=-.16*e.wheelDeltaX),e.wheelDeltaY?F.y=-.16*e.wheelDeltaY:F.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;F.y=e.detail}it(g,!0);var t=b.x-F.x,n=b.y-F.y;(v.modal||t<=d.min.x&&t>=d.max.x&&n<=d.min.y&&n>=d.max.y)&&e.preventDefault(),y.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:C.x/2+qe.x,y:C.y/2+qe.y};var t=v.getDoubleTapZoom(!0,y.currItem),n=g===t;y.mouseZoomedIn=!n,y.zoomTo(n?y.currItem.initialZoomLevel:t,e,333),f[(n?"remove":"add")+"Class"](p,"pswp--zoomed-in")}}}),{history:!0,galleryUID:1}),xn=function(){return M.hash.substring(1)},Tn=function(){var e,t;mn&&clearTimeout(mn),ot||s?mn=setTimeout(Tn,500):(fn?clearTimeout(gn):fn=!0,t=h+1,(e=en(h)).hasOwnProperty("pid")&&(t=e.pid),e=a+"&gid="+v.galleryUID+"&pid="+t,bn||-1===M.hash.indexOf(e)&&(wn=!0),t=M.href.split("#")[0]+"#"+e,Sn?"#"+e!==window.location.hash&&history[bn?"replaceState":"pushState"]("",document.title,t):bn?M.replace(t):M.hash=e,bn=!0,gn=setTimeout(function(){fn=!1},60))};H("History",{publicMethods:{initHistory:function(){var e,t;f.extend(v,An,!0),v.history&&(M=window.location,bn=Cn=wn=!1,a=xn(),Sn="pushState"in history,-1<a.indexOf("gid=")&&(a=(a=a.split("&gid=")[0]).split("?gid=")[0]),r("afterChange",y.updateURL),r("unbindEvents",function(){f.unbind(window,"hashchange",y.onHashChange)}),e=function(){vn=!0,Cn||(wn?history.back():a?M.hash=a:Sn?history.pushState("",document.title,M.pathname+M.search):M.hash=""),cn()},r("unbindEvents",function(){Z&&e()}),r("destroy",function(){vn||e()}),r("firstUpdate",function(){h=dn().pid}),-1<(t=a.indexOf("pid="))&&"&"===(a=a.substring(0,t)).slice(-1)&&(a=a.slice(0,-1)),setTimeout(function(){G&&f.bind(window,"hashchange",y.onHashChange)},40))},onHashChange:function(){if(xn()===a)return Cn=!0,void y.close();fn||(yn=!0,y.goTo(dn().pid),yn=!1)},updateURL:function(){cn(),yn||(bn?hn=setTimeout(Tn,800):Tn())}}}),f.extend(y,t)}}),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(i,l){function e(e){if(T)return!0;e=e||window.event,x.timeToIdle&&x.mouseUsed&&!b&&s();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",a=0;a<D.length;a++)(t=D[a]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),T=!0,e=l.features.isOldAndroid?600:30,setTimeout(function(){T=!1},e))}function n(){var e=1===x.getNumItemsFn();e!==A&&(R(h,"ui--one-slide",e),A=e)}function o(){R(y,"share-modal--hidden",O)}function a(){if((O=!O)?(l.removeClass(y,"pswp__share-modal--fade-in"),setTimeout(function(){O&&o()},300)):(o(),setTimeout(function(){O||l.addClass(y,"pswp__share-modal--fade-in")},30)),!O){for(var e,t,n,i,a="",r=0;r<x.shareButtons.length;r++){e=x.shareButtons[r];t=x.getImageURLForShare(e);n=x.getPageURLForShare(e);i=x.getTextForShare(e);n=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i));a+='<a href="'+n+'" target="_blank" '+'class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>";if(x.parseShareButtonOut)a=x.parseShareButtonOut(e,a)}y.children[0].innerHTML=a,y.children[0].onclick=U}}function r(e){for(var t=0;t<x.closeElClasses.length;t++)if(l.hasClass(e,"pswp__"+x.closeElClasses[t]))return!0}function s(){clearTimeout(P),N=0,b&&I.setIdle(!1)}function u(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(P),P=setTimeout(function(){I.setIdle(!0)},x.timeToIdleOutside))}function c(e){S!==e&&(R(w,"preloader--active",!e),S=e)}function d(e){var t,n=e.vGap;!i.likelyTouchDevice||x.mouseUsed||screen.width>x.fitControlsWidth?(t=x.barsSize,x.captionEl&&"auto"===t.bottom?(m||((m=l.createEl("pswp__caption pswp__caption--fake")).appendChild(l.createEl("pswp__caption__center")),h.insertBefore(m,g),l.addClass(h,"pswp__ui--fit")),x.addCaptionHTMLFn(e,m,!0)?(e=m.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function F(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){a=e[n],r=a.className;for(var i=0;i<D.length;i++)o=D[i],-1<r.indexOf("pswp__"+o.name)&&(x[o.option]?(l.removeClass(a,"pswp__element--disabled"),o.onInit&&o.onInit(a)):l.addClass(a,"pswp__element--disabled"))}}e(h.children);var a,r,o,t=l.getChildByClass(h,"pswp__top-bar");t&&e(t.children)}var p,h,g,m,t,f,y,v,b,C,w,S,k,A,x,T,E,P,I=this,L=!1,_=!0,O=!0,M={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},R=function(e,t,n){l[(n?"add":"remove")+"Class"](e,"pswp__"+t)},U=function(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!!t.href&&(!!t.hasAttribute("download")||(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),O||a(),!1))},N=0,D=[{name:"caption",option:"captionEl",onInit:function(e){g=e}},{name:"share-modal",option:"shareEl",onInit:function(e){y=e},onTap:function(){a()}},{name:"button--share",option:"shareEl",onInit:function(e){f=e},onTap:function(){a()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){p.isFullscreen()?p.exit():p.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){w=e}}];I.init=function(){var t;l.extend(i.options,M,!0),x=i.options,h=l.getChildByClass(i.scrollWrap,"pswp__ui"),(C=i.listen)("onVerticalDrag",function(e){_&&e<.95?I.hideControls():!_&&.95<=e&&I.showControls()}),C("onPinchClose",function(e){_&&e<.9?(I.hideControls(),t=!0):t&&!_&&.9<e&&I.showControls()}),C("zoomGestureEnded",function(){(t=!1)&&!_&&I.showControls()}),C("beforeChange",I.update),C("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(x.getDoubleTapZoom(!1,i.currItem),e,333)}),C("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),C("bindEvents",function(){l.bind(h,"pswpTap click",e),l.bind(i.scrollWrap,"pswpTap",I.onGlobalTap),i.likelyTouchDevice||l.bind(i.scrollWrap,"mouseover",I.onMouseOver)}),C("unbindEvents",function(){O||a(),E&&clearInterval(E),l.unbind(document,"mouseout",u),l.unbind(document,"mousemove",s),l.unbind(h,"pswpTap click",e),l.unbind(i.scrollWrap,"pswpTap",I.onGlobalTap),l.unbind(i.scrollWrap,"mouseover",I.onMouseOver),p&&(l.unbind(document,p.eventK,I.updateFullscreen),p.isFullscreen()&&(x.hideAnimationDuration=0,p.exit()),p=null)}),C("destroy",function(){x.captionEl&&(m&&h.removeChild(m),l.removeClass(g,"pswp__caption--empty")),y&&(y.children[0].onclick=null),l.removeClass(h,"pswp__ui--over-close"),l.addClass(h,"pswp__ui--hidden"),I.setIdle(!1)}),x.showAnimationDuration||l.removeClass(h,"pswp__ui--hidden"),C("initialZoomIn",function(){x.showAnimationDuration&&l.removeClass(h,"pswp__ui--hidden")}),C("initialZoomOut",function(){l.addClass(h,"pswp__ui--hidden")}),C("parseVerticalMargin",d),F(),x.shareEl&&f&&y&&(O=!0),n(),x.timeToIdle&&C("mouseUsed",function(){l.bind(document,"mousemove",s),l.bind(document,"mouseout",u),E=setInterval(function(){2===++N&&I.setIdle(!0)},x.timeToIdle/2)}),x.fullscreenEl&&!l.features.isOldAndroid&&((p=p||I.getFullscreenAPI())?(l.bind(document,p.eventK,I.updateFullscreen),I.updateFullscreen(),l.addClass(i.template,"pswp--supports-fs")):l.removeClass(i.template,"pswp--supports-fs")),x.preloaderEl&&(c(!0),C("beforeChange",function(){clearTimeout(k),k=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||c(!1):c(!0)},x.loadingIndicatorDelay)}),C("imageLoadComplete",function(e,t){i.currItem===t&&c(!0)}))},I.setIdle=function(e){R(h,"ui--idle",b=e)},I.update=function(){L=!(!_||!i.currItem)&&(I.updateIndexIndicator(),x.captionEl&&(x.addCaptionHTMLFn(i.currItem,g),R(g,"caption--empty",!i.currItem.title)),!0),O||a(),n()},I.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,l.getScrollY())},50),l[(p.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},I.updateIndexIndicator=function(){x.counterEl&&(t.innerHTML=i.getCurrentIndex()+1+x.indexIndicatorSep+x.getNumItemsFn())},I.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;T||(e.detail&&"mouse"===e.detail.pointerType?r(t)?i.close():l.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?x.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint)):(x.tapToToggleControls&&(_?I.hideControls():I.showControls()),x.tapToClose&&(l.hasClass(t,"pswp__img")||r(t))&&i.close()))},I.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;R(h,"ui--over-close",r(e))},I.hideControls=function(){l.addClass(h,"pswp__ui--hidden"),_=!1},I.showControls=function(){_=!0,L||I.update(),l.removeClass(h,"pswp__ui--hidden")},I.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},I.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(v=x.closeOnScroll,x.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return i.template[this.enterK]();i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return x.closeOnScroll=v,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),!function(c,d){"use strict";var n,i;function s(e,t){var n,i,a,r=c(t),o="svg"===r.data("altType")&&d.utilities.isOldSafari(),l=r.data("altSrc")||r.data("imgLargeSrc")||r.attr("src"),s=r.data("imgLargeX")?4*parseInt(r.data("imgLargeX"),10):4*r[0].naturalWidth,u=r.data("imgLargeY")?4*parseInt(r.data("imgLargeY"),10):4*r[0].naturalHeight;return"svg"===r.data("altType")&&(n=r.height(),i=r.width(),0!==n&&0!==i||(n=r[0].naturalHeight,i=r[0].naturalWidth),r=screen.height/n,a=screen.width/i,u=n*Math.min(r,a)*4,s=i*Math.min(r,a)*4),{svg:o,src:l,w:s,h:u,elem:t,index:e}}function a(){return document.querySelectorAll(".pswp")[0]}function t(e,t){var e=function(e,t){for(var n=null,i=0,a=t.length;i<a;i++)t[i].elem===e&&(n=t[i].index);return n}(e,t=void 0===t?n:t);return null!==e&&(t=t,e={index:e=e,bgOpacity:.7,history:!1,closeOnVerticalDrag:!1},new PhotoSwipe(a(),PhotoSwipeUI_Default,t,e).init(),!0)}c.fn.imagesLoaded=function(){var e=this.find('img[src!=""]');if(!e.length)return c.Deferred().resolve().promise();var n=[];return e.each(function(){var e=c.Deferred(),t=(n.push(e),new Image);t.onload=function(){e.resolve()},t.onerror=function(){e.resolve()},t.onabort=function(){e.resolve()},t.src=this.src}),c.when.apply(c,n)},d.images={setupImages:function(){c(".article img").not("a > img:not(.lightbox)").each(function(){var e=c(this),t=e.attr("src");e.data("imgLargeSrc",t),e.data("imgLargeX",parseInt(e.attr("width"),10)),e.data("imgLargeY",parseInt(e.attr("height"),10)),"svg"===e.data("altType")&&e.attr("src")===e.data("altSrc")&&d.utilities.isOldSafari()&&(t=c("<object/>").attr("data",t).css("position","absolute").css("top",0).css("left",0),e.css("opacity",0),e.closest("div").css("position","relative"),e.parent().prepend(t))})},setupLightboxItems:function(e){var t=void 0!==e?c(e):c(".article img").not(".noLightbox, .suppressZoom, a > img:not(.lightbox)"),o=[],l=[];if(t.each(function(e,t){c(t).parents(".alternatePresentation").length?l.push(s(l.length,t)):o.push(s(o.length,t));var n,i,a,r=c(this).data("ctvImage");r&&(n=Object.assign({},t),c(n).attr("src",r),c(n).removeData("imgLargeSrc"),i=o.length,o.push({}),(a=new Image).src=r,a.onload=function(){c(n).data("imgLargeX",a.width),c(n).data("imgLargeY",a.height),o[i]=s(i,n)})}),void 0!==e)return o;n=o,i=l},showAltPresentationLightbox:function(e){return t(c(e).find("img")[0],i)},callLightbox:t,placeholders:function(){c(".responsiveLoadingImage").parent().imagesLoaded().then(function(){c(".responsiveLoadingImage").each(function(){c(this).css("display","inline-block").prev().replaceWith(this)})})},hasLightbox:function(){return!!a()}}}(jQuery,app),!function(b,C){"use strict";function w(e){e=C.utilities.getFirstActionableIdInScope(!1,e.$items);return C.mediaMarker.getMarker(e)}function S(e,t,n,i){return parseInt(e-t+n/2-i)}function k(e,t,n,i,a,r){return i-2*a<=(e=e<=t?C.utilities.roundToNearest(t+n,n):e)&&(e=C.utilities.roundDown(i-2*a,n),r<=i-a&&(e=C.utilities.roundDown(r,n))),e}function A(e){var t;C.media.isPlayerPlaying?b("#playSelectedButton").addClass("stopButton").removeClass("playButton").one("click",function(e){return C.mediaMarker.stop(),A(),!1}):(t=b("#playSelectedButton")).addClass("playButton").removeClass("stopButton").one("click",function(e){return C.mediaMarker.playSelected(t.data("buildEvent").$items),x(!0),C.mediaMarker.clearMarkers(),!1}),C.share.canSharePage()&&(b("#shareContextButton").one("click",function(e){return x(!0),C.share.openShareDialog(),!1}),b("#shareCopyWithCaptionButton").one("click",function(e){return C.share.getShareCaption(function(e){C.utilities.copyRichText(e)}),x(!0),!1}))}function x(e,t){var n,l,i=b("#contextMenu");n=b("#contextMenu").children("span"),l=!1,n.each(function(e,t){var t=t.getBoundingClientRect(),n=t.top,i=t.bottom,a=t.left,t=t.right;if(C.lastClickEvent){var r=C.lastClickEvent.clientX,o=C.lastClickEvent.clientY;if(a<r&&r<t&&n<o&&o<i)return!(l=!0)}}),l&&!e||(t?i.remove():i.fadeOut("slow",function(){i.remove()}),b(document).off(".contextMenuDismiss"))}C.contextMenu={drawMenu:function(v){(w(v)||C.share.canSharePage())&&(x(!0,!0),b("#contextMenu").promise().done(function(){var e,t,n,i,a,r,o,l,s,u,c,d,p,h,g,m,f,y;v.$items&&0<v.$items.length&&(h=v.$lastSelectedElement||b(v.$items[0]),0<(e=function(t){var n=b('<span id="contextMenu"/>').addClass("contextMenu").css("left",-9999).on("click",function(e){return!1});function e(e){n.append(b('<span id="'+e+'"><span class="icon"></span></span>').data("buildEvent",t))}w(t)&&e("playSelectedButton");C.share.canSharePage()&&(e("shareContextButton"),e("shareCopyWithCaptionButton"));return n}(v)).find("span").length&&(b("#regionMain").before(e),f=parseInt(e.css("margin-right"),10),t=parseInt(e.css("margin-bottom"),10),n=parseInt(e.css("margin-left"),10),i=parseInt(e.css("margin-top"),10),a=(f-t)/2+parseInt(e.css("border-top-left-radius"),10),r=e.width(),l=f+(o=C.utilities.roundToNearest(r/2,5)),m=r-o,u=(s=b(h).parent()[0].getBoundingClientRect()).left+a,c=s.right-a,h=(g=(y=h.find(".cl, .vl"))&&0<y.length?(d=y.position(),p=y[0].getBoundingClientRect(),g=y.width(),p.left+g/2):(d=(y=h).position(),y.closest("table").length&&(d.top=y.offset().top-y.offsetParent().offset().top),p=y[0].getBoundingClientRect(),C.isContentLibraryRTL()?p.right-a-5:p.left+a+n+5),d.top),p=g,d=h=(h+=parseInt(y.css("margin-top"),10))+C.utilities.getVideoPlayerHeight(),l=f/2+(o=k(o=function(e,t,n,i,a,r,o,l,s){var u=t-n.left,c=n.right-t,d=0,p=0;if(Math.abs(u-c)>2*i)for(;d!==e;)p=e,u<a&&(p-=i),c<r&&(p+=i),p===d&&(p<d?C.isLibraryRTL()&&(p=d):C.isLibraryRTL()||(p=d)),d=e,a=o/2+(e=p)+l,r=S(s,e,o,l);return e}(o,g,s,5,l,m,f,a,r),n,5,r,a,i))+a,m=S(r,o,f,a),h=b("#regionHeader").height(),y.offset().top-b(window).scrollTop()-h<0?(p=C.isContentLibraryRTL()?s.right-m:s.left+l,d=b(window).scrollTop()+h):d+=h,d=d-e.outerHeight()-t,p=function(e,t,n,i,a,r){C.isLibraryRTL()?(e<t&&(e=n.left),a<e+i&&(e=n.right-i-2*r)):(e=a<e+i?n.right-i-2*r:e)<t&&(e=n.left);return e}(p-=l,u,s,r,c,a),o=k(o,n,5,r,a,i),g=v,f=d,y=p,(m=e).addClass("triangle-center-"+o),m.css("margin",0),m.css("top",f).css("left",y),A(),window.setTimeout(function(){b(document).one("scroll.contextMenuDismiss click.contextMenuDismiss",function(e){x()})},500)))}))},removeContextMenu:x,setupMenuEvent:A}}(jQuery,app),!function(o,l){o("audio");var s,u,c,d=!1;function p(e){return Math.round(1e6*e)/1e6}function h(e){try{var t=e.toString().match(/(\d\d):(\d\d):(\d\d\.\d\d\d)/);return p(3600*parseInt(t[1],10)+60*parseInt(t[2],10)+parseFloat(t[3]))}catch(e){return null}}function g(e){var t,e="string"!=typeof e?(i=(e=o(e)).data("pid"),l.getVerseNumberFromIDAttribute(e.attr("id"))):(i=l.getParagraphIDFromIDAttribute(e),l.getVerseNumberFromIDAttribute(e)),n=i||e,i=(n=parseInt(n,10),l.getDID());if(l.audioMarkers&&o.isNumeric(n)){if(i&&l.audioMarkerData.documentId&&i!=l.audioMarkerData.documentId)return null;t=o.grep(l.audioMarkerData.markers,function(e,t){return e.mepsParagraphId===n||e.verseNumber===n})}return t&&0<t.length?t[0]:null}function r(){l.media.previousSelector=null;var e=o(".currentMarker");return e.removeClass("currentMarker"),e}function t(e){n(function(i){var a=null;if(!l.audioMarkerData)return!1;var r=l.audioMarkerData.type;return o.each(l.audioMarkerData.markers,function(e){var t=Math.max(h(this.startTime),l.video.timeChangeDebounceTime),n=t+h(this.duration);if(t<=i&&i<=n)return"bible"===r?a=sprintf("#content [id^=v%s-%s-%s-]",l.audioMarkerData.bibleBookNumber,l.audioMarkerData.bibleBookChapter,this.verseNumber):"publication"===r&&(a=sprintf("#content [data-pid='%s']",this.mepsParagraphId)),!1}),a}(e))}function n(e){var t,n,i,a;e===l.media.previousSelector||o("html, body").is(":animated")||(t=r(),(n=o(e)).addClass("currentMarker"),l.media.previousSelector=e,0<n.length&&(e=t,t=n,0===o("#contextMenu").length&&(0<e.get().reduce(function(e,t){return e+l.layout.pixelsScrolledIntoView(t)},0)||l.mediaMarker.autoScrollEnabled)&&(e=t[0],n=l.layout.pixelsScrolledIntoView(e),i=e.getBoundingClientRect().height,t=t[t.length-1],a=l.layout.pixelsScrolledIntoView(t),t=t.getBoundingClientRect().height,(n<i||a<t)&&(n=o(window).scrollTop(),i=o("#regionHeader").outerHeight(),a=e.getBoundingClientRect().top,(t=parseInt(o("#regionMain.hasVideoPlayer .articlePositioner").css("margin-top"),10))&&(i=Math.max(i,t)),e=n-i+a,o("html, body").animate({scrollTop:e},function(){l.mediaMarker.autoScrollEnabled=!0})))))}function e(e){l.contextMenu.setupMenuEvent(e),o("html, body").stop(!0,!1),r()}l.mediaMarker={initAudioMarkers:function(){u=document.getElementById("wolplayer"),c=u.player,l.iOS?(u.addEventListener("timeupdate",function(e){t(e.target.currentTime)}),u.addEventListener("pause",e)):(c.media.addEventListener("timeupdate",function(e){t(e.target.currentTime)}),c.media.addEventListener("pause",e))},getMarker:g,clearMarkers:r,playSelected:function(e){var t,n,i,a,r,o;e=e,r=0,l.media.showAudioPlayer(),(o=g(l.utilities.getFirstActionableIdInScope(!1,e)))&&void 0!==u&&(a=h(o.startTime),e.each(function(e){var t=g(this);t&&(r+=h(t.duration))}),clearTimeout(s),l.iOS||void 0===c?(i=function(){s=setTimeout(function(){},1e3*r)},!d&&isNaN(u.duration)?(u.play(),u.pause(),u.addEventListener("canplay",function(e){e.target.removeEventListener(e.type,arguments.callee),u.addEventListener("progress",function(e){e.target.removeEventListener(e.type,arguments.callee),u.currentTime=a,u.addEventListener("seeked",function(e){e.target.removeEventListener(e.type,arguments.callee),u.play(),d=!0,i()})})})):(u.setCurrentTime(a),t=window.setInterval(function(){u.currentTime===a?(u.play(),window.clearInterval(t)):u.setCurrentTime(a)},100),i())):(i=function(){clearTimeout(s),s=setTimeout(function(){},1e3*r)},d?(c.setCurrentTime(a),t=window.setInterval(function(){p(u.currentTime)===a?(c.play(),window.clearInterval(t)):c.setCurrentTime(a)},100),i()):(c.play(),n=function e(t){t.target.removeEventListener(t.type,e),c.setCurrentTime(a),c.play(),d=!0,i()},l.WindowsPhone?c.media.addEventListener("progress",n):(c.media.addEventListener("loadeddata",n),c.media.addEventListener("playing",function e(t){t.target.removeEventListener(t.type,e),c.media.addEventListener("timeupdate",n)})))))},stop:function(){l.iOS?(u.pause(),u.setCurrentTime(0)):(c.pause(),c.setCurrentTime(0)),r()},updateVideoPosition:function(e){n(function(e){var t;null!=e&&(e.paragraph?t=sprintf("#content [data-pid='%s']",e.paragraph):e.chapter&&(t=sprintf("#content [id^=v%s-%s-%s-]",l.getBookNumber(),e.chapter,e.verse)));return t}(e))},autoScrollEnabled:!1}}(jQuery,app),!function(s,u){"use strict";function n(e,t,n,i,a){var r=o(e);return r[t]=n,l(r,e,i,a)}function t(e){var e=/(\d+):*(\d*)-*(\d*):*(\d*)/.exec(URI(e||location.href).fragment(!0).h);return e?(e={stPar:parseInt(e[1],10),stOff:parseInt(e[2],10),edPar:parseInt(e[3],10),edOff:parseInt(e[4],10)},isNaN(e.stOff)&&(e.stOff=0),isNaN(e.edPar)?(e.edPar=e.stPar+1,e.edOff=0):isNaN(e.edOff)&&(e.edPar+=1,e.edOff=0),e):null}function o(e){e=e||window.location.href;var e=URI(e).fragment(),t={};return 0<e.length&&e.split("&").forEach(function(e){e=e.split("="),t[e[0]]=e[1]||""}),t}function l(n,e,t,i){e=e||window.location.href;var a=Object.keys(n).sort().reduce(function(e,t){return 0<t.length?e+"&"+t+(0<n[t].length?"="+n[t]:""):e},"#"),e=(a=(a=a.replace(/#&/,"#")).replace(/#$/,""),e.split("#",1)[0]);return e+=a,u.layout.isPrintingScreen()||(!i&&!0!==i&&Modernizr.history&&history.replaceState(null,window.location.title,e),!t&&!0!==t&&Modernizr.history&&history.pushState(null,window.location.title,e)),e}function i(e,t,n,i){var a=o(t);return delete a[e],l(a,t,n,i)}u.url={convertPFragmentToHFragment:function(){Object.keys(URI().fragment(!0)).forEach(function(e){var t;e.startsWith("p")&&(t=e.split("p"))[1]&&Number(t[1])&&(u.url.removeUrlFragmentByKey(e,null,!0,!1),e=window.location.href,u.url.setUrlFragmentByKey(e,"h",t[1],!0,!1))})},matchUrlToHighlight:function(){var o,e="h="+URI().fragment(!0).h,t=u.highlightManager.getHighlightUrlFragment(2<e.length);e.startsWith(t)||(o=window.location.href,s("[id]").each(function(e,t){var n,i,a,r;t=t.id,a=i=!0,n=(n=o)||window.location.href,r=URI(n).fragment(),o=t!==r?n:l({},n,i,a)}),o=i("h",o,!0,!0),o=i("v",o,!0,!0),e=(t=null!=(t=null!=(t=u.highlightManager.getHighlightUrlFragment())&&t.startsWith("h=")&&e.split("-")[0].split(":")[0]===t.split("-")[0].split(":")[0]&&-1!==t.indexOf("-")?e.split("-")[0]+"-"+t.split("-")[1]:t)?t.split("=",2):["",""])[0],t=t[1]||"",n(o,e,t,!0,!1))},getHighlightTextRangeFromUrl:t,getParagraphRangeFromUrl:function(){var e=t();return e&&0===e.edOff&&--e.edPar,e},getVersesFromUrl:function(e){var i,a,t,e=URI(e||location.href).fragment(!0).v,n=s();return n=null!=e?-1!==e.indexOf("-")?(1===(e=e.split("-",2)).length&&(e[1]=e[0]),i=e[0].split(":").map(function(e){return parseInt(e,10)}),a=e[1].split(":").map(function(e){return parseInt(e,10)}),t=s("[id^=v].v").map(function(e,t){return[t.id.replace("v","").split("-")]}),t=s.grep(t,function(e){if((e=e.map(function(e){return parseInt(e,10)}))[0]<i[0]||e[0]>a[0])return!1;var t=a[0]>e[0]?Number.MAX_VALUE:a[1],n=i[0]<e[0]?Number.MIN_VALUE:i[1];if(e[1]<n||e[1]>t)return!1;t=t>e[1]?Number.MAX_VALUE:a[2],n=n<e[1]?Number.MIN_VALUE:i[2];return!(e[2]<n||e[2]>t)}),s.map(t,function(e){e="#v"+e[0]+"-"+e[1]+"-"+e[2]+"-"+e[3];return s(e)})):u.utilities.getAllVerseSegmentsFromIDAttribute("v"+e.replace(/:/g,"-")):n},getVerseRangeFromUrl:function(){var e,t,n={};return t=URI(t||location.href).fragment(!0).v,e=[],(t=e=null!=t?t.split("-",2):e).length&&(e=t[0].split(":").map(function(e){return parseInt(e,10)}),n.startBook=e[0],n.startChapter=1<e.length?e[1]:-1,n.startVerse=2<e.length?e[2]:-1,t=1<t.length?t[1].split(":").map(function(e){return parseInt(e,10)}):e,n.endBook=t[0],n.endChapter=1<t.length?t[1]:-1,n.endVerse=2<t.length?t[2]:-1),n},makeDateDataUrl:function(e,t,n,i){var t=new Date(e.getTime()+864e5*t),a=u.getUILanguage(),r=u.getRsConfigSymbol(),o=u.getLibrarySymbol(),l=null,i=(i&&(a=u.getContentUILanguage(),r=u.getContentRsConfigSymbol(),o=u.getContentLibrarySymbol()),e.getHours()!==t.getHours()&&(t=new Date(t.getTime()+36e5)),u.getCommand(n)),e=s("#newMeetingsPage").val();return n?r&&o&&(l=sprintf("/wol/dt/%s/%s/%d/%d/%d",r,o,t.getFullYear(),t.getMonth()+1,t.getDate())):"meetings"===i||"msync"===i||e?a&&r&&o&&(u.utilities.getWeekNumber(t),n=u.utilities.getWeekNumber(t),l=sprintf("/%s/wol/meetings/%s/%s/%d/%d",a,r,o,n[0],n[1])):a&&r&&o&&(l=sprintf("/%s/wol/dt/%s/%s/%d/%d/%d",a,r,o,t.getFullYear(),t.getMonth()+1,t.getDate())),l},makeDailyTextUrl:function(e){var t=u.getContentUILanguage(),n=u.getContentRsConfigSymbol(),i=u.getContentLibrarySymbol(),a=null;return a=t&&n&&i?sprintf("/%s/wol/h/%s/%s/%d/%d/%d",t,n,i,e.getFullYear(),e.getMonth()+1,e.getDate()):a},removeUrlFragmentByKey:i,getUrlFragmentValueByKey:function(e,t){return o(e)[t]},setFragmentToPropagate:function(){u.isDocument()||s("a.resultsNavDocumentLink, .resultAlternatePubList a").on("click",function(){var e=URI();e.hasFragment("s")&&e.removeFragment("s"),(e.hasFragment("h")||e.hasFragment("v"))&&(function(e){var n=!1,i=[],e=e.fragment(!0).h,e=null!=e?e.split("-"):[];0<e.length&&s.each(e,function(e,t){t=t.split(":"),i.push(parseInt(t[0],10)),t="#p"+t[0];0<s(t).length&&(n=!0)});{var t;n||(e=s("#article").find("[data-pid]").filter(":first").data("pid"),t=s("#article").find("[data-pid]").filter(":last").data("pid"),i[0]<e&&i[1]>t&&(n=!0))}return n}(e)||function(e){e=e.fragment(!0).v,e=null!=e?e.split("-"):[];{var t,n,i;if(0<e.length)return t=u.getBookNumber(),n=u.getChapterNumber(),i=e[0].split(":").map(function(e){return parseInt(e,10)}),e=null!=e[1]?e[1].split(":").map(function(e){return parseInt(e,10)}):i,i[0]<=t<=e[0]&&i[1]<=n<=e[1]}}(e))&&(this.href=this.href.split("#")[0]+"#"+e.fragment())})},setUrlFragmentByKey:n,disableDisabledNextPrevButtons:function(){s(".resultNavLeft .disabled, .resultNavRight .disabled").find("a").on("click",function(e){e.preventDefault()})},matchUrlToSelection:function(){var e=i("s",window.location.href,!0,!0),t=u.studyPane.getSelectionUrlFragment();n(e,(t=null!=t?t.split("=",2):["",""])[0],t[1]||"",!0,!1)},matchUrlToStudyPane:function(){var e,t=window.location.href;s("#study").is(":visible")?n(t=i("study",t,!0,!0),(e=null!=(e=u.studyPane.getNavigationTabFragment())?e.split("=",2):["",""])[0],e[1]||"",!0,!1):i("study",t,!0,!1)},simplifyHighlightFragment:function(e){var e=i("h",e,!0,!0),t=(e=i("v",e,!0,!0),u.highlightManager.getHighlightUrlFragment());return n(e,(t=null!=t?t.split("=",2):["",""])[0],t[1]||"",!0,!0)}}}(jQuery,app),!function(n,i){"use strict";function t(e){var t=!navigator.userAgent.match(/IEMobile/);e.jumpTo({},t),0<n("#study").length&&i.studyPane.isStudyPaneVisible()&&(e=i.highlightManager.getFirstHighlightedId(),i.getVerseNumberFromIDAttribute(e)&&(t=i.studyPane.createSectionKeyFromVerseKey(e),0<(e=n("[data-key="+t+"]")).length&&e.scrollToTop({duration:250,easing:"easeOutExpo",topOffset:-i.studyPane.getStudyPaneScrollOffset()})))}function a(){var e=n(".hl, .mk, .mkhl");return"s"!==i.getCommand()&&0<e.length&&(t(e),!0)}i.jumpHighlight={internalLinkHandler:function(e){e=e.target.location,(e=URI(e)).directory()===URI().directory()&&(i.highlightManager.removeHighlight(!0),i.highlightManager.highlight(e.fragment()),i.jumpHighlight.jumpToMarkOrHighlight(),document.activeElement&&document.activeElement.blur())},hasHashJump:function(){var e=window.location.hash,t=URI();return!!(0<e.length&&(t.hasFragment("h")||t.hasFragment("v")||t.hasFragment("p")||document.getElementById(e.substr(1))))},jumpToMarkOrHighlight:a,hashJump:function(e){var t,e=e?e.target.hash||e.currentTarget.hash:window.location.hash;try{t=n(e)}catch(e){}return t&&0<t.length?t.jumpTo({},!0):a()},jumpToElement:t,initialJump:function(){return function(){var e=window.location.hash;try{return 0<e.length&&n("#article").find(e.substr(1))?(t(n("#article").find(e.substr(1))),!0):!1}catch(e){return!1}}()||a()||i.studyPane.jumpToSelectedVerse()}}}(jQuery,app),!function(l,s){var u="studyDiscover",c="selected",d="collapsed",i={discover:"studyDiscover",parallel:"studyParallel",marginal:"studyMarginals"};function t(e){(e=l(e)).addClass(c),s.url.matchUrlToSelection()}function e(){return l("#article").find("."+c).first()}function n(){e().closest(".v").scrollIntoView({topOffset:l("#regionHeader").height()+10})}function a(){l("span.tt."+c).removeClass(c),s.url.matchUrlToSelection()}function p(){l("#study").find("."+c).removeClass(c)}function r(e){a(),t(e);e=l(e).closest("[id]");0<e.length&&A(e[0].id,!1)}function o(){return s.layout.toggleStudyPane(!0),r(l(this).children("span.cl, span.vl")),x(u)||(l(".tabItem.parallel").not(".active").addClass("flash"),setTimeout(function(){l(".tabItem.parallel").removeClass("flash")},2e3)),!1}function h(){return s.layout.toggleStudyPane(!0),L(u),a(),l(this).children("span.tt.fn").addClass(c),k("verseFootnote-"+l(this).data("fnid")),!1}function g(){return s.layout.toggleStudyPane(!0),L(u),a(),l(this).children("span.tt.m").addClass(c),C("verseMarginal-"+l(this).data("bid").split("-")[0]),!1}function m(){a();var e="#v"+l(this).data("key")+"-1";t(l(".bible").find(e).find(".tt").first());A(e,!1),n()}function f(){if(l(this).hasClass("populated"))return!1;var e=l(this).data("extractId"),t=e;return a(),t=t.split("-")[1],(t=l("#article").find('a[data-bid="'+t+'-1"]')).length&&(t.closest("[id]").scrollToTop({duration:250,easing:"easeOutExpo",topOffset:v()}),t.find(".tt").addClass(c,100,"easeOutElastic")),C(e),!1}function y(){var e=l(this).data("extractId"),t=e;return a(),t=t.split("-")[1],(t=l('a[data-fnid="'+t+'"]')).length&&(t.scrollToTop({duration:250,easing:"easeOutExpo",topOffset:v()}),t.find(".tt").addClass(c,100,"easeOutElastic")),k(e),!1}function v(){return l("#regionHeader").height()}function b(){return parseFloat(l(".navigationTabsContainer").css("border-bottom-width"))}function C(n){p();var e=l(w(n)),t=l(e).data("src")+"?snip=yes";e.removeClass(d),e.addClass(c),e.parent().parent().scrollToTop({duration:250,easing:"easeOutExpo",topOffset:-b()}),S(n,"loading").hide().removeClass("hidden").show(250,"easeOutExpo",function(){s.web.ajax(t).done(function(e){var t=n,e=(w(t).addClass("populated"),S(t,"loading").hide(),(t=l("[data-extract-target-id='"+t+"'].extract")).hide().empty().append(e).show(),t.append('<div class="padding">&nbsp;</div>'),t);(e=1<(e=l(e).find(".tooltipVideo")).length?e.filter(":visible"):e).each(function(e,t){t=l(t),s.video.setupTooltipPlayer(t.attr("id"),parseFloat(t.data("startTime")),parseFloat(t.data("duration")),!1)}),s.setupTooltip(t)})}),S(n,"extract").empty().addClass(c)}function w(e){return l("[data-extract-id='"+e+"']")}function S(e,t){return l("[data-extract-target-id='"+e+"']."+t)}function k(e){l("#study").find("li.selected").removeClass(c);e=l(w(e));e.addClass(c),e.parent().parent().scrollToTop({duration:250,easing:"easeOutExpo",topOffset:-b()})}function A(e,t){var n,i,a,r,e=E(e),t=(p(),t&&L(u),u),o=e,t=(o=l(T(t,e)),l(T(t,null)).removeClass(c),o.addClass(c).find(".group.collapsible").removeClass(d),e);t&&"undefined"!==t&&0<t.length&&((o=l("#studyParallel")).find(".helpText").hide(),o.find(".extract").empty(),o.find(".loading").hide().removeClass("hidden").show(250,"easeOutExpo"),t=(o=t.split("-"))[0],e=o[1],o=o[2],n=s.getContentRsConfigSymbol(),i=s.getContentLibrarySymbol(),a=s.getPubSym(),s.getContentLibraryLanguageSymbol(),s.getPubYear(),r=s.getContentUILanguage(),r=sprintf("/%s/wol/parallel/%s/%s/%s/%s/%s/%s?snip=yes",r,n,i,a,t,e,o),s.web.ajax(r).done(function(e){var t;e=e,(t=l("#studyParallel")).find(".loading").hide(),t.find(".extract").append(e),s.setupTooltip(l(".extract"))}))}function x(e){e=l(T(e)+"."+c);return 0<e.length&&(e.each(function(e,t){l(t).scrollIntoView()}),!0)}function T(e,t){return null!=t&&0<t.length?"#"+e+" .section[data-key="+t+"]":"#"+e+" .section"}function E(e){e=e.split(/[v,-]/);return e.shift(),e.pop(),e.join("-")}function P(){var e=l(this).parent(),t=!e.hasClass(d);e.toggleClass(d,t,250,"easeOutExpo")}function I(){var e=l(this),t=!e.hasClass(d);e.toggleClass(d,t,250,"easeOutExpo"),e.hasClass("populated")||e.find("a.title").trigger("click")}function L(e){s.tabs.activateContent(l(".navigationTabs [data-related-content="+e+"]"))}function _(e){var t,n=l("#article.bible");0<n.length&&!s.layout.isFloatingMode()&&(t=n.find(".fn.mkhl"),n=n.find(".m.mkhl"),0<t.length?t.each(h):0<n.length?n.each(g):0<e.item.length&&o.bind(e.item)())}s.studyPane={init:function(){var e;(e=l("#article.bible")).find(".cl").each(function(){l(this).append('<span class="tt cl"></span>')}),e.find(".vl").each(function(){l(this).append('<span class="tt vl"></span>')}),e.find("a.fn").each(function(){l(this).append('<span class="tt fn"></span>')}),e.find("a.b").each(function(){l(this).append('<span class="tt m"></span>')}),0<(e=l("#article.bible")).length&&(e.find(".tt.cl").parent().closest(".cl").on("click",o),e.find(".tt.vl").parent().closest(".vl").on("click",o),e.find("span.tt.fn").closest("a").on("click",h),e.find("span.tt.m").closest("a").on("click",g),l(document).on("markhighlighchanged",_)),(e=l("#study")).find(".group.collapsible .header").on("click",P),e.find(".item.collapsible").on("click",I),e.find("div.overview.chapterOnly .collapsible").on("click",function(){l(this).toggleClass("expanded",250,"easeOutExpo"),l(this).toggleClass("collapsed",250,"easeOutExpo")}),e.find("div.overview.chapterOnly a").on("click",function(e){e.stopPropagation()}),e.find(".marginalExpander").each(function(){l(this).on("click",f)}),e.find(".marginalExpander").on("click",".content",function(e){e.stopPropagation()}),e.find("li.footnote").on("click",y),e.find("a.galleryItem").on("click",s.gallery.handleGalleryItem),l("#studyDiscover").find(".section").on("click",m)},createSectionKeyFromVerseKey:E,getStudyPaneScrollOffset:b,getSelectionUrlFragment:function(){var e=l("span.tt.vl."+c).closest("[id]");return 0<e.length?"s="+s.getVerseNumberFromIDAttribute(e.attr("id")):null},processSelectUrlFragment:function(){var e=s.utilities.getFirstIdMatchingVerseNumber(URI().fragment(!0).s);a(),0<e.length&&r(e.first().find("span.tt.vl"))},getNavigationTabFragment:function(){var e=l(".showStudy .navigationTabs [data-related-content].active");return 0<e.length?"study="+function(e){for(var t=Object.keys(i),n=0;n<t.length;n++)if(i[t[n]]===e)return t[n]}(e.data("relatedContent")):null},jumpToSelectedVerse:function(){return 0<e().length&&(x(u),n(),!0)},processStudyUrlFragment:function(){var e=URI().fragment(!0).study;(e=i[e])&&(L(e),s.layout.toggleStudyPane(!0))},isStudyPaneVisible:function(){var e=l("#study");if(s.layout.isFloatingMode()){if(e.is(".activePane.slideIn"))return!0}else if(e.hasClass("activePane"))return!0;return!1}}}(jQuery,app),!function(r,o){var n=!1;function i(e,t){var e=r(e),n=new URI(e.find("img").data("src")),n=(n.setQuery("snip","yes"),n.toString()),i=e.find("a").attr("href"),a=r(".itemContainer");return c(!0),a.addClass("faded"),o.web.ajax(n).done(function(e){a.html(e).removeClass("faded").show(250,"easeOutExpo",function(){var e=r(".gallerySelectedItem");o.video.setupEmbeddedVideoPlayer(e)}),c(!1),o.setupTooltip(a),p(i),l(t,!t),o.utilities.isGalleryNav()&&Modernizr.history&&window.history.pushState(null,"",i)}).fail(function(){c(!1)}),!1}function l(e,t){0<r("#galleryModal").length&&(a(),o.media.prepareGalleryCaptionAudio(),u(),c(!1),e&&(r(".mediaCaption").addClass("hidden"),r(".mediaContent").imagesLoaded().then(function(){r(".mediaCaption").removeClass("hidden");var e=r(".mediaContent img"),t=o.images.setupLightboxItems(e);r(e).on("click",this,function(){o.images.callLightbox(this,t)}).css("cursor","pointer")})),t&&d(),r("#galleryModalContainer").hasClass("fadeIn")&&r("body").addClass("galleryUnderlay noscroll"))}function s(){var e=r(".carouselContainer .tile"),t=r("#galleryModal");e.on("click",function(){return o.video.findPlayingPlayers(t).forEach(function(e){o.video.destroyPlayers(e)}),i(this,!0)})}function a(){r("span.citationWithMedia a.b").filter(function(){return 0===r(this).children().length}).each(function(e,t){r(t).prepend('<span class="icon"></span>'),t.href=t.href+"/media"})}function u(){var e=r(".gallerySelectedItem"),t=e.data("mmidx"),e=e.data("chapter"),n=r(".carouselContainer"),t="[data-mmidx='"+t+"']";n.find(".selected").removeClass("selected"),e&&(t+="[data-chapter='"+e+"']"),n.find(t).addClass("selected").scrollIntoView({direction:"horizontal"})}function c(e){var t=r("#galleryModal").find(".loading");e?t.removeClass("hidden"):t.addClass("hidden")}function d(){r("#galleryModal").find(".closeBtn").on("click",h),r("body").on("keydown",t)}function t(e){27!==e.which||r("div.pswp").is(":visible")||(h(),r("body").off("keydown",t))}function p(e){e=parseInt(o.url.getUrlFragmentValueByKey(e,"chapter"),0);e&&r(".gallerySelectedItem").data("chapter",e)}function h(){var e=r("#galleryModalContainer");if(e.hasClass("fadeOut"))return!1;r("#galleryModal").find(".closeBtn").off("click");var t=r("#galleryPlayer").get(0);return t&&t.pause(),t=r("#galleryModal"),o.video.findPlayingPlayers(t).forEach(function(e){o.video.destroyPlayers(e)}),r("body.galleryUnderlay").removeClass("galleryUnderlay noscroll"),e.removeClass("fadeIn animated"),e.addClass("fadeOut animated"),r(".gallery, .navigationContents").removeClass("hasGalleryModalContainer"),o.utilities.isGalleryNav()&&(n?window.history.back():((t=window.location.href.split("/")).pop(),e=t.join("/"),window.history.replaceState(null,"",e))),!1}o.gallery={setupGalleryMediaReload:function(){window.onpopstate=function(e){if("gallery"===URI().segment(2)&&Modernizr.history){var t=r(".carouselContainer .tile"),n=document.location.pathname+document.location.hash,t=t.find('a[href="'+n+'"]');if(t[0])return i(t[0].parentElement,!0)}}},scrollCarouselIntoView:u,initGallery:function(){r(".gallery").find("a.galleryItem").on("click",o.gallery.handleGalleryItem),s()},initGalleryItem:l,handleGalleryItem:function(e){var t,n=this.href,i=n.split("#")[0]+"?snip=yes",a=((t=r("#galleryModal")).find(".contents").empty(),t.find(".loading").removeClass("hidden"),r("#galleryModalContainer"));return r("body").addClass("galleryUnderlay noscroll"),r("#galleryModal").on("click",function(e){e.stopPropagation()}),a.one("click",h),a.removeClass("fadeOut animated"),a.addClass("fadeIn animated"),r(".gallery, .navigationContents").addClass("hasGalleryModalContainer"),t.show(),o.web.ajax(i).done(function(e){e=e,r("#galleryModal").find(".contents").append(e);e=r(".gallerySelectedItem");o.video.setupEmbeddedVideoPlayer(e),o.setupTooltip(e),s(),o.gallery.setupGalleryMediaReload(),p(i),o.gallery.initGalleryItem(!0,!0),o.utilities.isGalleryNav()&&Modernizr.history&&(window.history.pushState(null,"",n),window.scroll(0,0))}).fail(function(){c(!1),d()}),e.preventDefault(),!1},handlePlayPauseButton:function(e){var t=r(e.currentTarget),n=document.getElementById("galleryPlayer");t.hasClass("playBtn")?(t.removeClass("playBtn").addClass("pauseBtn"),n.currentTime=0,n.play(),e.stopPropagation()):t.hasClass("pauseBtn")&&(t.removeClass("pauseBtn").addClass("playBtn"),n.pause(),e.stopPropagation())},setGalleryItemChapterNumberFromUrl:p,setupCitationsWithMedia:a}}(jQuery,app),!function(){"use strict";app.validator={containsNoTags:function(e){var t,n=!1,i=e;if("string"!=typeof i)return!1;for(;n|=-1!==(t=e=i).indexOf("<")||-1!==t.indexOf(">")||/(&#x0*3(c|e))|(&#0*6(0|2))|(\\u003(c|e))/i.test(t),i=decodeURIComponent(e),e!==i;);return!n},isValidLocale:function(e){return/^[\w\-]{2,10}$/.test(e)},isValidRsconf:function(e){return/^[\w\-]{2,10}$/.test(e)},isValidLib:function(e){return/^[\w\-]{2,10}$/.test(e)}}}(jQuery),Handlebars.registerHelper("getUrl",function(e,t,n){"use strict";var i=URI().query(!0).url;return i&&0<i.length?new Handlebars.SafeString(i.replaceToken("locale",e).replaceToken("rsconf",t).replaceToken("library",n)):""}),Handlebars.registerHelper("getLocale",function(){"use strict";return app.getUILanguage()}),Handlebars.registerHelper("getRsconf",function(){"use strict";return app.getRsConfigSymbol()}),Handlebars.registerHelper("getLib",function(){"use strict";return app.getLibrarySymbol()}),Handlebars.registerHelper("toString",function(e){"use strict";return""+e}),Handlebars.registerHelper("toLower",function(e){"use strict";return e.toLowerCase()}),Handlebars.registerHelper("toJson",function(e){"use strict";return JSON.stringify(e)}),Handlebars.registerHelper("isNotCurrentRsconfLib",function(e,t){"use strict";return app.getRsConfigSymbol()!=="r"+e&&app.getLibrarySymbol()!==t}),Handlebars.registerHelper("hasRubyTag",function(e){return-1!==e.indexOf("<ruby>")}),Handlebars.registerHelper("getValueByPath",function(){"use strict";for(var e=arguments[arguments.length-1].data.root,t=0;t<arguments.length-1;t++)try{e=e[arguments[t]]}catch(e){return null}return e}),Handlebars.registerHelper({isArray:function(e){"use strict";return Array.isArray(e)},isBoolean:function(e){"use strict";return"boolean"==typeof e},isString:function(e){"use strict";return"string"==typeof e},isNull:function(e){"use strict";return null==e}}),Handlebars.registerHelper({isoDateToYmd:function(e){"use strict";var t;return"string"==typeof e?(t=e.split(/[: T-]/).map(parseFloat))[0]+"-"+t[1]+"-"+t[2]:e},isoDateToYmdHms:function(e){"use strict";var t;return"string"==typeof e?(t=e.split(/[: T-]/).map(parseFloat))[0]+"-"+t[1]+"-"+t[2]+" "+t[3]+":"+t[4]+":"+t[5]:e}}),Handlebars.registerHelper({add:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e+=arguments[t]);return e},subtract:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e-=arguments[t]);return e},multiply:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e*=arguments[t]);return e},divide:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e/=arguments[t]);return e},modulus:function(){"use strict";for(var e=0,t=arguments.length;t--;)"number"==typeof arguments[t]&&(e%=arguments[t]);return e}}),Handlebars.registerHelper({eq:function(e,t){"use strict";return e===t},ne:function(e,t){"use strict";return e!==t},lt:function(e,t){"use strict";return e<t},gt:function(e,t){"use strict";return t<e},lte:function(e,t){"use strict";return e<=t},gte:function(e,t){"use strict";return t<=e},and:function(e,t){"use strict";return e&&t},or:function(e,t){"use strict";return e||t},not:function(e){"use strict";return!e}}),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates.Banner=Handlebars.template({1:function(e,t,n,i,a){return" bannerHidden"},3:function(e,t,n,i,a){var r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="bannerDismissible" data-save-dismiss="'+l((e(n,"toString")||t&&e(t,"toString")||o).call(r,null!=t?e(t,"isPermanentlyDismissible"):t,{name:"toString",hash:{},data:a,loc:{start:{line:3,column:59},end:{line:3,column:96}}}))+'" data-dismiss-id="'+l("function"==typeof(l=null!=(l=e(n,"dismissibleBannerId")||(null!=t?e(t,"dismissibleBannerId"):t))?l:o)?l.call(r,{name:"dismissibleBannerId",hash:{},data:a,loc:{start:{line:3,column:115},end:{line:3,column:138}}}):l)+'">\n            <span class="icon"></span>\n        </span>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var r,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="banner '+e.escapeExpression("function"==typeof(o=null!=(o=u(n,"messageClasses")||(null!=t?u(t,"messageClasses"):t))?o:s)?o.call(l,{name:"messageClasses",hash:{},data:a,loc:{start:{line:1,column:19},end:{line:1,column:37}}}):o)+(null!=(r=u(n,"if").call(l,null!=t?u(t,"dismissibleBannerId"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:37},end:{line:1,column:84}}}))?r:"")+'">\n'+(null!=(r=u(n,"if").call(l,(u(n,"or")||t&&u(t,"or")||s).call(l,null!=t?u(t,"isDismissible"):t,null!=t?u(t,"isPermanentlyDismissible"):t,{name:"or",hash:{},data:a,loc:{start:{line:2,column:10},end:{line:2,column:53}}}),{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:4},end:{line:6,column:11}}}))?r:"")+'    <div class="bannerContent">\n    '+(null!=(r="function"==typeof(o=null!=(o=u(n,"message")||(null!=t?u(t,"message"):t))?o:s)?o.call(l,{name:"message",hash:{},data:a,loc:{start:{line:8,column:4},end:{line:8,column:17}}}):o)?r:"")+"\n    </div>\n</div>\n"},useData:!0}),this.Handlebars.templates.CardHeader=Handlebars.template({1:function(e,t,n,i,a){var r,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    class="\n    cardThumbnailImage\n'+(null!=(r=s(n,"if").call(o,null!=t?s(t,"hideThumbnailImage"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:5,column:4},end:{line:9,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"isNull")||t&&s(t,"isNull")||l).call(o,null!=t?s(t,"type"):t,{name:"isNull",hash:{},data:a,loc:{start:{line:10,column:10},end:{line:10,column:23}}}),{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.program(14,a,0),data:a,loc:{start:{line:10,column:4},end:{line:53,column:11}}}))?r:"")+"\n"+(null!=(r=s(n,"if").call(o,null!=t?s(t,"iconSymbol"):t,{name:"if",hash:{},fn:e.program(23,a,0),inverse:e.program(25,a,0),data:a,loc:{start:{line:55,column:4},end:{line:59,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"or")||t&&s(t,"or")||l).call(o,null!=t?s(t,"englishSymbol"):t,null!=(r=null!=t?s(t,"publicationToken"):t)?s(r,"englishSymbol"):r,{name:"or",hash:{},data:a,loc:{start:{line:60,column:10},end:{line:60,column:59}}}),{name:"if",hash:{},fn:e.program(27,a,0),inverse:e.noop,data:a,loc:{start:{line:60,column:4},end:{line:62,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,null!=(r=null!=t?s(t,"publicationToken"):t)?s(r,"englishSymbol"):r,{name:"if",hash:{},fn:e.program(29,a,0),inverse:e.noop,data:a,loc:{start:{line:63,column:4},end:{line:65,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,null!=t?s(t,"englishSymbol"):t,{name:"if",hash:{},fn:e.program(31,a,0),inverse:e.noop,data:a,loc:{start:{line:66,column:4},end:{line:68,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,null!=t?s(t,"categories"):t,{name:"if",hash:{},fn:e.program(33,a,0),inverse:e.noop,data:a,loc:{start:{line:69,column:4},end:{line:73,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,null!=t?s(t,"pubType"):t,{name:"if",hash:{},fn:e.program(36,a,0),inverse:e.noop,data:a,loc:{start:{line:74,column:4},end:{line:76,column:11}}}))?r:"")+'\n    " \n'+(null!=(r=s(n,"if").call(o,null!=(r=null!=t?s(t,"publicationToken"):t)?s(r,"englishSymbol"):r,{name:"if",hash:{},fn:e.program(38,a,0),inverse:e.noop,data:a,loc:{start:{line:79,column:4},end:{line:81,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,null!=t?s(t,"englishSymbol"):t,{name:"if",hash:{},fn:e.program(40,a,0),inverse:e.noop,data:a,loc:{start:{line:82,column:4},end:{line:84,column:11}}}))?r:"")},2:function(e,t,n,i,a){return"        hidden\n"},4:function(e,t,n,i,a){return"        thumbnail\n"},6:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=r(n,"if").call(null!=t?t:e.nullContext||{},null!=t?r(t,"cardImageType"):t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.program(9,a,0),data:a,loc:{start:{line:11,column:8},end:{line:22,column:15}}}))?n:""},7:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            "+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"cardImageType")||(null!=t?r(t,"cardImageType"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"cardImageType",hash:{},data:a,loc:{start:{line:12,column:12},end:{line:12,column:29}}}):n)+"\n"},9:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=r(n,"if").call(null!=t?t:e.nullContext||{},null!=t?r(t,"content"):t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.program(12,a,0),data:a,loc:{start:{line:14,column:12},end:{line:20,column:19}}}))?n:""},10:function(e,t,n,i,a){return"                publication\n"},12:function(e,t,n,i,a){return"                document\n"},14:function(e,t,n,i,a){var r,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,0,{name:"eq",hash:{},data:a,loc:{start:{line:24,column:14},end:{line:24,column:25}}}),{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:8},end:{line:27,column:15}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,1,{name:"eq",hash:{},data:a,loc:{start:{line:28,column:14},end:{line:28,column:25}}}),{name:"if",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a,loc:{start:{line:28,column:8},end:{line:31,column:15}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,2,{name:"eq",hash:{},data:a,loc:{start:{line:32,column:14},end:{line:32,column:25}}}),{name:"if",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a,loc:{start:{line:32,column:8},end:{line:35,column:15}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,3,{name:"eq",hash:{},data:a,loc:{start:{line:36,column:14},end:{line:36,column:25}}}),{name:"if",hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a,loc:{start:{line:36,column:8},end:{line:39,column:15}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,10,{name:"eq",hash:{},data:a,loc:{start:{line:40,column:14},end:{line:40,column:26}}}),{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:40,column:8},end:{line:43,column:15}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,20,{name:"eq",hash:{},data:a,loc:{start:{line:44,column:14},end:{line:44,column:26}}}),{name:"if",hash:{},fn:e.program(21,a,0),inverse:e.noop,data:a,loc:{start:{line:44,column:8},end:{line:47,column:15}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,30,{name:"eq",hash:{},data:a,loc:{start:{line:48,column:14},end:{line:48,column:26}}}),{name:"if",hash:{},fn:e.program(21,a,0),inverse:e.noop,data:a,loc:{start:{line:48,column:8},end:{line:51,column:15}}}))?r:"")+"\n"},15:function(e,t,n,i,a){return"            container\n"},17:function(e,t,n,i,a){return"            publication\n"},19:function(e,t,n,i,a){return""},21:function(e,t,n,i,a){return"            document\n"},23:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        icon-"+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"iconSymbol")||(null!=t?r(t,"iconSymbol"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"iconSymbol",hash:{},data:a,loc:{start:{line:56,column:13},end:{line:56,column:27}}}):n)+"\n"},25:function(e,t,n,i,a){return"        icon-default\n"},27:function(e,t,n,i,a){return"        publication\n"},29:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        pub-"+e.escapeExpression(e.lambda(null!=(e=null!=t?r(t,"publicationToken"):t)?r(e,"englishSymbol"):e,t))+"\n"},31:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        pub-"+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"englishSymbol")||(null!=t?r(t,"englishSymbol"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"englishSymbol",hash:{},data:a,loc:{start:{line:67,column:12},end:{line:67,column:29}}}):n)+"\n"},33:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=r(n,"each").call(null!=t?t:e.nullContext||{},null!=t?r(t,"categories"):t,{name:"each",hash:{},fn:e.program(34,a,0),inverse:e.noop,data:a,loc:{start:{line:70,column:8},end:{line:72,column:17}}}))?n:""},34:function(e,t,n,i,a){return"            cat-"+e.escapeExpression(e.lambda(t,t))+"\n"},36:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        type-"+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"pubType")||(null!=t?r(t,"pubType"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"pubType",hash:{},data:a,loc:{start:{line:75,column:13},end:{line:75,column:24}}}):n)+"\n"},38:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        data-pub-symbol="'+e.escapeExpression(e.lambda(null!=(e=null!=t?r(t,"publicationToken"):t)?r(e,"englishSymbol"):e,t))+'"\n'},40:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        data-pub-symbol="'+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"englishSymbol")||(null!=t?r(t,"englishSymbol"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"englishSymbol",hash:{},data:a,loc:{start:{line:83,column:25},end:{line:83,column:42}}}):n)+'"\n'},42:function(e,t,n,i,a){var r,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    cardLine1\n    ellipsized\n"+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"marginalClassification"):t,2,{name:"eq",hash:{},data:a,loc:{start:{line:90,column:10},end:{line:90,column:39}}}),{name:"if",hash:{},fn:e.program(43,a,0),inverse:e.noop,data:a,loc:{start:{line:90,column:4},end:{line:93,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"marginalClassification"):t,3,{name:"eq",hash:{},data:a,loc:{start:{line:94,column:10},end:{line:94,column:39}}}),{name:"if",hash:{},fn:e.program(45,a,0),inverse:e.noop,data:a,loc:{start:{line:94,column:4},end:{line:97,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"hasRubyTag")||t&&s(t,"hasRubyTag")||l).call(o,null!=t?s(t,"line1"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:98,column:10},end:{line:98,column:28}}}),{name:"if",hash:{},fn:e.program(47,a,0),inverse:e.noop,data:a,loc:{start:{line:98,column:4},end:{line:100,column:11}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"and")||t&&s(t,"and")||l).call(o,null!=t?s(t,"line2"):t,(s(n,"not")||t&&s(t,"not")||l).call(o,null!=t?s(t,"continuedCard"):t,{name:"not",hash:{},data:a,loc:{start:{line:101,column:21},end:{line:101,column:40}}}),{name:"and",hash:{},data:a,loc:{start:{line:101,column:10},end:{line:101,column:41}}}),{name:"if",hash:{},fn:e.program(49,a,0),inverse:e.program(51,a,0),data:a,loc:{start:{line:101,column:4},end:{line:105,column:11}}}))?r:"")},43:function(e,t,n,i,a){return"        marginalsParallel\n"},45:function(e,t,n,i,a){return"        marginalsQuotation\n"},47:function(e,t,n,i,a){return"        hasRuby\n"},49:function(e,t,n,i,a){return"        cardHalfHeight\n"},51:function(e,t,n,i,a){return"        cardSingleLine\n"},53:function(e,t,n,i,a){var r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"if").call(r,(l(n,"and")||t&&l(t,"and")||o).call(r,null!=t?l(t,"line2"):t,(l(n,"not")||t&&l(t,"not")||o).call(r,null!=t?l(t,"continuedCard"):t,{name:"not",hash:{},data:a,loc:{start:{line:108,column:21},end:{line:108,column:40}}}),{name:"and",hash:{},data:a,loc:{start:{line:108,column:10},end:{line:108,column:41}}}),{name:"if",hash:{},fn:e.program(54,a,0),inverse:e.program(2,a,0),data:a,loc:{start:{line:108,column:4},end:{line:116,column:11}}}))?n:""},54:function(e,t,n,i,a){var r=null!=t?t:e.nullContext||{},o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        cardLine2\n        ellipsized\n"+(null!=(n=o(n,"if").call(r,(o(n,"hasRubyTag")||t&&o(t,"hasRubyTag")||e.hooks.helperMissing).call(r,null!=t?o(t,"line2"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:111,column:14},end:{line:111,column:32}}}),{name:"if",hash:{},fn:e.program(55,a,0),inverse:e.noop,data:a,loc:{start:{line:111,column:8},end:{line:113,column:15}}}))?n:"")},55:function(e,t,n,i,a){return"            hasRuby\n"},57:function(e,t,n,i,a){var r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    chrome\n    cardContainer\n    noTooltips\n"+(null!=(o=l(n,"unless").call(r,(l(n,"or")||t&&l(t,"or")||o).call(r,null!=t?l(t,"continuedCard"):t,(l(n,"isNull")||t&&l(t,"isNull")||o).call(r,null!=t?l(t,"line2"):t,{name:"isNull",hash:{},data:a,loc:{start:{line:123,column:32},end:{line:123,column:46}}}),{name:"or",hash:{},data:a,loc:{start:{line:123,column:14},end:{line:123,column:47}}}),{name:"unless",hash:{},fn:e.program(58,a,0),inverse:e.noop,data:a,loc:{start:{line:123,column:4},end:{line:128,column:15}}}))?o:"")+(null!=(o=l(n,"unless").call(r,null!=t?l(t,"line1"):t,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:129,column:4},end:{line:131,column:15}}}))?o:"")},58:function(e,t,n,i,a){var r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"if").call(r,(l(n,"or")||t&&l(t,"or")||o).call(r,(l(n,"hasRubyTag")||t&&l(t,"hasRubyTag")||o).call(r,null!=t?l(t,"line1"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:124,column:18},end:{line:124,column:36}}}),(l(n,"hasRubyTag")||t&&l(t,"hasRubyTag")||o).call(r,null!=t?l(t,"line2"):t,{name:"hasRubyTag",hash:{},data:a,loc:{start:{line:124,column:37},end:{line:124,column:55}}}),{name:"or",hash:{},data:a,loc:{start:{line:124,column:14},end:{line:124,column:56}}}),{name:"if",hash:{},fn:e.program(55,a,0),inverse:e.noop,data:a,loc:{start:{line:124,column:8},end:{line:127,column:15}}}))?n:""},60:function(e,t,n,i,a){var r,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(r=d(n,"if").call(l,null!=t?d(t,"url"):t,{name:"if",hash:{},fn:e.program(61,a,0),inverse:e.program(64,a,0),data:a,loc:{start:{line:135,column:4},end:{line:140,column:11}}}))?r:"")+'\n        <div class="cardThumbnail '+(null!=(r=d(n,"if").call(l,null!=t?d(t,"continuedCard"):t,{name:"if",hash:{},fn:e.program(66,a,0),inverse:e.noop,data:a,loc:{start:{line:142,column:34},end:{line:142,column:68}}}))?r:"")+'">\n'+(null!=(r=d(n,"if").call(l,null!=t?d(t,"imageUrl"):t,{name:"if",hash:{},fn:e.program(68,a,0),inverse:e.program(70,a,0),data:a,loc:{start:{line:143,column:12},end:{line:147,column:19}}}))?r:"")+'        </div>\n\n        <div class="cardTitleBlock">\n            <div class="'+(null!=(r=e.invokePartial(d(i,"line1Classes"),t,{name:"line1Classes",data:a,helpers:n,partials:i,decorators:e.decorators}))?r:"")+" "+c(typeof(o=null!=(o=d(n,"style")||(null!=t?d(t,"style"):t))?o:s)==u?o.call(l,{name:"style",hash:{},data:a,loc:{start:{line:151,column:43},end:{line:151,column:52}}}):o)+'"><span class="sectionIcon"></span>\n                '+(null!=(r=typeof(o=null!=(o=d(n,"line1")||(null!=t?d(t,"line1"):t))?o:s)==u?o.call(l,{name:"line1",hash:{},data:a,loc:{start:{line:152,column:16},end:{line:152,column:27}}}):o)?r:"")+'\n            </div>\n            <div class="'+(null!=(r=e.invokePartial(d(i,"line2Classes"),t,{name:"line2Classes",data:a,helpers:n,partials:i,decorators:e.decorators}))?r:"")+" "+c(typeof(o=null!=(o=d(n,"style")||(null!=t?d(t,"style"):t))?o:s)==u?o.call(l,{name:"style",hash:{},data:a,loc:{start:{line:154,column:43},end:{line:154,column:52}}}):o)+'">\n                '+(null!=(r=typeof(o=null!=(o=d(n,"line2")||(null!=t?d(t,"line2"):t))?o:s)==u?o.call(l,{name:"line2",hash:{},data:a,loc:{start:{line:155,column:16},end:{line:155,column:27}}}):o)?r:"")+'\n            </div>\n        </div>\n\n        <div class="cardTitleDetail">'+(null!=(r=d(n,"if").call(l,null!=(r=null!=t?d(t,"publicationToken"):t)?d(r,"year"):r,{name:"if",hash:{},fn:e.program(72,a,0),inverse:e.program(74,a,0),data:a,loc:{start:{line:160,column:12},end:{line:169,column:20}}}))?r:"")+'</div>\n\n        <div class="cardChevron">\n            <div class="icon"></div>\n        </div>\n\n'+(null!=(r=d(n,"unless").call(l,(d(n,"or")||t&&d(t,"or")||s).call(l,null!=t?d(t,"url"):t,null!=t?d(t,"imageUrl"):t,{name:"or",hash:{},data:a,loc:{start:{line:176,column:14},end:{line:176,column:31}}}),{name:"unless",hash:{},fn:e.program(79,a,0),inverse:e.program(81,a,0),data:a,loc:{start:{line:176,column:4},end:{line:180,column:15}}}))?r:"")+"\n"},61:function(e,t,n,i,a){var r,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <a href="'+u(typeof(r=null!=(r=c(n,"url")||(null!=t?c(t,"url"):t))?r:l)==s?r.call(o,{name:"url",hash:{},data:a,loc:{start:{line:136,column:17},end:{line:136,column:24}}}):r)+'" class="jwac showRuby '+u(typeof(r=null!=(r=c(n,"articleClasses")||(null!=t?c(t,"articleClasses"):t))?r:l)==s?r.call(o,{name:"articleClasses",hash:{},data:a,loc:{start:{line:136,column:47},end:{line:136,column:65}}}):r)+" "+(null!=(i=e.invokePartial(c(i,"containerClasses"),t,{name:"containerClasses",data:a,helpers:n,partials:i,decorators:e.decorators}))?i:"")+" "+u(typeof(r=null!=(r=c(n,"style")||(null!=t?c(t,"style"):t))?r:l)==s?r.call(o,{name:"style",hash:{},data:a,loc:{start:{line:136,column:89},end:{line:136,column:98}}}):r)+' lnk"\n           '+(null!=(i=c(n,"if").call(o,(c(n,"isArray")||t&&c(t,"isArray")||l).call(o,null!=t?c(t,"navScopeData"):t,{name:"isArray",hash:{},data:a,loc:{start:{line:137,column:17},end:{line:137,column:39}}}),{name:"if",hash:{},fn:e.program(62,a,0),inverse:e.noop,data:a,loc:{start:{line:137,column:11},end:{line:137,column:95}}}))?i:"")+">\n"},62:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-nav-scope-data="'+(null!=(n=(r(n,"toJson")||t&&r(t,"toJson")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?r(t,"navScopeData"):t,{name:"toJson",hash:{},data:a,loc:{start:{line:137,column:62},end:{line:137,column:87}}}))?n:"")+'"'},64:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="'+(null!=(r=e.invokePartial(r(i,"containerClasses"),t,{name:"containerClasses",data:a,helpers:n,partials:i,decorators:e.decorators}))?r:"")+' unavailable">\n'},66:function(e,t,n,i,a){return"hidden"},68:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <img "+(null!=(i=e.invokePartial(r(i,"thumbnailAttributes"),t,{name:"thumbnailAttributes",data:a,helpers:n,partials:i,decorators:e.decorators}))?i:"")+' src="'+e.escapeExpression("function"==typeof(i=null!=(i=r(n,"imageUrl")||(null!=t?r(t,"imageUrl"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"imageUrl",hash:{},data:a,loc:{start:{line:144,column:52},end:{line:144,column:64}}}):i)+'"/>\n'},70:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <span "+(null!=(r=e.invokePartial(r(i,"thumbnailAttributes"),t,{name:"thumbnailAttributes",data:a,helpers:n,partials:i,decorators:e.decorators}))?r:"")+" ></span>\n"},72:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                "+e.escapeExpression(e.lambda(null!=(e=null!=t?r(t,"publicationToken"):t)?r(e,"year"):e,t))+"\n"},74:function(e,t,n,i,a){var r,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,1,{name:"eq",hash:{},data:a,loc:{start:{line:163,column:22},end:{line:163,column:33}}}),{name:"if",hash:{},fn:e.program(75,a,0),inverse:e.noop,data:a,loc:{start:{line:163,column:16},end:{line:165,column:23}}}))?r:"")+(null!=(r=s(n,"if").call(o,(s(n,"eq")||t&&s(t,"eq")||l).call(o,null!=t?s(t,"type"):t,2,{name:"eq",hash:{},data:a,loc:{start:{line:166,column:22},end:{line:166,column:33}}}),{name:"if",hash:{},fn:e.program(77,a,0),inverse:e.noop,data:a,loc:{start:{line:166,column:16},end:{line:168,column:23}}}))?r:"")},75:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"year")||(null!=t?r(t,"year"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"year",hash:{},data:a,loc:{start:{line:164,column:20},end:{line:164,column:28}}}):n)+"\n"},77:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"page")||(null!=t?r(t,"page"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"page",hash:{},data:a,loc:{start:{line:167,column:20},end:{line:167,column:28}}}):n)+"\n"},79:function(e,t,n,i,a){return"        </span>\n"},81:function(e,t,n,i,a){return"        </a>\n"},83:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=e.invokePartial(r(i,"cardContainer"),t,{name:"cardContainer",hash:{style:"cardLine1Prominent",line2:null!=t?r(t,"publicationTitle"):t,line1:null!=t?r(t,"title"):t},data:a,indent:"    ",helpers:n,partials:i,decorators:e.decorators}))?r:""},85:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=r(n,"if").call(null!=t?t:e.nullContext||{},null!=t?r(t,"source"):t,{name:"if",hash:{},fn:e.program(86,a,0),inverse:e.program(88,a,0),data:a,loc:{start:{line:195,column:4},end:{line:203,column:11}}}))?n:""},86:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=e.invokePartial(r(i,"cardContainer"),t,{name:"cardContainer",hash:{style:"cardLine2Prominent",line2:null!=t?r(t,"title"):t,line1:null!=t?r(t,"source"):t},data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},88:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=e.invokePartial(r(i,"cardContainer"),t,{name:"cardContainer",hash:{line1:null!=t?r(t,"title"):t},data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,r,o){var l=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n\n\n\n"+(null!=(n=s(n,"if").call(l,(s(n,"and")||t&&s(t,"and")||e.hooks.helperMissing).call(l,null!=t?s(t,"title"):t,null!=t?s(t,"publicationTitle"):t,{name:"and",hash:{},data:a,loc:{start:{line:184,column:6},end:{line:184,column:34}}}),{name:"if",hash:{},fn:e.program(83,a,0,r,o),inverse:e.program(85,a,0,r,o),data:a,loc:{start:{line:184,column:0},end:{line:204,column:7}}}))?n:"")+"\n"},main_d:function(e,t,n,i,a,r,o){var l=n.decorators,s=n.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(1,a,0,r,o),inverse:n.noop,args:["thumbnailAttributes"],data:a,loc:{start:{line:2,column:0},end:{line:85,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(42,a,0,r,o),inverse:n.noop,args:["line1Classes"],data:a,loc:{start:{line:87,column:0},end:{line:106,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(53,a,0,r,o),inverse:n.noop,args:["line2Classes"],data:a,loc:{start:{line:107,column:0},end:{line:117,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(57,a,0,r,o),inverse:n.noop,args:["containerClasses"],data:a,loc:{start:{line:119,column:0},end:{line:132,column:11}}})||e,e=s(l,"inline")(e,t,n,{name:"inline",hash:{},fn:n.program(60,a,0,r,o),inverse:n.noop,args:["cardContainer"],data:a,loc:{start:{line:134,column:0},end:{line:182,column:11}}})||e},useDecorators:!0,usePartial:!0,useData:!0,useDepths:!0}),this.Handlebars.templates.LibraryInfo=Handlebars.template({1:function(e,t,n,i,a,r,o){var l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<li role="row" data-lang-name="'+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"englishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:32},end:{line:2,column:55}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiEnglishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:56},end:{line:2,column:84}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"vernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:85},end:{line:2,column:111}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiVernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:112},end:{line:2,column:143}}}))+'">\n'+(null!=(u=c(n,"each").call(l,null!=t?c(t,"libs"):t,{name:"each",hash:{},fn:e.program(2,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:3,column:2},end:{line:36,column:11}}}))?u:"")+"\t</li>\n"},2:function(e,t,n,i,a,r,o){var l,s,u=e.lambda,c=e.escapeExpression,d=null!=t?t:e.nullContext||{},p=e.hooks.helperMissing,h="function",g=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<a href="'+c(u(null!=o[1]?g(o[1],"appRoot"):o[1],t))+c(u(null!=o[1]?g(o[1],"locale"):o[1],t))+"/wol/pref/"+c(typeof(s=null!=(s=g(n,"researchConfigurationID")||(null!=t?g(t,"researchConfigurationID"):t))?s:p)==h?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:4,column:49},end:{line:4,column:76}}}):s)+"/"+c(typeof(s=null!=(s=g(n,"symbol")||(null!=t?g(t,"symbol"):t))?s:p)==h?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:4,column:77},end:{line:4,column:87}}}):s)+"?newrsconf="+c(typeof(s=null!=(s=g(n,"researchConfigurationID")||(null!=t?g(t,"researchConfigurationID"):t))?s:p)==h?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:4,column:98},end:{line:4,column:125}}}):s)+"&newlib="+c(typeof(s=null!=(s=g(n,"symbol")||(null!=t?g(t,"symbol"):t))?s:p)==h?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:4,column:133},end:{line:4,column:143}}}):s)+"&url="+c((g(n,"getUrl")||t&&g(t,"getUrl")||p).call(d,null!=o[1]?g(o[1],"locale"):o[1],null!=t?g(t,"researchConfigurationID"):t,null!=t?g(t,"symbol"):t,{name:"getUrl",hash:{},data:a,loc:{start:{line:4,column:148},end:{line:4,column:199}}}))+'"\n\t\t\t\tstyle="border-left: 8px solid '+(null!=(l=g(n,"if").call(d,null!=t?g(t,"libraryColor"):t,{name:"if",hash:{},fn:e.program(3,a,0,r,o),inverse:e.program(5,a,0,r,o),data:a,loc:{start:{line:5,column:34},end:{line:5,column:96}}}))?l:"")+'"\n                data-rsconf="'+c(typeof(s=null!=(s=g(n,"researchConfigurationID")||(null!=t?g(t,"researchConfigurationID"):t))?s:p)==h?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:6,column:29},end:{line:6,column:56}}}):s)+'" data-lib="'+c(typeof(s=null!=(s=g(n,"symbol")||(null!=t?g(t,"symbol"):t))?s:p)==h?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:6,column:68},end:{line:6,column:78}}}):s)+'" data-locale="'+c(u(null!=o[1]?g(o[1],"locale"):o[1],t))+'"\n                data-lang="'+c(u(null!=o[1]?g(o[1],"vernacularName"):o[1],t))+'" data-meps-symbol="'+c(u(null!=o[1]?g(o[1],"mepsSymbol"):o[1],t))+'" data-meps-script="'+c(u(null!=o[1]?g(o[1],"mepsScript"):o[1],t))+'"\n                data-dir="'+c(u(null!=o[1]?g(o[1],"direction"):o[1],t))+'" data-library-type="'+c(u(null!=(l=null!=t?g(t,"libraryBlessInfo"):t)?g(l,"libraryType"):l,t))+'" tabindex="-1"\n                data-rb="'+(null!=(l=g(n,"if").call(d,null!=t?g(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(7,a,0,r,o),inverse:e.program(9,a,0,r,o),data:a,loc:{start:{line:9,column:25},end:{line:9,column:60}}}))?l:"")+'"\n                data-title="'+c(typeof(s=null!=(s=g(n,"title")||(null!=t?g(t,"title"):t))?s:p)==h?s.call(d,{name:"title",hash:{},data:a,loc:{start:{line:10,column:28},end:{line:10,column:37}}}):s)+'"\n                data-privileged="'+(null!=(l=g(n,"if").call(d,null!=t?g(t,"isPrivileged"):t,{name:"if",hash:{},fn:e.program(11,a,0,r,o),inverse:e.program(13,a,0,r,o),data:a,loc:{start:{line:11,column:33},end:{line:11,column:77}}}))?l:"")+'"\n            >\n\t\t\t\t<ul>\n\t\t\t\t\t<li class="language">\n'+(null!=(l=g(n,"if").call(d,null!=o[1]?g(o[1],"uiBlessInfo"):o[1],{name:"if",hash:{},fn:e.program(15,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:15,column:24},end:{line:17,column:31}}}))?l:"")+'                        <span class="ms-ROMAN ml-E" dir="ltr" data-lang="E" lang="en">\n                            <span>'+(null!=(l=u(null!=o[1]?g(o[1],"englishName"):o[1],t))?l:"")+'</span>\n                        </span>\n\t\t\t\t\t\t<span class="ms-ROMAN">&nbsp;-&nbsp;</span>\n                            <span data-class="'+c(u(null!=o[1]?g(o[1],"libLangClasses"):o[1],t))+'" '+(null!=(l=u(null!=o[1]?g(o[1],"libLangAttributes"):o[1],t))?l:"")+">\n                                <span>"+(null!=(l=u(null!=o[1]?g(o[1],"vernacularName"):o[1],t))?l:"")+'</span>\n                            </span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="library" dir="'+c(u(null!=o[1]?g(o[1],"direction"):o[1],t))+'">\n\t\t\t\t\t\t<span class="statusIndicator blessStatus '+c(u(null!=(l=null!=t?g(t,"libraryBlessInfo"):t)?g(l,"cssClass"):l,t))+'"></span>\n                        <span data-class="'+c(u(null!=o[1]?g(o[1],"libLangClasses"):o[1],t))+'" '+(null!=(l=u(null!=o[1]?g(o[1],"libLangAttributes"):o[1],t))?l:"")+">"+(null!=(l=typeof(s=null!=(s=g(n,"title")||(null!=t?g(t,"title"):t))?s:p)==h?s.call(d,{name:"title",hash:{},data:a,loc:{start:{line:28,column:92},end:{line:28,column:103}}}):s)?l:"")+'</span>\n\t\t\t\t\t</li>\n                    <li class="libraryBadges">\n                        '+(null!=(l=g(n,"if").call(d,null!=o[1]?g(o[1],"isSignLanguage"):o[1],{name:"if",hash:{},fn:e.program(17,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:31,column:24},end:{line:31,column:124}}}))?l:"")+"\n                        "+(null!=(l=g(n,"if").call(d,null!=t?g(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(19,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:32,column:24},end:{line:32,column:143}}}))?l:"")+"\n                    </li>\n\t\t\t\t</ul>\n\t\t\t</a>\n"},3:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(n=null!=(n=r(n,"libraryColor")||(null!=t?r(t,"libraryColor"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"libraryColor",hash:{},data:a,loc:{start:{line:5,column:54},end:{line:5,column:70}}}):n)},5:function(e,t,n,i,a){return"transparent"},7:function(e,t,n,i,a){return"yes"},9:function(e,t,n,i,a){return"no"},11:function(e,t,n,i,a){return"true"},13:function(e,t,n,i,a){return"false"},15:function(e,t,n,i,a,r,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t\t    <span class="statusIndicator blessStatus '+e.escapeExpression(e.lambda(null!=(e=null!=o[1]?l(o[1],"uiBlessInfo"):o[1])?l(e,"blessStatus"):e,t))+'"></span>\n'},17:function(e,t,n,i,a){return'<span class="signLanguageLibrary"><span class="icon" ></span></span>'},19:function(e,t,n,i,a,r,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="rubyLibrary" data-meps-symbol="'+e.escapeExpression(e.lambda(null!=o[1]?l(o[1],"mepsSymbol"):o[1],t))+'"><span class="icon" ></span></span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,r,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:38,column:9}}}))?n:""},useData:!0,useDepths:!0}),this.Handlebars.templates.LibraryName=Handlebars.template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var r,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="library '+c(typeof(o=null!=(o=e(n,"localizationCssClasses")||(null!=t?e(t,"localizationCssClasses"):t))?o:s)==u?o.call(l,{name:"localizationCssClasses",hash:{},data:a,loc:{start:{line:1,column:18},end:{line:1,column:44}}}):o)+'" '+(null!=(r=typeof(o=null!=(o=e(n,"localizationHtmlAttributes")||(null!=t?e(t,"localizationHtmlAttributes"):t))?o:s)==u?o.call(l,{name:"localizationHtmlAttributes",hash:{},data:a,loc:{start:{line:1,column:46},end:{line:1,column:78}}}):o)?r:"")+' href="/'+c(typeof(o=null!=(o=e(n,"locale")||(null!=t?e(t,"locale"):t))?o:s)==u?o.call(l,{name:"locale",hash:{},data:a,loc:{start:{line:1,column:86},end:{line:1,column:96}}}):o)+"/wol/"+c(typeof(o=null!=(o=e(n,"route")||(null!=t?e(t,"route"):t))?o:s)==u?o.call(l,{name:"route",hash:{},data:a,loc:{start:{line:1,column:101},end:{line:1,column:110}}}):o)+"/"+c(typeof(o=null!=(o=e(n,"rsconf")||(null!=t?e(t,"rsconf"):t))?o:s)==u?o.call(l,{name:"rsconf",hash:{},data:a,loc:{start:{line:1,column:111},end:{line:1,column:121}}}):o)+"/"+c(typeof(o=null!=(o=e(n,"lib")||(null!=t?e(t,"lib"):t))?o:s)==u?o.call(l,{name:"lib",hash:{},data:a,loc:{start:{line:1,column:122},end:{line:1,column:129}}}):o)+c(typeof(o=null!=(o=e(n,"queryString")||(null!=t?e(t,"queryString"):t))?o:s)==u?o.call(l,{name:"queryString",hash:{},data:a,loc:{start:{line:1,column:129},end:{line:1,column:144}}}):o)+'">'+(null!=(r=typeof(o=null!=(o=e(n,"libraryName")||(null!=t?e(t,"libraryName"):t))?o:s)==u?o.call(l,{name:"libraryName",hash:{},data:a,loc:{start:{line:1,column:146},end:{line:1,column:163}}}):o)?r:"")+"</a>\n"},useData:!0}),this.Handlebars.templates.SynchronizeSelection=Handlebars.template({1:function(e,t,n,i,a,r,o){var l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<li role="row" data-lang-name="'+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"englishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:32},end:{line:2,column:55}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiEnglishName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:56},end:{line:2,column:84}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"vernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:85},end:{line:2,column:111}}}))+" "+u((c(n,"toLower")||t&&c(t,"toLower")||s).call(l,null!=t?c(t,"asciiVernacularName"):t,{name:"toLower",hash:{},data:a,loc:{start:{line:2,column:112},end:{line:2,column:143}}}))+'">\n'+(null!=(u=c(n,"each").call(l,null!=t?c(t,"libs"):t,{name:"each",hash:{},fn:e.program(2,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:3,column:2},end:{line:30,column:11}}}))?u:"")+"\t</li>\n"},2:function(e,t,n,i,a,r,o){var l=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=s(n,"if").call(l,(s(n,"isNotCurrentRsconfLib")||t&&s(t,"isNotCurrentRsconfLib")||e.hooks.helperMissing).call(l,null!=t?s(t,"researchConfigurationID"):t,null!=t?s(t,"symbol"):t,{name:"isNotCurrentRsconfLib",hash:{},data:a,loc:{start:{line:4,column:9},end:{line:4,column:63}}}),{name:"if",hash:{},fn:e.program(3,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:4,column:3},end:{line:29,column:10}}}))?n:""},3:function(e,t,n,i,a,r,o){var l,s,u=e.lambda,c=e.escapeExpression,d=null!=t?t:e.nullContext||{},p=e.hooks.helperMissing,h="function",g=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t<a href="'+c(u(null!=o[1]?g(o[1],"appRoot"):o[1],t))+c(typeof(s=null!=(s=g(n,"getLocale")||(null!=t?g(t,"getLocale"):t))?s:p)==h?s.call(d,{name:"getLocale",hash:{},data:a,loc:{start:{line:5,column:27},end:{line:5,column:40}}}):s)+"/wol/sysl/"+c(typeof(s=null!=(s=g(n,"getRsconf")||(null!=t?g(t,"getRsconf"):t))?s:p)==h?s.call(d,{name:"getRsconf",hash:{},data:a,loc:{start:{line:5,column:50},end:{line:5,column:63}}}):s)+"/"+c(typeof(s=null!=(s=g(n,"getLib")||(null!=t?g(t,"getLib"):t))?s:p)==h?s.call(d,{name:"getLib",hash:{},data:a,loc:{start:{line:5,column:64},end:{line:5,column:74}}}):s)+"?syncrsconf="+c(typeof(s=null!=(s=g(n,"researchConfigurationID")||(null!=t?g(t,"researchConfigurationID"):t))?s:p)==h?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:5,column:86},end:{line:5,column:113}}}):s)+"&synclib="+c(typeof(s=null!=(s=g(n,"symbol")||(null!=t?g(t,"symbol"):t))?s:p)==h?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:5,column:122},end:{line:5,column:132}}}):s)+"&url="+c((g(n,"getUrl")||t&&g(t,"getUrl")||p).call(d,null,null!=t?g(t,"researchConfigurationID"):t,null!=t?g(t,"symbol"):t,{name:"getUrl",hash:{},data:a,loc:{start:{line:5,column:137},end:{line:5,column:183}}}))+'"\n                    data-rsconf="'+c(typeof(s=null!=(s=g(n,"researchConfigurationID")||(null!=t?g(t,"researchConfigurationID"):t))?s:p)==h?s.call(d,{name:"researchConfigurationID",hash:{},data:a,loc:{start:{line:6,column:33},end:{line:6,column:60}}}):s)+'" data-lib="'+c(typeof(s=null!=(s=g(n,"symbol")||(null!=t?g(t,"symbol"):t))?s:p)==h?s.call(d,{name:"symbol",hash:{},data:a,loc:{start:{line:6,column:72},end:{line:6,column:82}}}):s)+'" data-locale="'+c(u(null!=o[1]?g(o[1],"locale"):o[1],t))+'" data-lang="'+c(u(null!=o[1]?g(o[1],"vernacularName"):o[1],t))+'"\n                    data-meps-symbol="'+c(u(null!=o[1]?g(o[1],"mepsSymbol"):o[1],t))+'" data-meps-script="'+c(u(null!=o[1]?g(o[1],"mepsScript"):o[1],t))+'" data-dir="'+c(u(null!=o[1]?g(o[1],"direction"):o[1],t))+'"\n                    data-rb="'+(null!=(l=g(n,"if").call(d,null!=t?g(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(4,a,0,r,o),inverse:e.program(6,a,0,r,o),data:a,loc:{start:{line:8,column:29},end:{line:8,column:64}}}))?l:"")+'"\n                >\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li class="language">\n                            <span class="ms-ROMAN ml-E" dir="ltr" data-lang="E" lang="en">\n                                <span>'+(null!=(l=u(null!=o[1]?g(o[1],"englishName"):o[1],t))?l:"")+'</span>\n                            </span>\n                            <span class="ms-ROMAN">&nbsp;-&nbsp;</span>\n                            <span data-class="'+c(u(null!=o[1]?g(o[1],"libLangClasses"):o[1],t))+'" '+(null!=(l=u(null!=o[1]?g(o[1],"libLangAttributes"):o[1],t))?l:"")+">\n                                <span>"+(null!=(l=u(null!=o[1]?g(o[1],"vernacularName"):o[1],t))?l:"")+'</span>\n                            </span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="library" dir="'+c(u(null!=o[1]?g(o[1],"direction"):o[1],t))+'">\n\t\t\t\t\t\t\t<span data-class="'+c(u(null!=o[1]?g(o[1],"libLangClasses"):o[1],t))+'" '+(null!=(l=u(null!=o[1]?g(o[1],"libLangAttributes"):o[1],t))?l:"")+">"+(null!=(l=typeof(s=null!=(s=g(n,"title")||(null!=t?g(t,"title"):t))?s:p)==h?s.call(d,{name:"title",hash:{},data:a,loc:{start:{line:21,column:75},end:{line:21,column:86}}}):s)?l:"")+'</span>\n\t\t\t\t\t\t</li>\n                        <li class="libraryBadges">\n                            '+(null!=(l=g(n,"if").call(d,null!=o[1]?g(o[1],"isSignLanguage"):o[1],{name:"if",hash:{},fn:e.program(8,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:24,column:28},end:{line:24,column:128}}}))?l:"")+"\n                            "+(null!=(l=g(n,"if").call(d,null!=t?g(t,"hasRuby"):t,{name:"if",hash:{},fn:e.program(10,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:25,column:28},end:{line:25,column:147}}}))?l:"")+"\n                        </li>\n\t\t\t\t\t</ul>\n\t\t\t\t</a>\n"},4:function(e,t,n,i,a){return"yes"},6:function(e,t,n,i,a){return"no"},8:function(e,t,n,i,a){return'<span class="signLanguageLibrary"><span class="icon" ></span></span>'},10:function(e,t,n,i,a,r,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="rubyLibrary" data-meps-symbol="'+e.escapeExpression(e.lambda(null!=o[1]?l(o[1],"mepsSymbol"):o[1],t))+'"><span class="icon" ></span></span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,r,o){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:32,column:9}}}))?n:""},useData:!0,useDepths:!0}),this.Handlebars.templates.Tooltip=Handlebars.template({1:function(e,t,n,i,a,r,o){var l,s,u=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li class="tooltipListItem linkCard">\n'+(null!=(l=d(n,"if").call(u,(d(n,"ne")||t&&d(t,"ne")||c).call(u,(d(n,"getValueByPath")||t&&d(t,"getValueByPath")||c).call(u,"items",(d(n,"add")||t&&d(t,"add")||c).call(u,a&&d(a,"index"),-1,{name:"add",hash:{},data:a,blockParams:r,loc:{start:{line:13,column:50},end:{line:13,column:65}}}),"source",{name:"getValueByPath",hash:{},data:a,blockParams:r,loc:{start:{line:13,column:26},end:{line:13,column:75}}}),null!=t?d(t,"source"):t,{name:"ne",hash:{},data:a,blockParams:r,loc:{start:{line:13,column:22},end:{line:13,column:83}}}),{name:"if",hash:{},fn:e.program(2,a,0,r,o),inverse:e.program(4,a,0,r,o),data:a,blockParams:r,loc:{start:{line:13,column:16},end:{line:17,column:23}}}))?l:"")+'                <div class="scalableui">\n'+(null!=(l=d(n,"if").call(u,null!=t?d(t,"substitutes"):t,{name:"if",hash:{},fn:e.program(6,a,0,r,o),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:19,column:20},end:{line:31,column:27}}}))?l:"")+'                    <div class="tooltipContent">\n                        <div class="'+e.escapeExpression("function"==typeof(s=null!=(s=d(n,"articleClasses")||(null!=t?d(t,"articleClasses"):t))?s:c)?s.call(u,{name:"articleClasses",hash:{},data:a,blockParams:r,loc:{start:{line:33,column:36},end:{line:33,column:54}}}):s)+'">\n'+(null!=(l=d(n,"if").call(u,(d(n,"or")||t&&d(t,"or")||c).call(u,null!=t?d(t,"mediaHtml"):t,(d(n,"or")||t&&d(t,"or")||c).call(u,null!=t?d(t,"content"):t,null!=t?d(t,"studyContent"):t,{name:"or",hash:{},data:a,blockParams:r,loc:{start:{line:34,column:48},end:{line:34,column:73}}}),{name:"or",hash:{},data:a,blockParams:r,loc:{start:{line:34,column:34},end:{line:34,column:74}}}),{name:"if",hash:{},fn:e.program(9,a,0,r,o),inverse:e.program(17,a,0,r,o),data:a,blockParams:r,loc:{start:{line:34,column:28},end:{line:60,column:35}}}))?l:"")+"                        </div>\n                    </div>\n\n"+(null!=(l=d(n,"if").call(u,(d(n,"isArray")||t&&d(t,"isArray")||c).call(u,null!=t?d(t,"multimediaItems"):t,{name:"isArray",hash:{},data:a,blockParams:r,loc:{start:{line:64,column:26},end:{line:64,column:51}}}),{name:"if",hash:{},fn:e.program(22,a,0,r,o),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:64,column:20},end:{line:91,column:27}}}))?l:"")+"                </div>\n            </li>\n"},2:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=e.invokePartial(r(i,"CardHeader"),t,{name:"CardHeader",data:a,indent:"                    ",helpers:n,partials:i,decorators:e.decorators}))?r:""},4:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=e.invokePartial(r(i,"CardHeader"),t,{name:"CardHeader",hash:{continuedCard:!0},data:a,indent:"                    ",helpers:n,partials:i,decorators:e.decorators}))?r:""},6:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <div class="alternatePresentation clickable">\n'+(null!=(n=r(n,"each").call(null!=t?t:e.nullContext||{},null!=t?r(t,"substitutes"):t,{name:"each",hash:{},fn:e.program(7,a,2),inverse:e.noop,data:a,loc:{start:{line:21,column:28},end:{line:29,column:37}}}))?n:"")+"                        </div>\n"},7:function(e,t,n,i,a){var r,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                <div class="option clearfix">\n                                    <span class="title">'+(null!=(r=typeof(o=null!=(o=e(n,"title")||(null!=t?e(t,"title"):t))?o:s)==u?o.call(l,{name:"title",hash:{},data:a,loc:{start:{line:23,column:56},end:{line:23,column:67}}}):o)?r:"")+'</span>\n                                    <img src="'+c(typeof(o=null!=(o=e(n,"thumbnailUrl")||(null!=t?e(t,"thumbnailUrl"):t))?o:s)==u?o.call(l,{name:"thumbnailUrl",hash:{},data:a,loc:{start:{line:24,column:46},end:{line:24,column:62}}}):o)+'" class="lightbox hiddenThumbnail"\n                                         data-alt-src="'+c(typeof(o=null!=(o=e(n,"targetUrl")||(null!=t?e(t,"targetUrl"):t))?o:s)==u?o.call(l,{name:"targetUrl",hash:{},data:a,loc:{start:{line:25,column:55},end:{line:25,column:68}}}):o)+'" data-alt-type="'+c(typeof(o=null!=(o=e(n,"targetType")||(null!=t?e(t,"targetType"):t))?o:s)==u?o.call(l,{name:"targetType",hash:{},data:a,loc:{start:{line:25,column:85},end:{line:25,column:99}}}):o)+'"/>\n                                    <span class="altIcon icon-'+c(typeof(o=null!=(o=e(n,"targetType")||(null!=t?e(t,"targetType"):t))?o:s)==u?o.call(l,{name:"targetType",hash:{},data:a,loc:{start:{line:26,column:62},end:{line:26,column:76}}}):o)+'"><span class="icon"></span></span>\n                                    <span class="spinner"></span>\n                                </div>\n'},9:function(e,t,n,i,a,r){var o,l=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"if").call(l,(s(n,"isArray")||t&&s(t,"isArray")||e.hooks.helperMissing).call(l,null!=t?s(t,"mediaHtml"):t,{name:"isArray",hash:{},data:a,blockParams:r,loc:{start:{line:35,column:38},end:{line:35,column:57}}}),{name:"if",hash:{},fn:e.program(10,a,0,r),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:35,column:32},end:{line:39,column:39}}}))?o:"")+(null!=(o=s(n,"if").call(l,null!=t?s(t,"content"):t,{name:"if",hash:{},fn:e.program(13,a,0,r),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:40,column:32},end:{line:44,column:39}}}))?o:"")+(null!=(o=s(n,"if").call(l,null!=t?s(t,"studyContent"):t,{name:"if",hash:{},fn:e.program(15,a,0,r),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:45,column:32},end:{line:49,column:39}}}))?o:"")},10:function(e,t,n,i,a,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(n=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"mediaHtml"):t,{name:"each",hash:{},fn:e.program(11,a,2,r),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:36,column:36},end:{line:38,column:45}}}))?n:""},11:function(e,t,n,i,a,r){return"                                        "+(null!=(e=e.lambda(r[0][0],t))?e:"")+"\n"},13:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <div class="tooltipText">\n                                        '+(null!=(r="function"==typeof(n=null!=(n=r(n,"content")||(null!=t?r(t,"content"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"content",hash:{},data:a,loc:{start:{line:42,column:40},end:{line:42,column:53}}}):n)?r:"")+"\n                                    </div>\n"},15:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <div class="tooltipStudyContent">\n                                        '+(null!=(r="function"==typeof(n=null!=(n=r(n,"studyContent")||(null!=t?r(t,"studyContent"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"studyContent",hash:{},data:a,loc:{start:{line:47,column:40},end:{line:47,column:58}}}):n)?r:"")+"\n                                    </div>\n"},17:function(e,t,n,i,a,r,o){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                <p class="contentErrorNotice">\n'+(null!=(l=u(n,"if").call(s,null!=t?u(t,"url"):t,{name:"if",hash:{},fn:e.program(18,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:52,column:36},end:{line:54,column:43}}}))?l:"")+"                                    "+e.escapeExpression(e.lambda(null!=o[1]?u(o[1],"tooltipContentErrorMessage"):o[1],t))+"\n"+(null!=(l=u(n,"if").call(s,null!=t?u(t,"url"):t,{name:"if",hash:{},fn:e.program(20,a,0,r,o),inverse:e.noop,data:a,loc:{start:{line:56,column:36},end:{line:58,column:43}}}))?l:"")+"                                </p>\n"},18:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <a href="'+e.escapeExpression("function"==typeof(n=null!=(n=r(n,"url")||(null!=t?r(t,"url"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"url",hash:{},data:a,loc:{start:{line:53,column:45},end:{line:53,column:52}}}):n)+'">\n'},20:function(e,t,n,i,a){return"                                    </a>\n"},22:function(e,t,n,i,a,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <ul class="mediaItems">\n'+(null!=(n=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"multimediaItems"):t,{name:"each",hash:{},fn:e.program(23,a,2,r),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:66,column:28},end:{line:89,column:37}}}))?n:"")+"                        </ul>\n"},23:function(e,t,n,i,a,r){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                <li>\n"+(null!=(n=o(n,"if").call(null!=t?t:e.nullContext||{},null!=(n=r[0][0])?o(n,"hasVideo"):n,{name:"if",hash:{},fn:e.program(24,a,0,r),inverse:e.program(26,a,0,r),data:a,blockParams:r,loc:{start:{line:68,column:36},end:{line:87,column:43}}}))?n:"")+"                                </li>\n"},24:function(e,t,n,i,a,r){var o,l=e.lambda,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                        <div class="mediaTile">\n                                            <a href="'+(null!=(o=l(null!=(o=r[1][0])?e(o,"navigateUrl"):o,t))?o:"")+'">\n                                                <div class="link"><span class="title">'+(null!=(o=l(null!=(o=r[1][0])?e(o,"title"):o,t))?o:"")+'</span><span\n                                                        class="icon"></span></div>\n                                            </a>\n                                            <div class="videoContainer" data-json-src="'+(null!=(o=l(null!=(o=r[1][0])?e(o,"videoJson"):o,t))?o:"")+'"\n                                                 data-img-src="'+(null!=(o=l(null!=(o=r[1][0])?e(o,"videoPosterUrl"):o,t))?o:"")+'"></div>\n                                        </div>\n'},26:function(e,t,n,i,a,r){var o,l=e.lambda,e=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                        <a href="'+(null!=(o=l(null!=(o=r[1][0])?e(o,"navigateUrl"):o,t))?o:"")+'">\n                                            <div class="mediaTile">\n                                                <div class="link"><span class="title">'+(null!=(o=l(null!=(o=r[1][0])?e(o,"title"):o,t))?o:"")+'</span><span\n                                                        class="icon"></span></div>\n                                                <img class="responsiveLoadingPlaceholder placeholder-1x1">\n                                                <img src="'+(null!=(o=l(null!=(o=r[1][0])?e(o,"sqsUrl"):o,t))?o:"")+'"\n                                                     class="preview responsiveLoadingImage imageFadeIn">\n                                            </div>\n                                        </a>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,r,o){var l,s=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="tooltipHeader">\n    <div class="tooltipType">\n        '+(null!=(l="function"==typeof(l=null!=(l=u(n,"title")||(null!=t?u(t,"title"):t))?l:e.hooks.helperMissing)?l.call(s,{name:"title",hash:{},data:a,blockParams:r,loc:{start:{line:3,column:8},end:{line:3,column:19}}}):l)?l:"")+'\n    </div>\n    <div class="tooltipClose">\n        <div class="closeBtn"><span class="icon"></span></div>\n    </div>\n</div>\n<div class="tooltipListContainer">\n    <ul class="tooltipList">\n'+(null!=(l=u(n,"each").call(s,null!=t?u(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,2,r,o),inverse:e.noop,data:a,blockParams:r,loc:{start:{line:11,column:8},end:{line:94,column:17}}}))?l:"")+"    </ul>\n</div>"},usePartial:!0,useData:!0,useDepths:!0,useBlockParams:!0}),this.Handlebars.templates.Video=Handlebars.template({1:function(e,t,n,i,a){var r,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div id="v'+(null!=(r=l(n,"each").call(o,null!=t?l(t,"mediaItems"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:14},end:{line:4,column:62}}}))?r:"")+'" class="tooltipVideo videoPlayerHolder"\n        data-playlist="[\n'+(null!=(r=l(n,"each").call(o,null!=t?l(t,"mediaItems"):t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:4},end:{line:16,column:13}}}))?r:"")+'    ]"></div>\n'},2:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r="function"==typeof(n=null!=(n=r(n,"mediaPlayerId")||(null!=t?r(t,"mediaPlayerId"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"mediaPlayerId",hash:{},data:a,loc:{start:{line:4,column:34},end:{line:4,column:53}}}):n)?r:""},4:function(e,t,n,i,a){var r,o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,u="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        {\n        &quot;startTime&quot;:"+(null!=(r=typeof(o=null!=(o=d(n,"mediaStartTime")||(null!=t?d(t,"mediaStartTime"):t))?o:s)==u?o.call(l,{name:"mediaStartTime",hash:{},data:a,loc:{start:{line:8,column:30},end:{line:8,column:50}}}):o)?r:"")+",\n        &quot;duration&quot;:"+(null!=(r=typeof(o=null!=(o=d(n,"mediaDuration")||(null!=t?d(t,"mediaDuration"):t))?o:s)==u?o.call(l,{name:"mediaDuration",hash:{},data:a,loc:{start:{line:9,column:29},end:{line:9,column:48}}}):o)?r:"")+",\n        &quot;jsonSrc&quot;:&quot;"+c(typeof(o=null!=(o=d(n,"mediaSrc")||(null!=t?d(t,"mediaSrc"):t))?o:s)==u?o.call(l,{name:"mediaSrc",hash:{},data:a,loc:{start:{line:10,column:34},end:{line:10,column:46}}}):o)+"&quot;,\n        &quot;imgSrc&quot;:&quot;"+c(typeof(o=null!=(o=d(n,"mediaUrl")||(null!=t?d(t,"mediaUrl"):t))?o:s)==u?o.call(l,{name:"mediaUrl",hash:{},data:a,loc:{start:{line:11,column:33},end:{line:11,column:45}}}):o)+"&quot;\n        }\n"+(null!=(r=d(n,"if").call(l,(d(n,"not")||t&&d(t,"not")||s).call(l,a&&d(a,"last"),{name:"not",hash:{},data:a,loc:{start:{line:13,column:14},end:{line:13,column:25}}}),{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:13,column:8},end:{line:15,column:15}}}))?r:"")},5:function(e,t,n,i,a){return"        ,\n"},7:function(e,t,n,i,a){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <p class="noVideoAvailable">'+(null!=(e=e.lambda(null!=(e=null!=t?r(t,"i18n"):t)?r(e,"multimediaNotAvailableForSelection"):e,t))?e:"")+"</p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var r,o=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="videoErrorNotice hidden">'+(null!=(r=e.lambda(null!=(r=null!=t?l(t,"i18n"):t)?l(r,"multimediaErrorLoadingVideo"):r,t))?r:"")+"</p>\n\n"+(null!=(r=l(n,"if").call(o,(l(n,"isArray")||t&&l(t,"isArray")||e.hooks.helperMissing).call(o,null!=t?l(t,"mediaItems"):t,{name:"isArray",hash:{},data:a,loc:{start:{line:3,column:6},end:{line:3,column:26}}}),{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:3,column:0},end:{line:20,column:7}}}))?r:"")},useData:!0}),!function(i,a){"use strict";function e(){i("#searchRefineForm").trigger("submit")}a.search={setupSearch:function(){var n;"s"===a.getCommand()?(i("#proximitySelector").on("change",function(){i("#searchResultsForm").trigger("submit")}),i("#rankSelector").on("change",function(){i("#searchResultsForm #st").val(wolConstants.QUERY_SEARCH_TRIGGER_ChangeSort),i("#searchResultsForm").trigger("submit")}),i("#menuSearchHitNext").removeClass("hidden").show(),0!==i("#searchRefineForm").length&&i("#searchFilterContainer").find("input[type=checkbox]").on("change",e),Modernizr.sessionstorage&&i("[data-nav-scope-data]").each(function(e,t){var n=(t=i(t)).data("navScopeData");0<t.length&&!0===n.isBibleDocument&&t.closest("a").on("click",function(){return a.web.ajax(n.navScopeDataUrl).done(function(e){sessionStorage.setItem("nav-scope-data",JSON.stringify(e)),a.loadPage(Object.keys(e)[0]||t.closest("a").attr("href"))}),!1})})):"l"===a.getCommand()&&(n=sprintf("&p=%s&r=%s",a.utilities.getSearchProximity(),a.utilities.getSearchRank()),i(".directButton").each(function(e,t){t.href+=n}))},categoryFilterToggleAll:function(e){i("#searchFilterContainer").find("input").each(function(){this.checked=e}),e&&i("#searchRefineForm").trigger("submit")},sanitizeSearchQuery:function(e){return e.replace("","")}}}(jQuery,app),!function(e,t){"use strict";function n(){e("#bibleChapterViewSwitch").closest(".grid, .list").removeClass("list").addClass("grid"),t.storage.setCookie("binavview","grid")}function i(){e("#bibleChapterViewSwitch").closest(".grid, .list").removeClass("grid").addClass("list"),t.storage.setCookie("binavview","list")}function a(){e("#bibleChapterViewSwitch").find(".iconButton").on("click",function(){(e(this).closest(".grid, .list").hasClass("list")?n:i)()}),("list"===t.storage.getCookie("binavview")?i:n)()}t.biblenav={setupBibleNav:function(){t.utilities.setupAsyncPartialPageLoad({filter:'a:not(.chapterNo a, .chapterOutline a)[href*="/binav/"]',pageContentObject:e(".materialNav").parent(),successCallback:function(){a()}}),a()}}}(jQuery,app),!function(i,a){function r(e){var t,n=i("#dailyText");i("#noDailyText").hide(),n.fadeIn("slow"),e&&a.setupTooltip(n),a.documentMenu.positionMenu(),a.getTodayDate()||(e=(e=i("#availableData").val())&&e.split(","),(n=new Date).setDate(n.getDate()-1),t=a.utilities.getDateString(n),i("#footerPrevDay a").attr("href",a.url.makeDailyTextUrl(n)),e&&-1===e.indexOf(t)?(i("#footerPrevDay").addClass("disabled"),i("#footerPrevDay a").removeAttr("href")):(i("#footerPrevDay").removeClass("disabled"),i("#footerPrevDay a").attr("href",a.url.makeDailyTextUrl(n))),(t=new Date).setDate(t.getDate()+1),n=a.utilities.getDateString(t),e&&-1===e.indexOf(n)?(i("#footerNextDay").addClass("disabled"),i("#footerNextDay a").removeAttr("href")):(i("#footerNextDay").removeClass("disabled"),i("#footerNextDay a").attr("href",a.url.makeDailyTextUrl(t))))}a.home={setupDailyText:function(){var e,t,n;0<i("#dailyText").length&&(e=new Date,(t=function(){var e=a.getTodayDate().split("/");if(3===e.length){var t=e[0],n=parseInt(e[1],10)-1,e=e[2],t=new Date(t,n,e);if(!isNaN(t.getTime()))return t}return!1}())&&(e=t),n=a.utilities.getDateString(e)+"T00:00:00.000Z",i(".tabContent[data-date]").each(function(){if(i(this).data("date")===n)return i(this).addClass("active"),r(!1),!1}),0===i(".tabContent.active").length&&(t=a.url.makeDateDataUrl(new Date,0,!0))&&a.web.getJSON(t).done(function(e){var t,e=_.find(e.items,function(e){return 4===e.classification});e&&(t='<a href="'+e.url+'">'+e.publicationTitle+"</a>",e=a.transcribeUreLinks(e.content+t),i("#dailyText .articlePositioner").html(i('<div class="tabContent active"/>').append(e)),i("#availableData").val(""),r(!0))}))}}}(jQuery,app),!function(o,l){function s(t,e){function n(e){t.find("a.selected").removeClass("selected"),e.addClass("selected"),e.scrollIntoView({duration:0,topOffset:o("#regionHeader").height()})}if(13===e){var i=t.find("a.selected:visible");if(i.length?a=i[0]:1===(i=o(".completeList a:visible")).length&&(a=i[0]),a)return l.loadPage(a.href),!1}else{if(27===e)return i=t.find("a.selected").removeClass("selected"),o(".selectionListFilterText").val("").trigger("input"),0===i.length;if(38===e||40===e){var a=t.find("a:visible"),i=a.index(a.filter(".selected"));if(40===e)return-1===i?(n(a.first()),!1):i<a.length-1?(n(a.eq(i+1)),!1):void 0;if(38===e)if(-1===i)n(a.last());else if(0<i)return n(a.eq(i-1)),!1}}}l.libraryInfoList={setupFilterAndMRU:function(e){o("[data-class]").addClass(function(){return o(this).data("class")});for(var t=o(),n=0;n<e.length;n++){var i=o("[data-rsconf="+e[n].rsconf+"][data-lib="+e[n].lib+"]");0<i.length&&(i=i.parent().clone().html(i[0].outerHTML),t=t.add(i[0]))}t=t.wrap('<ul class="librarySelection"/>').parent(),o(".mruList").append(t).removeClass("hidden").show(),o(".selectionListFilter").removeClass("hidden").show();var a=o(".completeList"),r=o(".mruList, .completeList");o(document).on("keydown",function(e){return s(r,e.keyCode)}),o(".selectionListFilterText").on("keydown",function(e){return s(r,e.keyCode)}).on("input",function(){var e,t=o(this).val().toLowerCase();e=o(".mruList"),""===t?e.removeClass("hidden").show():e.hide(),e=t,(t=(t=a).find("> ul")).find("a.selected").removeClass("selected"),""===e?t.find("> li").show():t.find("> li").hide().end().find('> li[role*="row-header"]').show().end().find('> li[data-lang-name*="'+e+'"]').show().end().find("> li").find('> a[data-locale="'+e+'"]').parent().show().end().end().find('> a[data-rsconf="'+e+'"]').parent().show().end().end().find('> a[data-lib="'+e+'"]').parent().show().end().end().find('> a[data-meps-symbol="'+e.toUpperCase()+'"]').parent().show().end().end().find('> a[data-library-type="'+e.toUpperCase()+'"]').parent().show().end().end()}).on("focus",function(){o(this).scrollIntoView({duration:0,topOffset:o("#regionHeader").height()})}).trigger("input").scrollIntoView({duration:0,topOffset:o("#regionHeader").height()}).trigger("focus"),l.iOS&&o(".selectionListFilterText").after(o("<button/>")).end().find("button").css("position","absolute").css("top","-1000px").trigger("focus")},loadList:function(t,n,i){n=o(n),"function"==typeof t&&0!==n.length&&l.web.ajax("/wol/li",{dataType:"json"}).done(function(e){n.html(t(e)),i&&i(e)})}}}(jQuery,app),!function(n,i){"use strict";function a(){n("a[data-rsconf][data-lib]").on("click",function(e){e=n(e.target).closest("a"),e.attr("href"),e=e.data();return i.storage.getCookie("syncrsconf")===e.rsconf&&i.storage.getCookie("synclib")===e.lib&&(i.storage.setCookie("syncrsconf",i.storage.getCookie("rsconf")),i.storage.setCookie("synclib",i.storage.getCookie("lib")),i.storage.setCookie("synclang",i.storage.getCookie("lang")),i.storage.setCookie("synclocale",i.storage.getCookie("locale")),i.storage.setCookie("synclangsym",i.storage.getCookie("ckLang")),i.storage.setCookie("synclangscript",i.storage.getCookie("script")),i.storage.setCookie("syncdir",i.storage.getCookie("dir"))),t(e),!0})}function t(e){i.storage.setCookie("rsconf",(e=e||{}).rsconf||i.getRsConfigSymbol()),i.storage.setCookie("lib",e.lib||i.getLibrarySymbol()),i.storage.setCookie("lang",e.lang||i.getLibraryLanguageName()),i.storage.setCookie("locale",e.locale||i.getUILanguage()),i.storage.setCookie("ckLang",e.mepsSymbol||i.getLibraryLanguageSymbol()),i.storage.setCookie("script",e.mepsScript||i.getLibraryLanguageScript()),i.storage.setCookie("dir",e.dir||i.getLibraryDir()),i.storage.setCookie("title",e.title||i.getLibraryTitle()),i.storage.setCookie("privileged",e.privileged||i.getLibraryIsPrivileged())}i.libraryinfo={setCookiesForLibrary:t,setupLibraryInfo:function(){"li"===i.getCommand()&&(i.auth.isLoggedIn()?i.libraryInfoList.loadList(Handlebars.templates.LibraryInfo,".completeList .librarySelection",function(e){var t=n("#langCountTemplate");0<t.length&&(e=e.items.reduce(function(e,t){return!0===t.isScriptVariant?e:e+1},0),t.html(t.html().replaceToken("TotalLanguages",'<span class="languageCount">'+e+"</span>")).removeClass("hidden"),n("#langCount").hide()),i.libraryInfoList.setupFilterAndMRU(i.getMRULibraries()),a()}):(i.libraryInfoList.setupFilterAndMRU(i.getMRULibraries()),a()))}}}(jQuery,app),!function(i,a){"use strict";var t=i("#audioPlayerContainer").find("input"),n=i("#audioContinuousPlayContainer").find("input"),r=i("#rubyContainer").find("input");function o(e){var t=!e&&a.storage.getCookie("rsconf")||a.getRsConfigSymbol(),e=!e&&a.storage.getCookie("lib")||a.getLibrarySymbol();a.web.getJSON(sprintf("/wol/libraryname/%s/%s",t,e)).done(function(e){e.locale=a.getUILanguage(),e.rsconf=a.getRsConfigSymbol(),e.lib=a.getLibrarySymbol(),e.route="li",i("#primaryLibrary").html(Handlebars.templates.LibraryName(e))})}function l(t){var e=a.storage.getCookie("syncrsconf")||a.storage.getCookie("rsconf")||a.getRsConfigSymbol(),n=a.storage.getCookie("synclib")||a.storage.getCookie("lib")||a.getLibrarySymbol();a.web.getJSON(sprintf("/wol/libraryname/%s/%s",e,n)).done(function(e){e.locale=a.getUILanguage(),e.rsconf=a.getRsConfigSymbol(),e.lib=a.getLibrarySymbol(),e.route="sysl",!t&&a.storage.getCookie("syncrsconf")&&a.storage.getCookie("synclib")||(e.libraryName="-"),i("#syncLibrary").html(Handlebars.templates.LibraryName(e).replace("{locale}",a.getLibraryLocale()).replace("{rsconf}",a.getRsConfigSymbol()).replace("{library}",a.getLibrarySymbol()))})}a.pref={setupPreferences:function(){var e;"pref"===a.getCommand()&&(i(".requireJavaScript").removeClass("requireJavaScript"),e=i(".requireCookies"),a.cookiesEnabled()?e.removeClass("requireCookies"):i("#preferencesNoCookies").removeClass("hidden"),i("#fontSizeLarger").on("click",function(){return a.fontSizeManager.increment()&&a.utilities.updateFontSize(!1),!1}),i("#fontSizeSmaller").on("click",function(){return a.fontSizeManager.decrement()&&a.utilities.updateFontSize(!1),!1}),i("#resetPreferences").on("click",function(e){e.preventDefault(),a.storage.removeCookie("locale"),a.storage.removeCookie("rsconf"),a.storage.removeCookie("lib"),a.storage.removeCookie("lang"),a.storage.removeCookie("ckLang"),a.storage.removeCookie("synclocale"),a.storage.removeCookie("syncrsconf"),a.storage.removeCookie("synclib"),a.storage.removeCookie("synclang"),a.storage.removeCookie("audioPlayer"),a.storage.removeCookie("audioContinuousPlay"),a.storage.removeCookie("preferredVideoResolution"),a.storage.removeCookie("prox"),a.storage.removeCookie("rank"),a.storage.removeCookie("fontScale"),a.storage.removeCookie("rb"),o(!0),l(!0),t.prop("checked",t.val()),n.prop("checked",n.val()),i("input[name=videoRes]").val([a.utilities.getVideoResolution()]),i("input[name=p]").val([a.utilities.getSearchProximity()]),i("input[name=r]").val([a.utilities.getSearchRank()]),a.fontSizeManager.reset(),a.utilities.updateFontSize(!1),r.prop("checked",!1)}),i("#savePreferences").on("click",function(e){e.preventDefault(),t.prop("checked")?a.enableFeature("audioPlayer"):a.disableFeature("audioPlayer"),n.prop("checked")?a.enableFeature("audioContinuousPlay"):a.disableFeature("audioContinuousPlay"),a.utilities.setVideoResolution(i("#videoResolutionSelector").find("[name=videoRes]:checked").attr("value")),a.storage.setCookie("prox",i("#proximitySelector").find("[name=p]:checked").attr("value")),a.storage.setCookie("rank",i("#rankSelector").find("[name=r]:checked").attr("value")),a.utilities.updateFontSize(!0),r.prop("checked")?a.enableFeature("rb"):a.disableFeature("rb");e=URI().query(!0).url;e?a.net.redirectForRuby(e):a.loadPage(i("#savePreferences").data("homeUrl"))}),o(),l(),t.prop("checked",a.audioPlayerVisible),n.prop("checked",a.utilities.audioContinuousPlayEnabled),i("input[name=videoRes]").val([a.utilities.getVideoResolution()]),i("input[name=p]").val([a.utilities.getSearchProximity()]),i("input[name=r]").val([a.utilities.getSearchRank()]),a.utilities.updateFontSize(!1),r.prop("checked",a.isFeatureEnabled("rb")))},updatePreferencesRedirect:function(){var e=i("#menuToolsPreferences a, #contentFooterPreferences a"),t=new URI(e.attr("href"));t.setQuery("url",window.location.pathname),e.attr("href",t.toString())}}}(jQuery,app),!function(e,t){"use strict";t.publicationnav={setupPublicationNav:function(){t.utilities.setupAsyncPartialPageLoad({filter:'[href*="/wol/lv/"], [href*="/wol/publication/"], [href*="/wol/library/"]',pageContentObject:e(".materialNav").parent(),successCallback:function(){t.nwtstg.setupFilter(),t.biblenav.setupBibleNav()}})}}}(jQuery,app),!function(n,i){"use strict";function t(){var e=n("[name=glossaryFilter]:checked").data("filter"),t=n("[data-classification]");(e&&0<e.length?t.hide().filter("[data-classification="+e+"]"):t).show(),i.storage.setCookie("glossaryFilter",e)}i.nwtstg={setupFilter:function(){var e;"nwtstg"===i.getPubSym()&&(e=i.storage.getCookie("glossaryFilter")||"",e=n("<ul/>").attr("id","glossaryFilter").append(n("<span/>").attr("id","glossaryFilterLabel").text(n("#showGlossaryItemsText").val())).append(n("<li/>").append(n("<label/>").append(n('<input type="radio"/>').attr("name","glossaryFilter").data("filter","").on("change",t).prop("checked",""===e)).append(n("<span/>").text(n("#allGlossaryItemsText").val())))).append(n("<li/>").append(n("<label/>").append(n('<input type="radio"/>').attr("name","glossaryFilter").data("filter","154").on("change",t).prop("checked","154"===e)).append(n("<span/>").text(n("#biblicalTermsText").val())))).append(n("<li/>").append(n("<label/>").append(n('<input type="radio">').attr("name","glossaryFilter").data("filter","155").on("change",t).prop("checked","155"===e)).append(n("<span/>").text(n("#nonBiblicalTermsText").val())))),0===n("#glossaryFilter").length&&n(".pageList").after(e),t())}}}(jQuery,app),!function(i){i(".collection_toggle").on("click",function(){i(".collection_container").hide(),("collection-All"===i(this).data("key")?i(".collection_container"):i("#"+i(this).data("key"))).show(),i(".collection_toggle").removeClass("selected"),i(this).addClass("selected")}),i(".font_toggle").on("click",function(){i(".data").attr("class","data "+i(this).data("key")),i(".font_toggle").removeClass("selected"),i(this).addClass("selected"),i("#fontweight").text(i(this).data("key"))}),i("#testFontSelector").on("change",function(){var e=this.files[0],n=new FileReader;n.addEventListener("load",function(){var e=document.getElementById("testFontStyle");for(e?e.parentNode.removeChild(e):(e=document.createElement("style")).setAttribute("id","testFontStyle");e.lastChild;)e.removeChild(e.lastChild);var t='@font-face{font-family:"Test Font";src:url('+n.result+");}";e.type="text/css",e.stylesheet?e.stylesheet.cssText=t:(t=document.createTextNode(t),e.appendChild(t)),i("head").append(e)}),n.readAsDataURL(e)}),i("#fontTestSize").on("change",function(){i("#fontTestText").css("font-size",i(this).val()+"pt")}),i("[name=fontTestDirection]").on("change",function(){i("#fontTestText").css("direction",i(this).val())}),i(".stringsReader").closest("#article").css("max-width","100%")}(jQuery),!function(n,a){"use strict";a.synchronizeselection={setupSynchronizeSelection:function(){function e(){var e,t,i;e=a.getLibrarySymbol(),(t=a.getRsConfigSymbol())!==a.storage.getCookie("syncrsconf")&&e!==a.storage.getCookie("synclib")&&n("a[data-rsconf="+t+"][data-lib="+e+"]").remove(),a.libraryInfoList.setupFilterAndMRU(a.getMRULibraries()),n("a[data-rsconf][data-lib]").on("click",function(e){var e=n(e.target).closest("a").data(),t=URI().query(!0).url,t=/\/wol\/sy[a-z]{2}\//.test(t)?function(e,t){a.storage.trySetCookie(e,t)}:function(e,t){a.storage.setCookie(e,t)};t("syncrsconf",e.rsconf),t("synclib",e.lib),t("synclang",e.lang),t("synclocale",e.locale),t("synclangsym",e.mepsSymbol),t("synclangscript",e.mepsScript),t("syncdir",e.dir),a.storage.trySetCookie("rsconf",a.getRsConfigSymbol()),a.storage.trySetCookie("lib",a.getLibrarySymbol()),a.storage.trySetCookie("lang",a.getLibraryLanguageName()),a.storage.trySetCookie("locale",a.getLibraryLocale()),a.storage.trySetCookie("ckLang",a.getContentLibraryLanguageSymbol()),a.storage.trySetCookie("dir",a.isContentLibraryRTL()?"rtl":"ltr"),a.storage.trySetCookie("script",a.getContentLibraryLanguageScript())}),(i=a.isFeatureEnabled("rb"))&&n("a[data-rsconf][data-lib][data-rb=yes]").each(function(){var e=this.getAttribute("href"),t=this.getAttribute("data-lib"),n=a.net.convertSymbolToFromRb(t,i);this.setAttribute("href",e.replace("/"+t+"/","/"+n+"/"))})}"sysl"===a.getCommand()&&(a.auth.isLoggedIn()?a.libraryInfoList.loadList(Handlebars.templates.SynchronizeSelection,".completeList .librarySelection",e):e())}}}(jQuery,app),!function(a){"use strict";function r(e,t){var e=e.split("-"),n=2<=e.indexOf("rb");return n&&t||(n&&!t?e.splice(e.lastIndexOf("rb"),1):(n||t)&&!n&&t&&e.splice(2,0,"rb")),e.join("-")}function e(e){var t=!1,n=(e=e?(t=!0,URI(e)):URI(),a.isFeatureEnabled("rb")&&a.utilities.rubyAvailable()),i=a.getContentLibrarySymbol(),n=r(i,n);i!==n&&(e=o(e,i,n),t=!0),t&&(e=a.url.simplifyHighlightFragment(e.toString()),a.loadPage(e))}function o(e,t,n){var i=e.path().split("/");return i[i.lastIndexOf(t)]=n,e.path(i.join("/")),e}a.net={doRubyRedirect:function(e,t){var n=a.getContentLibrarySymbol(),t=r(n,t);n!==t&&(e=o(e,n,t),a.loadPage(e))},redirectForRuby:e,redirectRubyHome:function(){"h"===a.getCommand()&&a.isFeatureSet("rb")&&e()},convertSymbolToFromRb:r}}((jQuery,app)),!function(i,a){"use strict";function r(){var e=i(this).parents(".banner").addBack(".banner"),t=e.find(".bannerDismissible");t.data("saveDismiss")&&(t=t.data("dismissId"),a.enableFeature(t)),e.remove()}a.banner={setupBanner:function(){var e=i("#banner");e.on("click",".bannerDismissible .icon",r),e.find(".banner").each(function(e,t){var n;n=(t=i(t=t)).find(".bannerDismissible").data("dismissId"),a.isFeatureEnabled(n)?r.call(t):t.removeClass("bannerHidden")})}}}(jQuery,app),!function(n,i){"use strict";function a(e,t){return n.ajax(e,t||{}).fail(function(e){401===e.status&&i.auth.showModalRefreshDialog()})}i.web={ajax:a,cachedScript:function(e,t){return a(e,t=n.extend(t||{},{dataType:"script",cache:!0}))},getJSON:function(e,t){return a(e,t=n.extend(t||{},{dataType:"json"}))},getNoSessionDialogJSON:function(e,t){return n.getJSON(e,t||{})},SESSION_EXPIRED_CODE:401}}(jQuery,app),"object"!=typeof app&&(app={}),!function(t){"use strict";t.pendingCommands={setupPendingCommandsHandler:function(){var e;"showModalLoginDialog"===sessionStorage.getItem("pendingCommand")&&(e=t.auth.showModalLoginDialog,sessionStorage.removeItem("pendingCommand"),e())},setPendingCommand:function(e){sessionStorage.setItem("pendingCommand",e)}}}(app),!function(p,h){"use strict";function g(){return"yes"===h.storage.getCookie("hasJwt")}function e(){var e,t,n,i,a,r,o,l=p("#footerLogin"),s=p("#headerLogin"),u=p("#headerRefresh"),c=p("#headerLogout"),d=p("#userStatus");h.storage.getCookie("hasUser")||g()?(d.removeClass("hidden").show(),g()?(p(".userName").text(function(){var e=JSON.parse(h.storage.getCookie("id")||"{}");if(null!=e.name&&h.validator.containsNoTags(e.name))return e.name}()),s.hide(),c.removeClass("hidden").show(),u.removeClass("hidden").show(),l.hide(),e=h.storage.getCookie("locale"),t=h.storage.getCookie("rsconf"),n=h.storage.getCookie("lib"),i=h.storage.getCookie("privileged"),a=h.storage.getCookie("ckLang"),null!=e&&null!=t&&null!=n&&"true"===i&&(i=h.getRsConfigSymbol(),r=h.getLibrarySymbol(),o=h.getLibraryLanguageSymbol(),i!==t&&r!==n&&o===a&&(i=URI("").path(sprintf("/%s/wol/h/%s/%s",e,t,n)),h.storage.getCookie("title")&&(r=p("#returnToLibrary").val(),o=p("<a />").attr("href",i).attr("dir",h.storage.getCookie("dir")).addClass("meps-symbol-"+h.storage.getCookie("ckLang")).addClass("ms-"+h.storage.getCookie("script")).attr("lang",h.storage.getCookie("locale")).data("lang",h.storage.getCookie("ckLang")).text(h.storage.getCookie("title")),a=r.replaceToken(wolConstants.TOKENS_LibraryName,o[0].outerHTML),p("#cookieLibrary").append(a),p(".hasUserStatus").addClass("hasReturnTo"))))):(s.removeClass("hidden").show(),u.hide(),c.hide(),l.hide())):(p(".hasUserStatus").removeClass("hasUserStatus"),d.hide(),s.hide(),u.hide(),c.hide(),l.removeClass("hidden").show())}function n(){h.auth.loginState&&!g()&&h.auth.showModalRefreshDialog(),h.auth.loginState=g()}h.auth={isLoggedIn:g,getUsersEmail:function(){var e=JSON.parse(h.storage.getCookie("id")||"{}");if(null!=e.email&&h.validator.containsNoTags(e.email))return e.email},getPersistId:function(){var e=JSON.parse(h.storage.getCookie("id")||"{}");return null!=e.persist&&!!e.persist},togglePersistId:function(e){var t=JSON.parse(h.storage.getCookie("id")||"{}");t.persist=e||!t.persist,h.storage.setCookie("id",JSON.stringify(t))},showModalLoginDialog:function(){h.modal.showModal("/wol/loginform",!1,!0)},showModalRefreshDialog:function(){h.modal.showModal("/wol/refresh",!0)},setupAuth:function(){var t;e(),(t=p(".authMenu")).on("click",function(){var e=t.find(".authMenuOptions");parseInt(e.css("left"),10)?e.css("left","auto"):e.css("left","-9999px")}),p("#userStatusLabel").on("click",function(){var e;return g()&&(h.storage.setCookie("hasUser","yes"),(e=p("#userControls")).hasClass("hidden")?e.removeClass("hidden").show():e.toggle(0,function(){return!1})),!1}),p(window).on("click",function(e){p(e.target).parents(".currentUser").length||p("#userControls").hide()}),p(".userLoginLink").on("click",function(){return h.auth.showModalLoginDialog(),!1}),p(".userRefreshLink").on("click",function(){return h.user.login(!0),!1}),p(".userLogoutLink").on("click",function(){return h.user.logout(),!1}),void 0===h.auth.loginState&&(h.auth.loginState=g(),window.addEventListener("focus",n)),!h.getLibraryIsPrivileged()||null!=h.storage.getCookie("rsconf")&&null!=h.storage.getCookie("lib")||h.libraryinfo.setCookiesForLibrary()}}}(jQuery,app),"object"!=typeof app&&(app={}),!function(){"use strict";app.user={login:function(e,t){var n="/auth/login";e&&(e=window.location.href.replace(window.location.origin,""),n+="?url="+encodeURIComponent(e)),t&&(n+="&username="+t),window.location=n},logout:function(){window.location="/auth/logout"}}}(),!function(r,o){"use strict";var l;function t(){return!!o.getShareBaseUrl()}function n(){var e=s();return(o.iOS||o.iPadOS||o.Android)&&window.navigator&&window.navigator.share?window.navigator.share(e).catch(function(){}):(r("#shareForm img.sharePublicationImage").attr("src",o.getContentThumbnailUrl()),r("#shareForm input.shareLink").val(e.url),r("#shareForm .shareContentTitle").html(e.contentTitle),""!==e.parentTitle?(r("#shareForm .shareContentParentTitle").html(e.parentTitle),r("#shareForm .shareContentParentTitle").show()):r("#shareForm .shareContentParentTitle").hide(),o.modal.showForm(r("#shareForm"),!1,!0)),!1}function s(){var e=o.getContentTitle(),t=(u()&&o.url.getVerseRangeFromUrl().startChapter&&l.value&&(e=l.value),o.utilities.stripHtml(e)),n=o.getContentParentTitle(),i=o.getContentThumbnailUrl();return{url:function(){var e=o.getShareBaseUrl(),t=0===e.indexOf("https://");t||(e="https://"+window.location.hostname+"/wol/finder"+e);e=new URI(e);u()?(t?function(e){var t=o.url.getVerseRangeFromUrl();{var n,i;t.startChapter&&(n=t.startBook+o.utilities.leftPad(t.startChapter,3),i=0<t.startVerse?t.startVerse:0,n+=o.utilities.leftPad(i,3),t.startChapter===t.endChapter&&t.startVerse===t.endVerse||(i=t.startBook+o.utilities.leftPad(t.endChapter,3),t=0<t.endVerse?t.endVerse:0,n+="-"+i+o.utilities.leftPad(t,3)),e.setQuery(wolConstants.QUERY_Bible,n))}}:function(e){var t=o.url.getVerseRangeFromUrl();t.startChapter&&e.setQuery(wolConstants.QUERY_BibleChapter,t.startChapter);-1!==t.startVerse&&e.setQuery(wolConstants.QUERY_BibleVerse,t.startVerse);t.startChapter!==t.endChapter?(e.setQuery(wolConstants.QUERY_EndBibleChapter,t.endChapter),e.setQuery(wolConstants.QUERY_EndBibleVerse,t.endVerse)):t.startVerse!==t.endVerse&&e.setQuery(wolConstants.QUERY_EndBibleVerse,t.endVerse)})(e):a()?(t?function(e){var t=o.url.getParagraphRangeFromUrl();{var n;t&&(n=t.stPar,t.edPar>t.stPar&&(n=n+"-"+t.edPar),e.setQuery(wolConstants.QUERY_Par,n))}}:function(e){var t=o.url.getParagraphRangeFromUrl();t&&(e.setQuery(wolConstants.QUERY_Paragraph,t.stPar),t.stPar!==t.edPar&&e.setQuery(wolConstants.QUERY_EndParagraph,t.edPar))})(e):o.getShareType()===wolConstants.SHARETYPE_DailyText&&function(e){{var t;o.getTodayDate()||(t=o.utilities.getDateString(new Date),e.setQuery(wolConstants.QUERY_Date,t))}}(e);return e.toString()}(),text:t,title:t,contentTitle:e,thumbnailUrl:i,parentTitle:n}}function u(){return o.getShareType()===wolConstants.SHARETYPE_Bible}function a(){return o.getShareType()===wolConstants.SHARETYPE_Document}o.share={canSharePage:t,getShareCaption:function(e){var t=s(),n=t.contentTitle,i=o.highlightManager.getHighlightedElements(),a=(a=o.utilities.rubyVisible())?function(e){return r(e).html()}:function(e){return r(e).text()},a=(i=(i=r.map(i,a).map(function(e){return e.trim()+"<br>\n"}).join("")).replace(/[+*\u200B]/g,""),t.url.replace(/&/g,"&amp;")),a=(i+='<a href="'+a+'">'+a+"</a>",l.value);u()?(a=a||n,e(i=(o.isLibraryRTL()?"":"")+"("+a+") "+i)):e(i="*** "+((a=a||t.parentTitle)?a+" "+n:n)+" ***<br>\n"+i)},openShareDialog:n,sendEmail:function(){var e=s(),t=encodeURIComponent(e.title),e=encodeURIComponent(e.title+"\r\n\r\n"+e.url);window.location.href="mailto:?subject="+t+"&body="+e},setupShare:function(){var e=r("#shareButton, #shareButtonFooter");e.off("click"),t()?(e.on("click",n),e.removeClass("hidden")):e.addClass("hidden"),l||((l=document.createElement("input")).id="citationTitle",l.type="hidden",l.value="",document.body.appendChild(l))},updateCitationTitle:function(){var t,e,n;l.value="",(u()||a())&&0<o.highlightManager.getHighlightedElements().length&&(t=function(e){l.value=e},e=o.highlightManager.getHighlightedElements(),n=o.utilities.rubyVisible(),(e=o.utilities.getFirstActionableIdInScope(!1,e))&&"v"===e.charAt(0)?o.api.getBibleCitationTitle(n,function(e){t(e)}):o.api.getDocumentCitationTitle(n,function(e){t(e)}))}}}(jQuery,app),!function(o){"use strict";o.api={getBibleCitationTitle:function(e,t){var n,i,a,r=o.url.getVerseRangeFromUrl();r.startChapter?(r=r,e=e,n=o.getContentRsConfigSymbol(),i=o.getContentLibrarySymbol(),a=o.getPubSym(),n="/wol/api/v1/citation/"+n+"/"+i+"/bible/",n+=[r.startBook,r.startChapter,r.startVerse,r.endBook,r.endChapter,r.endVerse].join("/"),(i=new URI(n)).setQuery("pub",a),e&&i.setQuery("snip",e),o.web.ajax(i.toString()).done(function(e){t(e.citation)}).fail(function(){t("")})):t("")},getDocumentCitationTitle:function(e,t){var n,i,a=o.url.getParagraphRangeFromUrl();a=a,e=e,n="/wol/api/v1/citation/"+o.getContentRsConfigSymbol()+"/"+o.getContentLibrarySymbol()+"/publication/",i=[o.getDID()],a&&i.push(a.stPar,a.edPar),n+=i.join("/"),a=new URI(n),e&&a.setQuery("snip",e),o.web.ajax(a.toString()).done(function(e){t(e.citation)}).fail(function(){t("")})}}}((jQuery,app)),!function(i,a){"use strict";function n(){var e=o(),e={endpoint:a.getInsightApiUrl(),system:"wol",contextID:e,contextLanguageID:a.getLibraryLanguageSymbol()};return e.contextParams={pathCommand:a.getCommand(),rsconf:a.getRsConfigSymbol(),lib:a.getLibrarySymbol()},s()&&(e.contextParams.toRsconf=a.getContentRsConfigSymbol(),e.contextParams.toLib=a.getContentLibrarySymbol()),e}function r(e,t){t.query=e.q,void 0!==e.fc&&0<e.fc.length?(t.filter="byType",t.types=e.fc):t.filter="all",t.trigger=function(e){switch(e){case wolConstants.QUERY_SEARCH_TRIGGER_FieldSubmit:return"fieldSubmit";case wolConstants.QUERY_SEARCH_TRIGGER_ButtonSubmit:return"buttonSubmit";case wolConstants.QUERY_SEARCH_TRIGGER_NavWithoutLink:return"navigationWithoutLink";case wolConstants.QUERY_SEARCH_TRIGGER_ChangeFilter:return"changeFilter";case wolConstants.QUERY_SEARCH_TRIGGER_ChangeSort:return"changeSort";case wolConstants.QUERY_SEARCH_TRIGGER_PaginationLink:return"paginationLink";default:return"navigationWithLink"}}(e.st),t.filterSelectedBeforeSearch=!1,t.scope=function(e){switch(e){case"sen":return"sentence";case"doc":return"document";default:return"paragraph"}}(e.p);var n=e.r;t.sort="occ"===n?"rel":n,t.page=Number(e.pg||1)}function o(){if(a.getBookNumber()&&a.getChapterNumber())return"bc-"+(a.getBookNumber()+a.utilities.leftPad(a.getChapterNumber(),3))+"_"+a.getPubSym();if(a.getDID())return"pa-"+a.getDID();if(a.getIssueDate()&&a.getIssueSymbol())return"pi-"+a.getIssueSymbol()+"_"+a.getIssueDate();if("gallery"===a.getCommand()&&a.getPubSym())return t="bible:"+a.getPubSym()+":media",(e=a.getBookNumber())&&(t+=":"+e),t;if(a.utilities.isBibleNav()){var e=a.getBookNumber(),t=a.getPubSym();if(e)return"bb-"+e+"_"+t;if(a.utilities.isDefaultBible())return"wol:biblenav";if(t)return"pub-"+a.getPubSym()}else{if(a.getPubSym())return"pub-"+a.getPubSym();if(a.getTodayWeek())return"dated-material:"+new Date(a.getTodayDate()).toISOString().substring(0,10)+":meetings";if(a.getTodayDate())return"dated-material:"+new Date(a.getTodayDate()).toISOString().substring(0,10)+":daily-text";if("h"===a.getCommand())return"wol:home";if("pref"===a.getCommand())return"wol:settings";if("li"===a.getCommand())return"wol:library-select";if("bibles"===a.getCommand())return"wol:biblesel";if("s"===a.getCommand())return"wol:search"}return null}function l(e){switch(e){case wolConstants.QUERY_SEARCH_TRIGGER_ChangeFilter:case wolConstants.QUERY_SEARCH_TRIGGER_ChangeSort:case wolConstants.QUERY_SEARCH_TRIGGER_PaginationLink:return"refineSearch";default:return"search"}}function s(){switch(a.getCommand()){case"bsync":case"dsync":case"dtsync":case"msync":return 1;default:return}}a.components={setupClientComponents:function(){var t,e;window.ClientComponents&&(e=new(t=window.ClientComponents).ConfigBuilder,a.getInsightApiUrl()&&o()&&(e.setInsightConfigProvider(n),e.enableInsightEvents(),e.setCanAccessCookieDataType(e=>a.cookieManager.canPersistType(e))),(e=e.getConfiguration()).components.Root=!0,e.components.FlipbookGallery=!0,t.configure(e),t.vendor.$(document).ready(function(){t.initialize(t.vendor.$("body"));var e=t.insight.makeEvent(function(){if(s())return"contentLanguageChange";return"s"!==a.getCommand()?"pageLoad":l(i("#searchTrigger").val())}());e.addParams(function(){var e={};s()&&(e={from:a.getLibraryLanguageSymbol(),to:a.getContentLibraryLanguageSymbol()});{var t,n;a.isSearchResultsPage()&&(t={q:URI().query(!0).q,p:i("#proximitySelector").find("[name=p]").val(),r:i("#rankSelector").find("[name=r]").val(),st:i("#searchTrigger").val(),pg:Number(i("#searchResultsPageNumber").val())},a.isSubsetSelectedSearchCategories()&&(t.fc=a.getSelectedSearchCategories()),r(t,e),e.offset=Number(i("#searchResultsOffset").val()),e.total={value:Number(i("#searchResultsTotal").val()),relation:"eq"},""!==document.referrer&&(t=new URI(document.referrer).query(!0),e.previousSearch={},e.previousSearch.event=l(t.st),n=Number(t.pg||1),e.previousSearch.offset=Number(i("#searchResultsPageSize").val())*Number(n-1),r(t,e.previousSearch)))}return e}()),e.send()}))}}}(jQuery,app),$(function(){"use strict";app.utilities.multiSegmentSelectionEnabled()&&(app.highlightManager=new wolLib.MultiSegmentHighlightManager(app)),app.net.redirectRubyHome(),app.banner.setupBanner(),app.home.setupDailyText(),app.pref.setupPreferences(),app.libraryinfo.setupLibraryInfo(),app.synchronizeselection.setupSynchronizeSelection(),app.images.placeholders(),app.auth.setupAuth(),app.images.setupImages(),app.utilities.isGalleryNav()&&app.gallery.initGallery(),app.gallery.setupGalleryMediaReload(),app.gallery.setGalleryItemChapterNumberFromUrl(window.location.href),app.gallery.initGalleryItem(!1,!0),app.scrollHandler.activateSubheadingTracking(),$("#audioMultiselect").val()&&$("#regionMain").on("pointerup.selectedtext",function(){var e=app.utilities.getSelectedText();e&&!e.collapsed&&0<e.toString().length?$(document).trigger("textselected"):$(document).trigger("textunselected")}),app.layout.setupSyncLinks(),app.layout.setupNextSearchHitButton(),app.menu.setupMenu(),app.documentMenu.makeDocumentMenu(),app.layout.applyFontSize(),app.studyPane.processStudyUrlFragment(),app.layout.applyStudyPaneCollapse(),app.layout.setupSecondaryNav(),app.layout.displaySyncState(),app.layout.setupScrollHandler(),app.layout.setupResizeHandler(),app.layout.setupKeymapping(),app.layout.setupCSSAnimationHandler(),app.layout.setupFootnotesAndEndnotes(),app.video.setupVideoPlaceHolder(),app.bibleAudioCheck.checkBibleAudio(),app.layout.contentPositionAdjuster(),app.documentMenu.positionMenu(),$(".searchControlContainer input[name=p]").val([app.utilities.getSearchProximity()]),$(".searchControlContainer input[name=r]").val([app.utilities.getSearchRank()]);var e=$(".blessPanel #libGeneratedDate");function t(){app.cookieManager.init(app.getLibraryLanguageSymbol()),$("#privacySettingsButton").removeClass("hidden").on("click",function(){return app.cookieManager.showSettings(),!1}),app.components.setupClientComponents(),app.layout.setupStudyPaneCollapse(),app.layout.setupSecondaryNavToggle(),setTimeout(function(){app.layout.sideBarSizing()},0),app.studyPane.processSelectUrlFragment(),app.images.setupLightboxItems(),$(".alternatePresentation").on("click",this,function(){return app.images.showAltPresentationLightbox(this)}),app.images.hasLightbox()&&$(".article img").not(".noLightbox, .suppressZoom, .gen-flipbook, a > img:not(.lightbox)").on("click",this,function(){return!app.images.callLightbox(this)}).css("cursor","pointer"),app.jumpHighlight.initialJump(),app.share.updateCitationTitle(),app.scrollHandler.addBottomPadding($("#subheadings").find("a").last()),app.pendingCommands.setupPendingCommandsHandler(),app.modal.setupModals(),app.utilities.isSignLanguage()?app.video.setupSharedPlayer():app.media.audioNavigationSetup(),app.media.initMedia(),app.video.setupEmbeddedVideoPlayer($("#article")),$("textarea,#article.document input").prop("disabled",!0)}0<e.length&&(e=e.data("seconds"),24<(Date.now()-1e3*e)/1e3/60/60&&$(".blessPanel .blessStatusApprovalDataWarning").removeClass("hidden")),app.studyPane.init(),app.tabs.wireTabs($(".tabItem")),e=app.isBibleDocument()?"[id^=v]":"[id^=p]",$(".article:not(.contentOnly, .search)").find(e).on("click",function(e){var t;0<$(e.target).closest("a, input, img, label, textarea").length||0<$(e.target).find("input,textarea").length||((t=app.utilities.getSelectedText())&&!t.collapsed&&0<t.toString().length||(t=$(e.currentTarget).data("pid")||e.currentTarget.id,app.highlightManager.enabled&&(app.highlightManager.toggleHighlight(t),app.url.matchUrlToHighlight(),app.share.updateCitationTitle())))}),app.highlightManager.setupHighlightDismiss(),$(window).on("hashchange",function(e){app.jumpHighlight.internalLinkHandler(e),app.url.setFragmentToPropagate()}),$("#article").hasClass("document")?$("#secondaryNavContent").find(".documentNavigation a").on("click",function(e){return app.layout.toggleNavigation(),app.jumpHighlight.hashJump(e),!1}):$("#secondaryNavContent .verseItem, #secondaryNavContent .documentNavigation a").on("click",function(e){var t;return app.layout.toggleNavigation(),app.highlightManager.removeHighlight(!0),app.utilities.isContentLibraryHTML5()?app.highlightManager.highlight($(this).attr("href"),function(){app.jumpHighlight.hashJump(e)}):(t=app.getVerseNumberFromIDAttribute($(this).attr("href")),app.highlightManager.highlightBibleVerseAsync(t,function(){app.jumpHighlight.hashJump(e)})),!1}),document.addEventListener?document.addEventListener("click",function(e){app.lastClickEvent=e},!0):document.attachEvent&&document.attachEvent("onclick",function(e){app.lastClickEvent=e}),$("html, body").on("wheel touchmove",function(){return $("html, body").stop(!0,!1),!0}),$(document).on("texthighlighted",function(e){0===$("#playerplaylist").filter(":visible").length&&(app.contextMenu.drawMenu(e),$(document).one("jumptoend",function(){app.contextMenu.drawMenu(e)}))}),$(document).on("textunhighlighted",function(){app.contextMenu.removeContextMenu(!0,!0)}),app.highlightManager.highlightUrlFragment(),app.url.setFragmentToPropagate(),app.url.disableDisabledNextPrevButtons(),app.utilities.isContentLibraryHTML5()&&$(document).on("texthighlighted textunhighlighted",function(){app.url.matchUrlToHighlight()}),app.gallery.setupCitationsWithMedia(),Handlebars.partials=Handlebars.templates,app.setupTooltip($(".article:not(.bible)")),app.setupTooltip($("#study")),app.layout.setupLibraryColor(),app.search.setupSearch(),app.text.setupText(),app.utilities.externalizeLinks(),app.nwtstg.setupFilter(),app.biblenav.setupBibleNav(),app.publicationnav.setupPublicationNav(),app.share.setupShare(),"complete"===document.readyState?t():$(window).on("load",t)});